var lk=Object.defineProperty,uk=Object.defineProperties;var ck=Object.getOwnPropertyDescriptors;var Qa=Object.getOwnPropertySymbols;var vg=Object.prototype.hasOwnProperty,yg=Object.prototype.propertyIsEnumerable;var gg=(t,e,n)=>e in t?lk(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,et=(t,e)=>{for(var n in e||(e={}))vg.call(e,n)&&gg(t,n,e[n]);if(Qa)for(var n of Qa(e))yg.call(e,n)&&gg(t,n,e[n]);return t},dt=(t,e)=>uk(t,ck(e));var Ya=(t,e)=>{var n={};for(var r in t)vg.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&Qa)for(var r of Qa(t))e.indexOf(r)<0&&yg.call(t,r)&&(n[r]=t[r]);return n};const hk=function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerpolicy&&(s.referrerPolicy=i.referrerpolicy),i.crossorigin==="use-credentials"?s.credentials="include":i.crossorigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}};hk();var j={exports:{}},me={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var fa=Symbol.for("react.element"),dk=Symbol.for("react.portal"),fk=Symbol.for("react.fragment"),pk=Symbol.for("react.strict_mode"),mk=Symbol.for("react.profiler"),gk=Symbol.for("react.provider"),vk=Symbol.for("react.context"),yk=Symbol.for("react.forward_ref"),wk=Symbol.for("react.suspense"),Sk=Symbol.for("react.memo"),_k=Symbol.for("react.lazy"),wg=Symbol.iterator;function Ek(t){return t===null||typeof t!="object"?null:(t=wg&&t[wg]||t["@@iterator"],typeof t=="function"?t:null)}var C0={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},N0=Object.assign,A0={};function Ds(t,e,n){this.props=t,this.context=e,this.refs=A0,this.updater=n||C0}Ds.prototype.isReactComponent={};Ds.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};Ds.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function x0(){}x0.prototype=Ds.prototype;function Of(t,e,n){this.props=t,this.context=e,this.refs=A0,this.updater=n||C0}var Uf=Of.prototype=new x0;Uf.constructor=Of;N0(Uf,Ds.prototype);Uf.isPureReactComponent=!0;var Sg=Array.isArray,D0=Object.prototype.hasOwnProperty,Vf={current:null},L0={key:!0,ref:!0,__self:!0,__source:!0};function b0(t,e,n){var r,i={},s=null,o=null;if(e!=null)for(r in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(s=""+e.key),e)D0.call(e,r)&&!L0.hasOwnProperty(r)&&(i[r]=e[r]);var a=arguments.length-2;if(a===1)i.children=n;else if(1<a){for(var l=Array(a),u=0;u<a;u++)l[u]=arguments[u+2];i.children=l}if(t&&t.defaultProps)for(r in a=t.defaultProps,a)i[r]===void 0&&(i[r]=a[r]);return{$$typeof:fa,type:t,key:s,ref:o,props:i,_owner:Vf.current}}function Tk(t,e){return{$$typeof:fa,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function Ff(t){return typeof t=="object"&&t!==null&&t.$$typeof===fa}function kk(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var _g=/\/+/g;function oh(t,e){return typeof t=="object"&&t!==null&&t.key!=null?kk(""+t.key):e.toString(36)}function Il(t,e,n,r,i){var s=typeof t;(s==="undefined"||s==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(s){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case fa:case dk:o=!0}}if(o)return o=t,i=i(o),t=r===""?"."+oh(o,0):r,Sg(i)?(n="",t!=null&&(n=t.replace(_g,"$&/")+"/"),Il(i,e,n,"",function(u){return u})):i!=null&&(Ff(i)&&(i=Tk(i,n+(!i.key||o&&o.key===i.key?"":(""+i.key).replace(_g,"$&/")+"/")+t)),e.push(i)),1;if(o=0,r=r===""?".":r+":",Sg(t))for(var a=0;a<t.length;a++){s=t[a];var l=r+oh(s,a);o+=Il(s,e,n,l,i)}else if(l=Ek(t),typeof l=="function")for(t=l.call(t),a=0;!(s=t.next()).done;)s=s.value,l=r+oh(s,a++),o+=Il(s,e,n,l,i);else if(s==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function Xa(t,e,n){if(t==null)return t;var r=[],i=0;return Il(t,r,"","",function(s){return e.call(n,s,i++)}),r}function Rk(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var Ut={current:null},Cl={transition:null},Ik={ReactCurrentDispatcher:Ut,ReactCurrentBatchConfig:Cl,ReactCurrentOwner:Vf};me.Children={map:Xa,forEach:function(t,e,n){Xa(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return Xa(t,function(){e++}),e},toArray:function(t){return Xa(t,function(e){return e})||[]},only:function(t){if(!Ff(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};me.Component=Ds;me.Fragment=fk;me.Profiler=mk;me.PureComponent=Of;me.StrictMode=pk;me.Suspense=wk;me.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Ik;me.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=N0({},t.props),i=t.key,s=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(s=e.ref,o=Vf.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var a=t.type.defaultProps;for(l in e)D0.call(e,l)&&!L0.hasOwnProperty(l)&&(r[l]=e[l]===void 0&&a!==void 0?a[l]:e[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){a=Array(l);for(var u=0;u<l;u++)a[u]=arguments[u+2];r.children=a}return{$$typeof:fa,type:t.type,key:i,ref:s,props:r,_owner:o}};me.createContext=function(t){return t={$$typeof:vk,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:gk,_context:t},t.Consumer=t};me.createElement=b0;me.createFactory=function(t){var e=b0.bind(null,t);return e.type=t,e};me.createRef=function(){return{current:null}};me.forwardRef=function(t){return{$$typeof:yk,render:t}};me.isValidElement=Ff;me.lazy=function(t){return{$$typeof:_k,_payload:{_status:-1,_result:t},_init:Rk}};me.memo=function(t,e){return{$$typeof:Sk,type:t,compare:e===void 0?null:e}};me.startTransition=function(t){var e=Cl.transition;Cl.transition={};try{t()}finally{Cl.transition=e}};me.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")};me.useCallback=function(t,e){return Ut.current.useCallback(t,e)};me.useContext=function(t){return Ut.current.useContext(t)};me.useDebugValue=function(){};me.useDeferredValue=function(t){return Ut.current.useDeferredValue(t)};me.useEffect=function(t,e){return Ut.current.useEffect(t,e)};me.useId=function(){return Ut.current.useId()};me.useImperativeHandle=function(t,e,n){return Ut.current.useImperativeHandle(t,e,n)};me.useInsertionEffect=function(t,e){return Ut.current.useInsertionEffect(t,e)};me.useLayoutEffect=function(t,e){return Ut.current.useLayoutEffect(t,e)};me.useMemo=function(t,e){return Ut.current.useMemo(t,e)};me.useReducer=function(t,e,n){return Ut.current.useReducer(t,e,n)};me.useRef=function(t){return Ut.current.useRef(t)};me.useState=function(t){return Ut.current.useState(t)};me.useSyncExternalStore=function(t,e,n){return Ut.current.useSyncExternalStore(t,e,n)};me.useTransition=function(){return Ut.current.useTransition()};me.version="18.1.0";j.exports=me;var Be=j.exports,sd={},Bf={exports:{}},ln={},P0={exports:{}},M0={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(M,Y){var X=M.length;M.push(Y);e:for(;0<X;){var we=X-1>>>1,S=M[we];if(0<i(S,Y))M[we]=Y,M[X]=S,X=we;else break e}}function n(M){return M.length===0?null:M[0]}function r(M){if(M.length===0)return null;var Y=M[0],X=M.pop();if(X!==Y){M[0]=X;e:for(var we=0,S=M.length,R=S>>>1;we<R;){var I=2*(we+1)-1,W=M[I],$=I+1,ne=M[$];if(0>i(W,X))$<S&&0>i(ne,W)?(M[we]=ne,M[$]=X,we=$):(M[we]=W,M[I]=X,we=I);else if($<S&&0>i(ne,X))M[we]=ne,M[$]=X,we=$;else break e}}return Y}function i(M,Y){var X=M.sortIndex-Y.sortIndex;return X!==0?X:M.id-Y.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var o=Date,a=o.now();t.unstable_now=function(){return o.now()-a}}var l=[],u=[],c=1,h=null,d=3,v=!1,p=!1,_=!1,L=typeof setTimeout=="function"?setTimeout:null,m=typeof clearTimeout=="function"?clearTimeout:null,f=typeof setImmediate!="undefined"?setImmediate:null;typeof navigator!="undefined"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function g(M){for(var Y=n(u);Y!==null;){if(Y.callback===null)r(u);else if(Y.startTime<=M)r(u),Y.sortIndex=Y.expirationTime,e(l,Y);else break;Y=n(u)}}function E(M){if(_=!1,g(M),!p)if(n(l)!==null)p=!0,Je(k);else{var Y=n(u);Y!==null&&Ze(E,Y.startTime-M)}}function k(M,Y){p=!1,_&&(_=!1,m(N),N=-1),v=!0;var X=d;try{for(g(Y),h=n(l);h!==null&&(!(h.expirationTime>Y)||M&&!ye());){var we=h.callback;if(typeof we=="function"){h.callback=null,d=h.priorityLevel;var S=we(h.expirationTime<=Y);Y=t.unstable_now(),typeof S=="function"?h.callback=S:h===n(l)&&r(l),g(Y)}else r(l);h=n(l)}if(h!==null)var R=!0;else{var I=n(u);I!==null&&Ze(E,I.startTime-Y),R=!1}return R}finally{h=null,d=X,v=!1}}var A=!1,T=null,N=-1,K=5,V=-1;function ye(){return!(t.unstable_now()-V<K)}function Me(){if(T!==null){var M=t.unstable_now();V=M;var Y=!0;try{Y=T(!0,M)}finally{Y?le():(A=!1,T=null)}}else A=!1}var le;if(typeof f=="function")le=function(){f(Me)};else if(typeof MessageChannel!="undefined"){var Ee=new MessageChannel,xt=Ee.port2;Ee.port1.onmessage=Me,le=function(){xt.postMessage(null)}}else le=function(){L(Me,0)};function Je(M){T=M,A||(A=!0,le())}function Ze(M,Y){N=L(function(){M(t.unstable_now())},Y)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(M){M.callback=null},t.unstable_continueExecution=function(){p||v||(p=!0,Je(k))},t.unstable_forceFrameRate=function(M){0>M||125<M?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):K=0<M?Math.floor(1e3/M):5},t.unstable_getCurrentPriorityLevel=function(){return d},t.unstable_getFirstCallbackNode=function(){return n(l)},t.unstable_next=function(M){switch(d){case 1:case 2:case 3:var Y=3;break;default:Y=d}var X=d;d=Y;try{return M()}finally{d=X}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(M,Y){switch(M){case 1:case 2:case 3:case 4:case 5:break;default:M=3}var X=d;d=M;try{return Y()}finally{d=X}},t.unstable_scheduleCallback=function(M,Y,X){var we=t.unstable_now();switch(typeof X=="object"&&X!==null?(X=X.delay,X=typeof X=="number"&&0<X?we+X:we):X=we,M){case 1:var S=-1;break;case 2:S=250;break;case 5:S=1073741823;break;case 4:S=1e4;break;default:S=5e3}return S=X+S,M={id:c++,callback:Y,priorityLevel:M,startTime:X,expirationTime:S,sortIndex:-1},X>we?(M.sortIndex=X,e(u,M),n(l)===null&&M===n(u)&&(_?(m(N),N=-1):_=!0,Ze(E,X-we))):(M.sortIndex=S,e(l,M),p||v||(p=!0,Je(k))),M},t.unstable_shouldYield=ye,t.unstable_wrapCallback=function(M){var Y=d;return function(){var X=d;d=Y;try{return M.apply(this,arguments)}finally{d=X}}}})(M0);P0.exports=M0;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var $0=j.exports,on=P0.exports;function D(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var O0=new Set,Mo={};function Ri(t,e){cs(t,e),cs(t+"Capture",e)}function cs(t,e){for(Mo[t]=e,t=0;t<e.length;t++)O0.add(e[t])}var nr=!(typeof window=="undefined"||typeof window.document=="undefined"||typeof window.document.createElement=="undefined"),od=Object.prototype.hasOwnProperty,Ck=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Eg={},Tg={};function Nk(t){return od.call(Tg,t)?!0:od.call(Eg,t)?!1:Ck.test(t)?Tg[t]=!0:(Eg[t]=!0,!1)}function Ak(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function xk(t,e,n,r){if(e===null||typeof e=="undefined"||Ak(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function Vt(t,e,n,r,i,s,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=s,this.removeEmptyString=o}var wt={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){wt[t]=new Vt(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];wt[e]=new Vt(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){wt[t]=new Vt(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){wt[t]=new Vt(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){wt[t]=new Vt(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){wt[t]=new Vt(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){wt[t]=new Vt(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){wt[t]=new Vt(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){wt[t]=new Vt(t,5,!1,t.toLowerCase(),null,!1,!1)});var zf=/[\-:]([a-z])/g;function jf(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(zf,jf);wt[e]=new Vt(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(zf,jf);wt[e]=new Vt(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(zf,jf);wt[e]=new Vt(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){wt[t]=new Vt(t,1,!1,t.toLowerCase(),null,!1,!1)});wt.xlinkHref=new Vt("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){wt[t]=new Vt(t,1,!1,t.toLowerCase(),null,!0,!0)});function Hf(t,e,n,r){var i=wt.hasOwnProperty(e)?wt[e]:null;(i!==null?i.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(xk(e,n,i,r)&&(n=null),r||i===null?Nk(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):i.mustUseProperty?t[i.propertyName]=n===null?i.type===3?!1:"":n:(e=i.attributeName,r=i.attributeNamespace,n===null?t.removeAttribute(e):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var ar=$0.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Ja=Symbol.for("react.element"),Ui=Symbol.for("react.portal"),Vi=Symbol.for("react.fragment"),Wf=Symbol.for("react.strict_mode"),ad=Symbol.for("react.profiler"),U0=Symbol.for("react.provider"),V0=Symbol.for("react.context"),Kf=Symbol.for("react.forward_ref"),ld=Symbol.for("react.suspense"),ud=Symbol.for("react.suspense_list"),qf=Symbol.for("react.memo"),dr=Symbol.for("react.lazy"),F0=Symbol.for("react.offscreen"),kg=Symbol.iterator;function Gs(t){return t===null||typeof t!="object"?null:(t=kg&&t[kg]||t["@@iterator"],typeof t=="function"?t:null)}var He=Object.assign,ah;function uo(t){if(ah===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);ah=e&&e[1]||""}return`
`+ah+t}var lh=!1;function uh(t,e){if(!t||lh)return"";lh=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(u){var r=u}Reflect.construct(t,[],e)}else{try{e.call()}catch(u){r=u}t.call(e.prototype)}else{try{throw Error()}catch(u){r=u}t()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var i=u.stack.split(`
`),s=r.stack.split(`
`),o=i.length-1,a=s.length-1;1<=o&&0<=a&&i[o]!==s[a];)a--;for(;1<=o&&0<=a;o--,a--)if(i[o]!==s[a]){if(o!==1||a!==1)do if(o--,a--,0>a||i[o]!==s[a]){var l=`
`+i[o].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=o&&0<=a);break}}}finally{lh=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?uo(t):""}function Dk(t){switch(t.tag){case 5:return uo(t.type);case 16:return uo("Lazy");case 13:return uo("Suspense");case 19:return uo("SuspenseList");case 0:case 2:case 15:return t=uh(t.type,!1),t;case 11:return t=uh(t.type.render,!1),t;case 1:return t=uh(t.type,!0),t;default:return""}}function cd(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Vi:return"Fragment";case Ui:return"Portal";case ad:return"Profiler";case Wf:return"StrictMode";case ld:return"Suspense";case ud:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case V0:return(t.displayName||"Context")+".Consumer";case U0:return(t._context.displayName||"Context")+".Provider";case Kf:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case qf:return e=t.displayName||null,e!==null?e:cd(t.type)||"Memo";case dr:e=t._payload,t=t._init;try{return cd(t(e))}catch{}}return null}function Lk(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return cd(e);case 8:return e===Wf?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function Lr(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function B0(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function bk(t){var e=B0(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n!="undefined"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,s=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(o){r=""+o,s.call(this,o)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function Za(t){t._valueTracker||(t._valueTracker=bk(t))}function z0(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=B0(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function ql(t){if(t=t||(typeof document!="undefined"?document:void 0),typeof t=="undefined")return null;try{return t.activeElement||t.body}catch{return t.body}}function hd(t,e){var n=e.checked;return He({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n!=null?n:t._wrapperState.initialChecked})}function Rg(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=Lr(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function j0(t,e){e=e.checked,e!=null&&Hf(t,"checked",e,!1)}function dd(t,e){j0(t,e);var n=Lr(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?fd(t,e.type,n):e.hasOwnProperty("defaultValue")&&fd(t,e.type,Lr(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function Ig(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function fd(t,e,n){(e!=="number"||ql(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var co=Array.isArray;function Zi(t,e,n,r){if(t=t.options,e){e={};for(var i=0;i<n.length;i++)e["$"+n[i]]=!0;for(n=0;n<t.length;n++)i=e.hasOwnProperty("$"+t[n].value),t[n].selected!==i&&(t[n].selected=i),i&&r&&(t[n].defaultSelected=!0)}else{for(n=""+Lr(n),e=null,i=0;i<t.length;i++){if(t[i].value===n){t[i].selected=!0,r&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function pd(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(D(91));return He({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function Cg(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(D(92));if(co(n)){if(1<n.length)throw Error(D(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:Lr(n)}}function H0(t,e){var n=Lr(e.value),r=Lr(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function Ng(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function W0(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function md(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?W0(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var el,K0=function(t){return typeof MSApp!="undefined"&&MSApp.execUnsafeLocalFunction?function(e,n,r,i){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(el=el||document.createElement("div"),el.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=el.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function $o(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var yo={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Pk=["Webkit","ms","Moz","O"];Object.keys(yo).forEach(function(t){Pk.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),yo[e]=yo[t]})});function q0(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||yo.hasOwnProperty(t)&&yo[t]?(""+e).trim():e+"px"}function G0(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=q0(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,i):t[n]=i}}var Mk=He({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function gd(t,e){if(e){if(Mk[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(D(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(D(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(D(61))}if(e.style!=null&&typeof e.style!="object")throw Error(D(62))}}function vd(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var yd=null;function Gf(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var wd=null,es=null,ts=null;function Ag(t){if(t=ga(t)){if(typeof wd!="function")throw Error(D(280));var e=t.stateNode;e&&(e=Yu(e),wd(t.stateNode,t.type,e))}}function Q0(t){es?ts?ts.push(t):ts=[t]:es=t}function Y0(){if(es){var t=es,e=ts;if(ts=es=null,Ag(t),e)for(t=0;t<e.length;t++)Ag(e[t])}}function X0(t,e){return t(e)}function J0(){}var ch=!1;function Z0(t,e,n){if(ch)return t(e,n);ch=!0;try{return X0(t,e,n)}finally{ch=!1,(es!==null||ts!==null)&&(J0(),Y0())}}function Oo(t,e){var n=t.stateNode;if(n===null)return null;var r=Yu(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(D(231,e,typeof n));return n}var Sd=!1;if(nr)try{var Qs={};Object.defineProperty(Qs,"passive",{get:function(){Sd=!0}}),window.addEventListener("test",Qs,Qs),window.removeEventListener("test",Qs,Qs)}catch{Sd=!1}function $k(t,e,n,r,i,s,o,a,l){var u=Array.prototype.slice.call(arguments,3);try{e.apply(n,u)}catch(c){this.onError(c)}}var wo=!1,Gl=null,Ql=!1,_d=null,Ok={onError:function(t){wo=!0,Gl=t}};function Uk(t,e,n,r,i,s,o,a,l){wo=!1,Gl=null,$k.apply(Ok,arguments)}function Vk(t,e,n,r,i,s,o,a,l){if(Uk.apply(this,arguments),wo){if(wo){var u=Gl;wo=!1,Gl=null}else throw Error(D(198));Ql||(Ql=!0,_d=u)}}function Ii(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,(e.flags&4098)!==0&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function ew(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function xg(t){if(Ii(t)!==t)throw Error(D(188))}function Fk(t){var e=t.alternate;if(!e){if(e=Ii(t),e===null)throw Error(D(188));return e!==t?null:t}for(var n=t,r=e;;){var i=n.return;if(i===null)break;var s=i.alternate;if(s===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===n)return xg(i),t;if(s===r)return xg(i),e;s=s.sibling}throw Error(D(188))}if(n.return!==r.return)n=i,r=s;else{for(var o=!1,a=i.child;a;){if(a===n){o=!0,n=i,r=s;break}if(a===r){o=!0,r=i,n=s;break}a=a.sibling}if(!o){for(a=s.child;a;){if(a===n){o=!0,n=s,r=i;break}if(a===r){o=!0,r=s,n=i;break}a=a.sibling}if(!o)throw Error(D(189))}}if(n.alternate!==r)throw Error(D(190))}if(n.tag!==3)throw Error(D(188));return n.stateNode.current===n?t:e}function tw(t){return t=Fk(t),t!==null?nw(t):null}function nw(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=nw(t);if(e!==null)return e;t=t.sibling}return null}var rw=on.unstable_scheduleCallback,Dg=on.unstable_cancelCallback,Bk=on.unstable_shouldYield,zk=on.unstable_requestPaint,qe=on.unstable_now,jk=on.unstable_getCurrentPriorityLevel,Qf=on.unstable_ImmediatePriority,iw=on.unstable_UserBlockingPriority,Yl=on.unstable_NormalPriority,Hk=on.unstable_LowPriority,sw=on.unstable_IdlePriority,Ku=null,Ln=null;function Wk(t){if(Ln&&typeof Ln.onCommitFiberRoot=="function")try{Ln.onCommitFiberRoot(Ku,t,void 0,(t.current.flags&128)===128)}catch{}}var Cn=Math.clz32?Math.clz32:Gk,Kk=Math.log,qk=Math.LN2;function Gk(t){return t>>>=0,t===0?32:31-(Kk(t)/qk|0)|0}var tl=64,nl=4194304;function ho(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function Xl(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,i=t.suspendedLanes,s=t.pingedLanes,o=n&268435455;if(o!==0){var a=o&~i;a!==0?r=ho(a):(s&=o,s!==0&&(r=ho(s)))}else o=n&~i,o!==0?r=ho(o):s!==0&&(r=ho(s));if(r===0)return 0;if(e!==0&&e!==r&&(e&i)===0&&(i=r&-r,s=e&-e,i>=s||i===16&&(s&4194240)!==0))return e;if((r&4)!==0&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-Cn(e),i=1<<n,r|=t[n],e&=~i;return r}function Qk(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Yk(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,i=t.expirationTimes,s=t.pendingLanes;0<s;){var o=31-Cn(s),a=1<<o,l=i[o];l===-1?((a&n)===0||(a&r)!==0)&&(i[o]=Qk(a,e)):l<=e&&(t.expiredLanes|=a),s&=~a}}function Ed(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function ow(){var t=tl;return tl<<=1,(tl&4194240)===0&&(tl=64),t}function hh(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function pa(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-Cn(e),t[e]=n}function Xk(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var i=31-Cn(n),s=1<<i;e[i]=0,r[i]=-1,t[i]=-1,n&=~s}}function Yf(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-Cn(n),i=1<<r;i&e|t[r]&e&&(t[r]|=e),n&=~i}}var Te=0;function aw(t){return t&=-t,1<t?4<t?(t&268435455)!==0?16:536870912:4:1}var lw,Xf,uw,cw,hw,Td=!1,rl=[],Er=null,Tr=null,kr=null,Uo=new Map,Vo=new Map,mr=[],Jk="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Lg(t,e){switch(t){case"focusin":case"focusout":Er=null;break;case"dragenter":case"dragleave":Tr=null;break;case"mouseover":case"mouseout":kr=null;break;case"pointerover":case"pointerout":Uo.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Vo.delete(e.pointerId)}}function Ys(t,e,n,r,i,s){return t===null||t.nativeEvent!==s?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:s,targetContainers:[i]},e!==null&&(e=ga(e),e!==null&&Xf(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function Zk(t,e,n,r,i){switch(e){case"focusin":return Er=Ys(Er,t,e,n,r,i),!0;case"dragenter":return Tr=Ys(Tr,t,e,n,r,i),!0;case"mouseover":return kr=Ys(kr,t,e,n,r,i),!0;case"pointerover":var s=i.pointerId;return Uo.set(s,Ys(Uo.get(s)||null,t,e,n,r,i)),!0;case"gotpointercapture":return s=i.pointerId,Vo.set(s,Ys(Vo.get(s)||null,t,e,n,r,i)),!0}return!1}function dw(t){var e=Xr(t.target);if(e!==null){var n=Ii(e);if(n!==null){if(e=n.tag,e===13){if(e=ew(n),e!==null){t.blockedOn=e,hw(t.priority,function(){uw(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Nl(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=kd(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);yd=r,n.target.dispatchEvent(r),yd=null}else return e=ga(n),e!==null&&Xf(e),t.blockedOn=n,!1;e.shift()}return!0}function bg(t,e,n){Nl(t)&&n.delete(e)}function eR(){Td=!1,Er!==null&&Nl(Er)&&(Er=null),Tr!==null&&Nl(Tr)&&(Tr=null),kr!==null&&Nl(kr)&&(kr=null),Uo.forEach(bg),Vo.forEach(bg)}function Xs(t,e){t.blockedOn===e&&(t.blockedOn=null,Td||(Td=!0,on.unstable_scheduleCallback(on.unstable_NormalPriority,eR)))}function Fo(t){function e(i){return Xs(i,t)}if(0<rl.length){Xs(rl[0],t);for(var n=1;n<rl.length;n++){var r=rl[n];r.blockedOn===t&&(r.blockedOn=null)}}for(Er!==null&&Xs(Er,t),Tr!==null&&Xs(Tr,t),kr!==null&&Xs(kr,t),Uo.forEach(e),Vo.forEach(e),n=0;n<mr.length;n++)r=mr[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<mr.length&&(n=mr[0],n.blockedOn===null);)dw(n),n.blockedOn===null&&mr.shift()}var ns=ar.ReactCurrentBatchConfig,Jl=!0;function tR(t,e,n,r){var i=Te,s=ns.transition;ns.transition=null;try{Te=1,Jf(t,e,n,r)}finally{Te=i,ns.transition=s}}function nR(t,e,n,r){var i=Te,s=ns.transition;ns.transition=null;try{Te=4,Jf(t,e,n,r)}finally{Te=i,ns.transition=s}}function Jf(t,e,n,r){if(Jl){var i=kd(t,e,n,r);if(i===null)_h(t,e,r,Zl,n),Lg(t,r);else if(Zk(i,t,e,n,r))r.stopPropagation();else if(Lg(t,r),e&4&&-1<Jk.indexOf(t)){for(;i!==null;){var s=ga(i);if(s!==null&&lw(s),s=kd(t,e,n,r),s===null&&_h(t,e,r,Zl,n),s===i)break;i=s}i!==null&&r.stopPropagation()}else _h(t,e,r,null,n)}}var Zl=null;function kd(t,e,n,r){if(Zl=null,t=Gf(r),t=Xr(t),t!==null)if(e=Ii(t),e===null)t=null;else if(n=e.tag,n===13){if(t=ew(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return Zl=t,null}function fw(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(jk()){case Qf:return 1;case iw:return 4;case Yl:case Hk:return 16;case sw:return 536870912;default:return 16}default:return 16}}var Sr=null,Zf=null,Al=null;function pw(){if(Al)return Al;var t,e=Zf,n=e.length,r,i="value"in Sr?Sr.value:Sr.textContent,s=i.length;for(t=0;t<n&&e[t]===i[t];t++);var o=n-t;for(r=1;r<=o&&e[n-r]===i[s-r];r++);return Al=i.slice(t,1<r?1-r:void 0)}function xl(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function il(){return!0}function Pg(){return!1}function un(t){function e(n,r,i,s,o){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=s,this.target=o,this.currentTarget=null;for(var a in t)t.hasOwnProperty(a)&&(n=t[a],this[a]=n?n(s):s[a]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?il:Pg,this.isPropagationStopped=Pg,this}return He(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=il)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=il)},persist:function(){},isPersistent:il}),e}var Ls={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ep=un(Ls),ma=He({},Ls,{view:0,detail:0}),rR=un(ma),dh,fh,Js,qu=He({},ma,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:tp,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Js&&(Js&&t.type==="mousemove"?(dh=t.screenX-Js.screenX,fh=t.screenY-Js.screenY):fh=dh=0,Js=t),dh)},movementY:function(t){return"movementY"in t?t.movementY:fh}}),Mg=un(qu),iR=He({},qu,{dataTransfer:0}),sR=un(iR),oR=He({},ma,{relatedTarget:0}),ph=un(oR),aR=He({},Ls,{animationName:0,elapsedTime:0,pseudoElement:0}),lR=un(aR),uR=He({},Ls,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),cR=un(uR),hR=He({},Ls,{data:0}),$g=un(hR),dR={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},fR={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},pR={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function mR(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=pR[t])?!!e[t]:!1}function tp(){return mR}var gR=He({},ma,{key:function(t){if(t.key){var e=dR[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=xl(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?fR[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:tp,charCode:function(t){return t.type==="keypress"?xl(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?xl(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),vR=un(gR),yR=He({},qu,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Og=un(yR),wR=He({},ma,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:tp}),SR=un(wR),_R=He({},Ls,{propertyName:0,elapsedTime:0,pseudoElement:0}),ER=un(_R),TR=He({},qu,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),kR=un(TR),RR=[9,13,27,32],np=nr&&"CompositionEvent"in window,So=null;nr&&"documentMode"in document&&(So=document.documentMode);var IR=nr&&"TextEvent"in window&&!So,mw=nr&&(!np||So&&8<So&&11>=So),Ug=String.fromCharCode(32),Vg=!1;function gw(t,e){switch(t){case"keyup":return RR.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function vw(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Fi=!1;function CR(t,e){switch(t){case"compositionend":return vw(e);case"keypress":return e.which!==32?null:(Vg=!0,Ug);case"textInput":return t=e.data,t===Ug&&Vg?null:t;default:return null}}function NR(t,e){if(Fi)return t==="compositionend"||!np&&gw(t,e)?(t=pw(),Al=Zf=Sr=null,Fi=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return mw&&e.locale!=="ko"?null:e.data;default:return null}}var AR={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Fg(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!AR[t.type]:e==="textarea"}function yw(t,e,n,r){Q0(r),e=eu(e,"onChange"),0<e.length&&(n=new ep("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var _o=null,Bo=null;function xR(t){Aw(t,0)}function Gu(t){var e=ji(t);if(z0(e))return t}function DR(t,e){if(t==="change")return e}var ww=!1;if(nr){var mh;if(nr){var gh="oninput"in document;if(!gh){var Bg=document.createElement("div");Bg.setAttribute("oninput","return;"),gh=typeof Bg.oninput=="function"}mh=gh}else mh=!1;ww=mh&&(!document.documentMode||9<document.documentMode)}function zg(){_o&&(_o.detachEvent("onpropertychange",Sw),Bo=_o=null)}function Sw(t){if(t.propertyName==="value"&&Gu(Bo)){var e=[];yw(e,Bo,t,Gf(t)),Z0(xR,e)}}function LR(t,e,n){t==="focusin"?(zg(),_o=e,Bo=n,_o.attachEvent("onpropertychange",Sw)):t==="focusout"&&zg()}function bR(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Gu(Bo)}function PR(t,e){if(t==="click")return Gu(e)}function MR(t,e){if(t==="input"||t==="change")return Gu(e)}function $R(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Nn=typeof Object.is=="function"?Object.is:$R;function zo(t,e){if(Nn(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!od.call(e,i)||!Nn(t[i],e[i]))return!1}return!0}function jg(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Hg(t,e){var n=jg(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=jg(n)}}function _w(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?_w(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function Ew(){for(var t=window,e=ql();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=ql(t.document)}return e}function rp(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function OR(t){var e=Ew(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&_w(n.ownerDocument.documentElement,n)){if(r!==null&&rp(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=n.textContent.length,s=Math.min(r.start,i);r=r.end===void 0?s:Math.min(r.end,i),!t.extend&&s>r&&(i=r,r=s,s=i),i=Hg(n,s);var o=Hg(n,r);i&&o&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),s>r?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var UR=nr&&"documentMode"in document&&11>=document.documentMode,Bi=null,Rd=null,Eo=null,Id=!1;function Wg(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Id||Bi==null||Bi!==ql(r)||(r=Bi,"selectionStart"in r&&rp(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Eo&&zo(Eo,r)||(Eo=r,r=eu(Rd,"onSelect"),0<r.length&&(e=new ep("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=Bi)))}function sl(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var zi={animationend:sl("Animation","AnimationEnd"),animationiteration:sl("Animation","AnimationIteration"),animationstart:sl("Animation","AnimationStart"),transitionend:sl("Transition","TransitionEnd")},vh={},Tw={};nr&&(Tw=document.createElement("div").style,"AnimationEvent"in window||(delete zi.animationend.animation,delete zi.animationiteration.animation,delete zi.animationstart.animation),"TransitionEvent"in window||delete zi.transitionend.transition);function Qu(t){if(vh[t])return vh[t];if(!zi[t])return t;var e=zi[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in Tw)return vh[t]=e[n];return t}var kw=Qu("animationend"),Rw=Qu("animationiteration"),Iw=Qu("animationstart"),Cw=Qu("transitionend"),Nw=new Map,Kg="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Vr(t,e){Nw.set(t,e),Ri(e,[t])}for(var yh=0;yh<Kg.length;yh++){var wh=Kg[yh],VR=wh.toLowerCase(),FR=wh[0].toUpperCase()+wh.slice(1);Vr(VR,"on"+FR)}Vr(kw,"onAnimationEnd");Vr(Rw,"onAnimationIteration");Vr(Iw,"onAnimationStart");Vr("dblclick","onDoubleClick");Vr("focusin","onFocus");Vr("focusout","onBlur");Vr(Cw,"onTransitionEnd");cs("onMouseEnter",["mouseout","mouseover"]);cs("onMouseLeave",["mouseout","mouseover"]);cs("onPointerEnter",["pointerout","pointerover"]);cs("onPointerLeave",["pointerout","pointerover"]);Ri("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Ri("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Ri("onBeforeInput",["compositionend","keypress","textInput","paste"]);Ri("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Ri("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Ri("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var fo="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),BR=new Set("cancel close invalid load scroll toggle".split(" ").concat(fo));function qg(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,Vk(r,e,void 0,t),t.currentTarget=null}function Aw(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],i=r.event;r=r.listeners;e:{var s=void 0;if(e)for(var o=r.length-1;0<=o;o--){var a=r[o],l=a.instance,u=a.currentTarget;if(a=a.listener,l!==s&&i.isPropagationStopped())break e;qg(i,a,u),s=l}else for(o=0;o<r.length;o++){if(a=r[o],l=a.instance,u=a.currentTarget,a=a.listener,l!==s&&i.isPropagationStopped())break e;qg(i,a,u),s=l}}}if(Ql)throw t=_d,Ql=!1,_d=null,t}function De(t,e){var n=e[Dd];n===void 0&&(n=e[Dd]=new Set);var r=t+"__bubble";n.has(r)||(xw(e,t,2,!1),n.add(r))}function Sh(t,e,n){var r=0;e&&(r|=4),xw(n,t,r,e)}var ol="_reactListening"+Math.random().toString(36).slice(2);function jo(t){if(!t[ol]){t[ol]=!0,O0.forEach(function(n){n!=="selectionchange"&&(BR.has(n)||Sh(n,!1,t),Sh(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[ol]||(e[ol]=!0,Sh("selectionchange",!1,e))}}function xw(t,e,n,r){switch(fw(e)){case 1:var i=tR;break;case 4:i=nR;break;default:i=Jf}n=i.bind(null,e,n,t),i=void 0,!Sd||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),r?i!==void 0?t.addEventListener(e,n,{capture:!0,passive:i}):t.addEventListener(e,n,!0):i!==void 0?t.addEventListener(e,n,{passive:i}):t.addEventListener(e,n,!1)}function _h(t,e,n,r,i){var s=r;if((e&1)===0&&(e&2)===0&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var a=r.stateNode.containerInfo;if(a===i||a.nodeType===8&&a.parentNode===i)break;if(o===4)for(o=r.return;o!==null;){var l=o.tag;if((l===3||l===4)&&(l=o.stateNode.containerInfo,l===i||l.nodeType===8&&l.parentNode===i))return;o=o.return}for(;a!==null;){if(o=Xr(a),o===null)return;if(l=o.tag,l===5||l===6){r=s=o;continue e}a=a.parentNode}}r=r.return}Z0(function(){var u=s,c=Gf(n),h=[];e:{var d=Nw.get(t);if(d!==void 0){var v=ep,p=t;switch(t){case"keypress":if(xl(n)===0)break e;case"keydown":case"keyup":v=vR;break;case"focusin":p="focus",v=ph;break;case"focusout":p="blur",v=ph;break;case"beforeblur":case"afterblur":v=ph;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":v=Mg;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":v=sR;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":v=SR;break;case kw:case Rw:case Iw:v=lR;break;case Cw:v=ER;break;case"scroll":v=rR;break;case"wheel":v=kR;break;case"copy":case"cut":case"paste":v=cR;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":v=Og}var _=(e&4)!==0,L=!_&&t==="scroll",m=_?d!==null?d+"Capture":null:d;_=[];for(var f=u,g;f!==null;){g=f;var E=g.stateNode;if(g.tag===5&&E!==null&&(g=E,m!==null&&(E=Oo(f,m),E!=null&&_.push(Ho(f,E,g)))),L)break;f=f.return}0<_.length&&(d=new v(d,p,null,n,c),h.push({event:d,listeners:_}))}}if((e&7)===0){e:{if(d=t==="mouseover"||t==="pointerover",v=t==="mouseout"||t==="pointerout",d&&n!==yd&&(p=n.relatedTarget||n.fromElement)&&(Xr(p)||p[rr]))break e;if((v||d)&&(d=c.window===c?c:(d=c.ownerDocument)?d.defaultView||d.parentWindow:window,v?(p=n.relatedTarget||n.toElement,v=u,p=p?Xr(p):null,p!==null&&(L=Ii(p),p!==L||p.tag!==5&&p.tag!==6)&&(p=null)):(v=null,p=u),v!==p)){if(_=Mg,E="onMouseLeave",m="onMouseEnter",f="mouse",(t==="pointerout"||t==="pointerover")&&(_=Og,E="onPointerLeave",m="onPointerEnter",f="pointer"),L=v==null?d:ji(v),g=p==null?d:ji(p),d=new _(E,f+"leave",v,n,c),d.target=L,d.relatedTarget=g,E=null,Xr(c)===u&&(_=new _(m,f+"enter",p,n,c),_.target=g,_.relatedTarget=L,E=_),L=E,v&&p)t:{for(_=v,m=p,f=0,g=_;g;g=Pi(g))f++;for(g=0,E=m;E;E=Pi(E))g++;for(;0<f-g;)_=Pi(_),f--;for(;0<g-f;)m=Pi(m),g--;for(;f--;){if(_===m||m!==null&&_===m.alternate)break t;_=Pi(_),m=Pi(m)}_=null}else _=null;v!==null&&Gg(h,d,v,_,!1),p!==null&&L!==null&&Gg(h,L,p,_,!0)}}e:{if(d=u?ji(u):window,v=d.nodeName&&d.nodeName.toLowerCase(),v==="select"||v==="input"&&d.type==="file")var k=DR;else if(Fg(d))if(ww)k=MR;else{k=bR;var A=LR}else(v=d.nodeName)&&v.toLowerCase()==="input"&&(d.type==="checkbox"||d.type==="radio")&&(k=PR);if(k&&(k=k(t,u))){yw(h,k,n,c);break e}A&&A(t,d,u),t==="focusout"&&(A=d._wrapperState)&&A.controlled&&d.type==="number"&&fd(d,"number",d.value)}switch(A=u?ji(u):window,t){case"focusin":(Fg(A)||A.contentEditable==="true")&&(Bi=A,Rd=u,Eo=null);break;case"focusout":Eo=Rd=Bi=null;break;case"mousedown":Id=!0;break;case"contextmenu":case"mouseup":case"dragend":Id=!1,Wg(h,n,c);break;case"selectionchange":if(UR)break;case"keydown":case"keyup":Wg(h,n,c)}var T;if(np)e:{switch(t){case"compositionstart":var N="onCompositionStart";break e;case"compositionend":N="onCompositionEnd";break e;case"compositionupdate":N="onCompositionUpdate";break e}N=void 0}else Fi?gw(t,n)&&(N="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(N="onCompositionStart");N&&(mw&&n.locale!=="ko"&&(Fi||N!=="onCompositionStart"?N==="onCompositionEnd"&&Fi&&(T=pw()):(Sr=c,Zf="value"in Sr?Sr.value:Sr.textContent,Fi=!0)),A=eu(u,N),0<A.length&&(N=new $g(N,t,null,n,c),h.push({event:N,listeners:A}),T?N.data=T:(T=vw(n),T!==null&&(N.data=T)))),(T=IR?CR(t,n):NR(t,n))&&(u=eu(u,"onBeforeInput"),0<u.length&&(c=new $g("onBeforeInput","beforeinput",null,n,c),h.push({event:c,listeners:u}),c.data=T))}Aw(h,e)})}function Ho(t,e,n){return{instance:t,listener:e,currentTarget:n}}function eu(t,e){for(var n=e+"Capture",r=[];t!==null;){var i=t,s=i.stateNode;i.tag===5&&s!==null&&(i=s,s=Oo(t,n),s!=null&&r.unshift(Ho(t,s,i)),s=Oo(t,e),s!=null&&r.push(Ho(t,s,i))),t=t.return}return r}function Pi(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function Gg(t,e,n,r,i){for(var s=e._reactName,o=[];n!==null&&n!==r;){var a=n,l=a.alternate,u=a.stateNode;if(l!==null&&l===r)break;a.tag===5&&u!==null&&(a=u,i?(l=Oo(n,s),l!=null&&o.unshift(Ho(n,l,a))):i||(l=Oo(n,s),l!=null&&o.push(Ho(n,l,a)))),n=n.return}o.length!==0&&t.push({event:e,listeners:o})}var zR=/\r\n?/g,jR=/\u0000|\uFFFD/g;function Qg(t){return(typeof t=="string"?t:""+t).replace(zR,`
`).replace(jR,"")}function al(t,e,n){if(e=Qg(e),Qg(t)!==e&&n)throw Error(D(425))}function tu(){}var Cd=null,Nd=null;function Ad(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var xd=typeof setTimeout=="function"?setTimeout:void 0,HR=typeof clearTimeout=="function"?clearTimeout:void 0,Yg=typeof Promise=="function"?Promise:void 0,WR=typeof queueMicrotask=="function"?queueMicrotask:typeof Yg!="undefined"?function(t){return Yg.resolve(null).then(t).catch(KR)}:xd;function KR(t){setTimeout(function(){throw t})}function Eh(t,e){var n=e,r=0;do{var i=n.nextSibling;if(t.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){t.removeChild(i),Fo(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);Fo(e)}function qn(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function Xg(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var bs=Math.random().toString(36).slice(2),Dn="__reactFiber$"+bs,Wo="__reactProps$"+bs,rr="__reactContainer$"+bs,Dd="__reactEvents$"+bs,qR="__reactListeners$"+bs,GR="__reactHandles$"+bs;function Xr(t){var e=t[Dn];if(e)return e;for(var n=t.parentNode;n;){if(e=n[rr]||n[Dn]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=Xg(t);t!==null;){if(n=t[Dn])return n;t=Xg(t)}return e}t=n,n=t.parentNode}return null}function ga(t){return t=t[Dn]||t[rr],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function ji(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(D(33))}function Yu(t){return t[Wo]||null}var Ld=[],Hi=-1;function Fr(t){return{current:t}}function be(t){0>Hi||(t.current=Ld[Hi],Ld[Hi]=null,Hi--)}function Ne(t,e){Hi++,Ld[Hi]=t.current,t.current=e}var br={},At=Fr(br),Kt=Fr(!1),li=br;function hs(t,e){var n=t.type.contextTypes;if(!n)return br;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i={},s;for(s in n)i[s]=e[s];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function qt(t){return t=t.childContextTypes,t!=null}function nu(){be(Kt),be(At)}function Jg(t,e,n){if(At.current!==br)throw Error(D(168));Ne(At,e),Ne(Kt,n)}function Dw(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in e))throw Error(D(108,Lk(t)||"Unknown",i));return He({},n,r)}function ru(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||br,li=At.current,Ne(At,t),Ne(Kt,Kt.current),!0}function Zg(t,e,n){var r=t.stateNode;if(!r)throw Error(D(169));n?(t=Dw(t,e,li),r.__reactInternalMemoizedMergedChildContext=t,be(Kt),be(At),Ne(At,t)):be(Kt),Ne(Kt,n)}var Wn=null,Xu=!1,Th=!1;function Lw(t){Wn===null?Wn=[t]:Wn.push(t)}function QR(t){Xu=!0,Lw(t)}function Br(){if(!Th&&Wn!==null){Th=!0;var t=0,e=Te;try{var n=Wn;for(Te=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}Wn=null,Xu=!1}catch(i){throw Wn!==null&&(Wn=Wn.slice(t+1)),rw(Qf,Br),i}finally{Te=e,Th=!1}}return null}var YR=ar.ReactCurrentBatchConfig;function Tn(t,e){if(t&&t.defaultProps){e=He({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}var iu=Fr(null),su=null,Wi=null,ip=null;function sp(){ip=Wi=su=null}function op(t){var e=iu.current;be(iu),t._currentValue=e}function bd(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function rs(t,e){su=t,ip=Wi=null,t=t.dependencies,t!==null&&t.firstContext!==null&&((t.lanes&e)!==0&&(Wt=!0),t.firstContext=null)}function vn(t){var e=t._currentValue;if(ip!==t)if(t={context:t,memoizedValue:e,next:null},Wi===null){if(su===null)throw Error(D(308));Wi=t,su.dependencies={lanes:0,firstContext:t}}else Wi=Wi.next=t;return e}var In=null,fr=!1;function ap(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function bw(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function Zn(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function Rr(t,e){var n=t.updateQueue;n!==null&&(n=n.shared,ES(t)?(t=n.interleaved,t===null?(e.next=e,In===null?In=[n]:In.push(n)):(e.next=t.next,t.next=e),n.interleaved=e):(t=n.pending,t===null?e.next=e:(e.next=t.next,t.next=e),n.pending=e))}function Dl(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,Yf(t,n)}}function ev(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,s=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};s===null?i=s=o:s=s.next=o,n=n.next}while(n!==null);s===null?i=s=e:s=s.next=e}else i=s=e;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function ou(t,e,n,r){var i=t.updateQueue;fr=!1;var s=i.firstBaseUpdate,o=i.lastBaseUpdate,a=i.shared.pending;if(a!==null){i.shared.pending=null;var l=a,u=l.next;l.next=null,o===null?s=u:o.next=u,o=l;var c=t.alternate;c!==null&&(c=c.updateQueue,a=c.lastBaseUpdate,a!==o&&(a===null?c.firstBaseUpdate=u:a.next=u,c.lastBaseUpdate=l))}if(s!==null){var h=i.baseState;o=0,c=u=l=null,a=s;do{var d=a.lane,v=a.eventTime;if((r&d)===d){c!==null&&(c=c.next={eventTime:v,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var p=t,_=a;switch(d=e,v=n,_.tag){case 1:if(p=_.payload,typeof p=="function"){h=p.call(v,h,d);break e}h=p;break e;case 3:p.flags=p.flags&-65537|128;case 0:if(p=_.payload,d=typeof p=="function"?p.call(v,h,d):p,d==null)break e;h=He({},h,d);break e;case 2:fr=!0}}a.callback!==null&&a.lane!==0&&(t.flags|=64,d=i.effects,d===null?i.effects=[a]:d.push(a))}else v={eventTime:v,lane:d,tag:a.tag,payload:a.payload,callback:a.callback,next:null},c===null?(u=c=v,l=h):c=c.next=v,o|=d;if(a=a.next,a===null){if(a=i.shared.pending,a===null)break;d=a,a=d.next,d.next=null,i.lastBaseUpdate=d,i.shared.pending=null}}while(1);if(c===null&&(l=h),i.baseState=l,i.firstBaseUpdate=u,i.lastBaseUpdate=c,e=i.shared.interleaved,e!==null){i=e;do o|=i.lane,i=i.next;while(i!==e)}else s===null&&(i.shared.lanes=0);hi|=o,t.lanes=o,t.memoizedState=h}}function tv(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(D(191,i));i.call(r)}}}var Pw=new $0.Component().refs;function Pd(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:He({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var Ju={isMounted:function(t){return(t=t._reactInternals)?Ii(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=$t(),i=Cr(t),s=Zn(r,i);s.payload=e,n!=null&&(s.callback=n),Rr(t,s),e=mn(t,i,r),e!==null&&Dl(e,t,i)},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=$t(),i=Cr(t),s=Zn(r,i);s.tag=1,s.payload=e,n!=null&&(s.callback=n),Rr(t,s),e=mn(t,i,r),e!==null&&Dl(e,t,i)},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=$t(),r=Cr(t),i=Zn(n,r);i.tag=2,e!=null&&(i.callback=e),Rr(t,i),e=mn(t,r,n),e!==null&&Dl(e,t,r)}};function nv(t,e,n,r,i,s,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,s,o):e.prototype&&e.prototype.isPureReactComponent?!zo(n,r)||!zo(i,s):!0}function Mw(t,e,n){var r=!1,i=br,s=e.contextType;return typeof s=="object"&&s!==null?s=vn(s):(i=qt(e)?li:At.current,r=e.contextTypes,s=(r=r!=null)?hs(t,i):br),e=new e(n,s),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=Ju,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=s),e}function rv(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&Ju.enqueueReplaceState(e,e.state,null)}function Md(t,e,n,r){var i=t.stateNode;i.props=n,i.state=t.memoizedState,i.refs=Pw,ap(t);var s=e.contextType;typeof s=="object"&&s!==null?i.context=vn(s):(s=qt(e)?li:At.current,i.context=hs(t,s)),i.state=t.memoizedState,s=e.getDerivedStateFromProps,typeof s=="function"&&(Pd(t,e,s,n),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&Ju.enqueueReplaceState(i,i.state,null),ou(t,n,i,r),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}var Ki=[],qi=0,au=null,lu=0,hn=[],dn=0,ui=null,Gn=1,Qn="";function qr(t,e){Ki[qi++]=lu,Ki[qi++]=au,au=t,lu=e}function $w(t,e,n){hn[dn++]=Gn,hn[dn++]=Qn,hn[dn++]=ui,ui=t;var r=Gn;t=Qn;var i=32-Cn(r)-1;r&=~(1<<i),n+=1;var s=32-Cn(e)+i;if(30<s){var o=i-i%5;s=(r&(1<<o)-1).toString(32),r>>=o,i-=o,Gn=1<<32-Cn(e)+i|n<<i|r,Qn=s+t}else Gn=1<<s|n<<i|r,Qn=t}function lp(t){t.return!==null&&(qr(t,1),$w(t,1,0))}function up(t){for(;t===au;)au=Ki[--qi],Ki[qi]=null,lu=Ki[--qi],Ki[qi]=null;for(;t===ui;)ui=hn[--dn],hn[dn]=null,Qn=hn[--dn],hn[dn]=null,Gn=hn[--dn],hn[dn]=null}var sn=null,jt=null,Oe=!1,Rn=null;function Ow(t,e){var n=fn(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function iv(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,sn=t,jt=qn(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,sn=t,jt=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=ui!==null?{id:Gn,overflow:Qn}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=fn(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,sn=t,jt=null,!0):!1;default:return!1}}function $d(t){return(t.mode&1)!==0&&(t.flags&128)===0}function Od(t){if(Oe){var e=jt;if(e){var n=e;if(!iv(t,e)){if($d(t))throw Error(D(418));e=qn(n.nextSibling);var r=sn;e&&iv(t,e)?Ow(r,n):(t.flags=t.flags&-4097|2,Oe=!1,sn=t)}}else{if($d(t))throw Error(D(418));t.flags=t.flags&-4097|2,Oe=!1,sn=t}}}function sv(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;sn=t}function Zs(t){if(t!==sn)return!1;if(!Oe)return sv(t),Oe=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!Ad(t.type,t.memoizedProps)),e&&(e=jt)){if($d(t)){for(t=jt;t;)t=qn(t.nextSibling);throw Error(D(418))}for(;e;)Ow(t,e),e=qn(e.nextSibling)}if(sv(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(D(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){jt=qn(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}jt=null}}else jt=sn?qn(t.stateNode.nextSibling):null;return!0}function ds(){jt=sn=null,Oe=!1}function cp(t){Rn===null?Rn=[t]:Rn.push(t)}function eo(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(D(309));var r=n.stateNode}if(!r)throw Error(D(147,t));var i=r,s=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===s?e.ref:(e=function(o){var a=i.refs;a===Pw&&(a=i.refs={}),o===null?delete a[s]:a[s]=o},e._stringRef=s,e)}if(typeof t!="string")throw Error(D(284));if(!n._owner)throw Error(D(290,t))}return t}function ll(t,e){throw t=Object.prototype.toString.call(e),Error(D(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function ov(t){var e=t._init;return e(t._payload)}function Uw(t){function e(m,f){if(t){var g=m.deletions;g===null?(m.deletions=[f],m.flags|=16):g.push(f)}}function n(m,f){if(!t)return null;for(;f!==null;)e(m,f),f=f.sibling;return null}function r(m,f){for(m=new Map;f!==null;)f.key!==null?m.set(f.key,f):m.set(f.index,f),f=f.sibling;return m}function i(m,f){return m=Pr(m,f),m.index=0,m.sibling=null,m}function s(m,f,g){return m.index=g,t?(g=m.alternate,g!==null?(g=g.index,g<f?(m.flags|=2,f):g):(m.flags|=2,f)):(m.flags|=1048576,f)}function o(m){return t&&m.alternate===null&&(m.flags|=2),m}function a(m,f,g,E){return f===null||f.tag!==6?(f=Ah(g,m.mode,E),f.return=m,f):(f=i(f,g),f.return=m,f)}function l(m,f,g,E){var k=g.type;return k===Vi?c(m,f,g.props.children,E,g.key):f!==null&&(f.elementType===k||typeof k=="object"&&k!==null&&k.$$typeof===dr&&ov(k)===f.type)?(E=i(f,g.props),E.ref=eo(m,f,g),E.return=m,E):(E=$l(g.type,g.key,g.props,null,m.mode,E),E.ref=eo(m,f,g),E.return=m,E)}function u(m,f,g,E){return f===null||f.tag!==4||f.stateNode.containerInfo!==g.containerInfo||f.stateNode.implementation!==g.implementation?(f=xh(g,m.mode,E),f.return=m,f):(f=i(f,g.children||[]),f.return=m,f)}function c(m,f,g,E,k){return f===null||f.tag!==7?(f=ii(g,m.mode,E,k),f.return=m,f):(f=i(f,g),f.return=m,f)}function h(m,f,g){if(typeof f=="string"&&f!==""||typeof f=="number")return f=Ah(""+f,m.mode,g),f.return=m,f;if(typeof f=="object"&&f!==null){switch(f.$$typeof){case Ja:return g=$l(f.type,f.key,f.props,null,m.mode,g),g.ref=eo(m,null,f),g.return=m,g;case Ui:return f=xh(f,m.mode,g),f.return=m,f;case dr:var E=f._init;return h(m,E(f._payload),g)}if(co(f)||Gs(f))return f=ii(f,m.mode,g,null),f.return=m,f;ll(m,f)}return null}function d(m,f,g,E){var k=f!==null?f.key:null;if(typeof g=="string"&&g!==""||typeof g=="number")return k!==null?null:a(m,f,""+g,E);if(typeof g=="object"&&g!==null){switch(g.$$typeof){case Ja:return g.key===k?l(m,f,g,E):null;case Ui:return g.key===k?u(m,f,g,E):null;case dr:return k=g._init,d(m,f,k(g._payload),E)}if(co(g)||Gs(g))return k!==null?null:c(m,f,g,E,null);ll(m,g)}return null}function v(m,f,g,E,k){if(typeof E=="string"&&E!==""||typeof E=="number")return m=m.get(g)||null,a(f,m,""+E,k);if(typeof E=="object"&&E!==null){switch(E.$$typeof){case Ja:return m=m.get(E.key===null?g:E.key)||null,l(f,m,E,k);case Ui:return m=m.get(E.key===null?g:E.key)||null,u(f,m,E,k);case dr:var A=E._init;return v(m,f,g,A(E._payload),k)}if(co(E)||Gs(E))return m=m.get(g)||null,c(f,m,E,k,null);ll(f,E)}return null}function p(m,f,g,E){for(var k=null,A=null,T=f,N=f=0,K=null;T!==null&&N<g.length;N++){T.index>N?(K=T,T=null):K=T.sibling;var V=d(m,T,g[N],E);if(V===null){T===null&&(T=K);break}t&&T&&V.alternate===null&&e(m,T),f=s(V,f,N),A===null?k=V:A.sibling=V,A=V,T=K}if(N===g.length)return n(m,T),Oe&&qr(m,N),k;if(T===null){for(;N<g.length;N++)T=h(m,g[N],E),T!==null&&(f=s(T,f,N),A===null?k=T:A.sibling=T,A=T);return Oe&&qr(m,N),k}for(T=r(m,T);N<g.length;N++)K=v(T,m,N,g[N],E),K!==null&&(t&&K.alternate!==null&&T.delete(K.key===null?N:K.key),f=s(K,f,N),A===null?k=K:A.sibling=K,A=K);return t&&T.forEach(function(ye){return e(m,ye)}),Oe&&qr(m,N),k}function _(m,f,g,E){var k=Gs(g);if(typeof k!="function")throw Error(D(150));if(g=k.call(g),g==null)throw Error(D(151));for(var A=k=null,T=f,N=f=0,K=null,V=g.next();T!==null&&!V.done;N++,V=g.next()){T.index>N?(K=T,T=null):K=T.sibling;var ye=d(m,T,V.value,E);if(ye===null){T===null&&(T=K);break}t&&T&&ye.alternate===null&&e(m,T),f=s(ye,f,N),A===null?k=ye:A.sibling=ye,A=ye,T=K}if(V.done)return n(m,T),Oe&&qr(m,N),k;if(T===null){for(;!V.done;N++,V=g.next())V=h(m,V.value,E),V!==null&&(f=s(V,f,N),A===null?k=V:A.sibling=V,A=V);return Oe&&qr(m,N),k}for(T=r(m,T);!V.done;N++,V=g.next())V=v(T,m,N,V.value,E),V!==null&&(t&&V.alternate!==null&&T.delete(V.key===null?N:V.key),f=s(V,f,N),A===null?k=V:A.sibling=V,A=V);return t&&T.forEach(function(Me){return e(m,Me)}),Oe&&qr(m,N),k}function L(m,f,g,E){if(typeof g=="object"&&g!==null&&g.type===Vi&&g.key===null&&(g=g.props.children),typeof g=="object"&&g!==null){switch(g.$$typeof){case Ja:e:{for(var k=g.key,A=f;A!==null;){if(A.key===k){if(k=g.type,k===Vi){if(A.tag===7){n(m,A.sibling),f=i(A,g.props.children),f.return=m,m=f;break e}}else if(A.elementType===k||typeof k=="object"&&k!==null&&k.$$typeof===dr&&ov(k)===A.type){n(m,A.sibling),f=i(A,g.props),f.ref=eo(m,A,g),f.return=m,m=f;break e}n(m,A);break}else e(m,A);A=A.sibling}g.type===Vi?(f=ii(g.props.children,m.mode,E,g.key),f.return=m,m=f):(E=$l(g.type,g.key,g.props,null,m.mode,E),E.ref=eo(m,f,g),E.return=m,m=E)}return o(m);case Ui:e:{for(A=g.key;f!==null;){if(f.key===A)if(f.tag===4&&f.stateNode.containerInfo===g.containerInfo&&f.stateNode.implementation===g.implementation){n(m,f.sibling),f=i(f,g.children||[]),f.return=m,m=f;break e}else{n(m,f);break}else e(m,f);f=f.sibling}f=xh(g,m.mode,E),f.return=m,m=f}return o(m);case dr:return A=g._init,L(m,f,A(g._payload),E)}if(co(g))return p(m,f,g,E);if(Gs(g))return _(m,f,g,E);ll(m,g)}return typeof g=="string"&&g!==""||typeof g=="number"?(g=""+g,f!==null&&f.tag===6?(n(m,f.sibling),f=i(f,g),f.return=m,m=f):(n(m,f),f=Ah(g,m.mode,E),f.return=m,m=f),o(m)):n(m,f)}return L}var fs=Uw(!0),Vw=Uw(!1),va={},bn=Fr(va),Ko=Fr(va),qo=Fr(va);function Jr(t){if(t===va)throw Error(D(174));return t}function hp(t,e){switch(Ne(qo,e),Ne(Ko,t),Ne(bn,va),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:md(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=md(e,t)}be(bn),Ne(bn,e)}function ps(){be(bn),be(Ko),be(qo)}function Fw(t){Jr(qo.current);var e=Jr(bn.current),n=md(e,t.type);e!==n&&(Ne(Ko,t),Ne(bn,n))}function dp(t){Ko.current===t&&(be(bn),be(Ko))}var ze=Fr(0);function uu(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if((e.flags&128)!==0)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var kh=[];function fp(){for(var t=0;t<kh.length;t++)kh[t]._workInProgressVersionPrimary=null;kh.length=0}var Ll=ar.ReactCurrentDispatcher,Rh=ar.ReactCurrentBatchConfig,ci=0,je=null,tt=null,lt=null,cu=!1,To=!1,Go=0,XR=0;function Tt(){throw Error(D(321))}function pp(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!Nn(t[n],e[n]))return!1;return!0}function mp(t,e,n,r,i,s){if(ci=s,je=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,Ll.current=t===null||t.memoizedState===null?tI:nI,t=n(r,i),To){s=0;do{if(To=!1,Go=0,25<=s)throw Error(D(301));s+=1,lt=tt=null,e.updateQueue=null,Ll.current=rI,t=n(r,i)}while(To)}if(Ll.current=hu,e=tt!==null&&tt.next!==null,ci=0,lt=tt=je=null,cu=!1,e)throw Error(D(300));return t}function gp(){var t=Go!==0;return Go=0,t}function xn(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return lt===null?je.memoizedState=lt=t:lt=lt.next=t,lt}function yn(){if(tt===null){var t=je.alternate;t=t!==null?t.memoizedState:null}else t=tt.next;var e=lt===null?je.memoizedState:lt.next;if(e!==null)lt=e,tt=t;else{if(t===null)throw Error(D(310));tt=t,t={memoizedState:tt.memoizedState,baseState:tt.baseState,baseQueue:tt.baseQueue,queue:tt.queue,next:null},lt===null?je.memoizedState=lt=t:lt=lt.next=t}return lt}function Qo(t,e){return typeof e=="function"?e(t):e}function Ih(t){var e=yn(),n=e.queue;if(n===null)throw Error(D(311));n.lastRenderedReducer=t;var r=tt,i=r.baseQueue,s=n.pending;if(s!==null){if(i!==null){var o=i.next;i.next=s.next,s.next=o}r.baseQueue=i=s,n.pending=null}if(i!==null){s=i.next,r=r.baseState;var a=o=null,l=null,u=s;do{var c=u.lane;if((ci&c)===c)l!==null&&(l=l.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:t(r,u.action);else{var h={lane:c,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};l===null?(a=l=h,o=r):l=l.next=h,je.lanes|=c,hi|=c}u=u.next}while(u!==null&&u!==s);l===null?o=r:l.next=a,Nn(r,e.memoizedState)||(Wt=!0),e.memoizedState=r,e.baseState=o,e.baseQueue=l,n.lastRenderedState=r}if(t=n.interleaved,t!==null){i=t;do s=i.lane,je.lanes|=s,hi|=s,i=i.next;while(i!==t)}else i===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function Ch(t){var e=yn(),n=e.queue;if(n===null)throw Error(D(311));n.lastRenderedReducer=t;var r=n.dispatch,i=n.pending,s=e.memoizedState;if(i!==null){n.pending=null;var o=i=i.next;do s=t(s,o.action),o=o.next;while(o!==i);Nn(s,e.memoizedState)||(Wt=!0),e.memoizedState=s,e.baseQueue===null&&(e.baseState=s),n.lastRenderedState=s}return[s,r]}function Bw(){}function zw(t,e){var n=je,r=yn(),i=e(),s=!Nn(r.memoizedState,i);if(s&&(r.memoizedState=i,Wt=!0),r=r.queue,vp(Ww.bind(null,n,r,t),[t]),r.getSnapshot!==e||s||lt!==null&&lt.memoizedState.tag&1){if(n.flags|=2048,Yo(9,Hw.bind(null,n,r,i,e),void 0,null),rt===null)throw Error(D(349));(ci&30)!==0||jw(n,e,i)}return i}function jw(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=je.updateQueue,e===null?(e={lastEffect:null,stores:null},je.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function Hw(t,e,n,r){e.value=n,e.getSnapshot=r,Kw(e)&&mn(t,1,-1)}function Ww(t,e,n){return n(function(){Kw(e)&&mn(t,1,-1)})}function Kw(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!Nn(t,n)}catch{return!0}}function av(t){var e=xn();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Qo,lastRenderedState:t},e.queue=t,t=t.dispatch=eI.bind(null,je,t),[e.memoizedState,t]}function Yo(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=je.updateQueue,e===null?(e={lastEffect:null,stores:null},je.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function qw(){return yn().memoizedState}function bl(t,e,n,r){var i=xn();je.flags|=t,i.memoizedState=Yo(1|e,n,void 0,r===void 0?null:r)}function Zu(t,e,n,r){var i=yn();r=r===void 0?null:r;var s=void 0;if(tt!==null){var o=tt.memoizedState;if(s=o.destroy,r!==null&&pp(r,o.deps)){i.memoizedState=Yo(e,n,s,r);return}}je.flags|=t,i.memoizedState=Yo(1|e,n,s,r)}function lv(t,e){return bl(8390656,8,t,e)}function vp(t,e){return Zu(2048,8,t,e)}function Gw(t,e){return Zu(4,2,t,e)}function Qw(t,e){return Zu(4,4,t,e)}function Yw(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function Xw(t,e,n){return n=n!=null?n.concat([t]):null,Zu(4,4,Yw.bind(null,e,t),n)}function yp(){}function Jw(t,e){var n=yn();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&pp(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function Zw(t,e){var n=yn();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&pp(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function eS(t,e,n){return(ci&21)===0?(t.baseState&&(t.baseState=!1,Wt=!0),t.memoizedState=n):(Nn(n,e)||(n=ow(),je.lanes|=n,hi|=n,t.baseState=!0),e)}function JR(t,e){var n=Te;Te=n!==0&&4>n?n:4,t(!0);var r=Rh.transition;Rh.transition={};try{t(!1),e()}finally{Te=n,Rh.transition=r}}function tS(){return yn().memoizedState}function ZR(t,e,n){var r=Cr(t);n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},nS(t)?rS(e,n):(iS(t,e,n),n=$t(),t=mn(t,r,n),t!==null&&sS(t,e,r))}function eI(t,e,n){var r=Cr(t),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(nS(t))rS(e,i);else{iS(t,e,i);var s=t.alternate;if(t.lanes===0&&(s===null||s.lanes===0)&&(s=e.lastRenderedReducer,s!==null))try{var o=e.lastRenderedState,a=s(o,n);if(i.hasEagerState=!0,i.eagerState=a,Nn(a,o))return}catch{}finally{}n=$t(),t=mn(t,r,n),t!==null&&sS(t,e,r)}}function nS(t){var e=t.alternate;return t===je||e!==null&&e===je}function rS(t,e){To=cu=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function iS(t,e,n){ES(t)?(t=e.interleaved,t===null?(n.next=n,In===null?In=[e]:In.push(e)):(n.next=t.next,t.next=n),e.interleaved=n):(t=e.pending,t===null?n.next=n:(n.next=t.next,t.next=n),e.pending=n)}function sS(t,e,n){if((n&4194240)!==0){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,Yf(t,n)}}var hu={readContext:vn,useCallback:Tt,useContext:Tt,useEffect:Tt,useImperativeHandle:Tt,useInsertionEffect:Tt,useLayoutEffect:Tt,useMemo:Tt,useReducer:Tt,useRef:Tt,useState:Tt,useDebugValue:Tt,useDeferredValue:Tt,useTransition:Tt,useMutableSource:Tt,useSyncExternalStore:Tt,useId:Tt,unstable_isNewReconciler:!1},tI={readContext:vn,useCallback:function(t,e){return xn().memoizedState=[t,e===void 0?null:e],t},useContext:vn,useEffect:lv,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,bl(4194308,4,Yw.bind(null,e,t),n)},useLayoutEffect:function(t,e){return bl(4194308,4,t,e)},useInsertionEffect:function(t,e){return bl(4,2,t,e)},useMemo:function(t,e){var n=xn();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=xn();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=ZR.bind(null,je,t),[r.memoizedState,t]},useRef:function(t){var e=xn();return t={current:t},e.memoizedState=t},useState:av,useDebugValue:yp,useDeferredValue:function(t){return xn().memoizedState=t},useTransition:function(){var t=av(!1),e=t[0];return t=JR.bind(null,t[1]),xn().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=je,i=xn();if(Oe){if(n===void 0)throw Error(D(407));n=n()}else{if(n=e(),rt===null)throw Error(D(349));(ci&30)!==0||jw(r,e,n)}i.memoizedState=n;var s={value:n,getSnapshot:e};return i.queue=s,lv(Ww.bind(null,r,s,t),[t]),r.flags|=2048,Yo(9,Hw.bind(null,r,s,n,e),void 0,null),n},useId:function(){var t=xn(),e=rt.identifierPrefix;if(Oe){var n=Qn,r=Gn;n=(r&~(1<<32-Cn(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=Go++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=XR++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},nI={readContext:vn,useCallback:Jw,useContext:vn,useEffect:vp,useImperativeHandle:Xw,useInsertionEffect:Gw,useLayoutEffect:Qw,useMemo:Zw,useReducer:Ih,useRef:qw,useState:function(){return Ih(Qo)},useDebugValue:yp,useDeferredValue:function(t){var e=yn();return eS(e,tt.memoizedState,t)},useTransition:function(){var t=Ih(Qo)[0],e=yn().memoizedState;return[t,e]},useMutableSource:Bw,useSyncExternalStore:zw,useId:tS,unstable_isNewReconciler:!1},rI={readContext:vn,useCallback:Jw,useContext:vn,useEffect:vp,useImperativeHandle:Xw,useInsertionEffect:Gw,useLayoutEffect:Qw,useMemo:Zw,useReducer:Ch,useRef:qw,useState:function(){return Ch(Qo)},useDebugValue:yp,useDeferredValue:function(t){var e=yn();return tt===null?e.memoizedState=t:eS(e,tt.memoizedState,t)},useTransition:function(){var t=Ch(Qo)[0],e=yn().memoizedState;return[t,e]},useMutableSource:Bw,useSyncExternalStore:zw,useId:tS,unstable_isNewReconciler:!1};function wp(t,e){try{var n="",r=e;do n+=Dk(r),r=r.return;while(r);var i=n}catch(s){i=`
Error generating stack: `+s.message+`
`+s.stack}return{value:t,source:e,stack:i}}function Ud(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var iI=typeof WeakMap=="function"?WeakMap:Map;function oS(t,e,n){n=Zn(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){fu||(fu=!0,qd=r),Ud(t,e)},n}function aS(t,e,n){n=Zn(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var i=e.value;n.payload=function(){return r(i)},n.callback=function(){Ud(t,e)}}var s=t.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(n.callback=function(){Ud(t,e),typeof r!="function"&&(Ir===null?Ir=new Set([this]):Ir.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),n}function uv(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new iI;var i=new Set;r.set(e,i)}else i=r.get(e),i===void 0&&(i=new Set,r.set(e,i));i.has(n)||(i.add(n),t=vI.bind(null,t,e,n),e.then(t,t))}function cv(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function hv(t,e,n,r,i){return(t.mode&1)===0?(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=Zn(-1,1),e.tag=2,Rr(n,e))),n.lanes|=1),t):(t.flags|=65536,t.lanes=i,t)}var lS,Vd,uS,cS;lS=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};Vd=function(){};uS=function(t,e,n,r){var i=t.memoizedProps;if(i!==r){t=e.stateNode,Jr(bn.current);var s=null;switch(n){case"input":i=hd(t,i),r=hd(t,r),s=[];break;case"select":i=He({},i,{value:void 0}),r=He({},r,{value:void 0}),s=[];break;case"textarea":i=pd(t,i),r=pd(t,r),s=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=tu)}gd(n,r);var o;n=null;for(u in i)if(!r.hasOwnProperty(u)&&i.hasOwnProperty(u)&&i[u]!=null)if(u==="style"){var a=i[u];for(o in a)a.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(Mo.hasOwnProperty(u)?s||(s=[]):(s=s||[]).push(u,null));for(u in r){var l=r[u];if(a=i!=null?i[u]:void 0,r.hasOwnProperty(u)&&l!==a&&(l!=null||a!=null))if(u==="style")if(a){for(o in a)!a.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in l)l.hasOwnProperty(o)&&a[o]!==l[o]&&(n||(n={}),n[o]=l[o])}else n||(s||(s=[]),s.push(u,n)),n=l;else u==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(s=s||[]).push(u,l)):u==="children"?typeof l!="string"&&typeof l!="number"||(s=s||[]).push(u,""+l):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(Mo.hasOwnProperty(u)?(l!=null&&u==="onScroll"&&De("scroll",t),s||a===l||(s=[])):(s=s||[]).push(u,l))}n&&(s=s||[]).push("style",n);var u=s;(e.updateQueue=u)&&(e.flags|=4)}};cS=function(t,e,n,r){n!==r&&(e.flags|=4)};function to(t,e){if(!Oe)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function kt(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function sI(t,e,n){var r=e.pendingProps;switch(up(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return kt(e),null;case 1:return qt(e.type)&&nu(),kt(e),null;case 3:return r=e.stateNode,ps(),be(Kt),be(At),fp(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(Zs(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&(e.flags&256)===0||(e.flags|=1024,Rn!==null&&(Yd(Rn),Rn=null))),Vd(t,e),kt(e),null;case 5:dp(e);var i=Jr(qo.current);if(n=e.type,t!==null&&e.stateNode!=null)uS(t,e,n,r,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(D(166));return kt(e),null}if(t=Jr(bn.current),Zs(e)){r=e.stateNode,n=e.type;var s=e.memoizedProps;switch(r[Dn]=e,r[Wo]=s,t=(e.mode&1)!==0,n){case"dialog":De("cancel",r),De("close",r);break;case"iframe":case"object":case"embed":De("load",r);break;case"video":case"audio":for(i=0;i<fo.length;i++)De(fo[i],r);break;case"source":De("error",r);break;case"img":case"image":case"link":De("error",r),De("load",r);break;case"details":De("toggle",r);break;case"input":Rg(r,s),De("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},De("invalid",r);break;case"textarea":Cg(r,s),De("invalid",r)}gd(n,s),i=null;for(var o in s)if(s.hasOwnProperty(o)){var a=s[o];o==="children"?typeof a=="string"?r.textContent!==a&&(s.suppressHydrationWarning!==!0&&al(r.textContent,a,t),i=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(s.suppressHydrationWarning!==!0&&al(r.textContent,a,t),i=["children",""+a]):Mo.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&De("scroll",r)}switch(n){case"input":Za(r),Ig(r,s,!0);break;case"textarea":Za(r),Ng(r);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(r.onclick=tu)}r=i,e.updateQueue=r,r!==null&&(e.flags|=4)}else{o=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=W0(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=o.createElement(n,{is:r.is}):(t=o.createElement(n),n==="select"&&(o=t,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):t=o.createElementNS(t,n),t[Dn]=e,t[Wo]=r,lS(t,e,!1,!1),e.stateNode=t;e:{switch(o=vd(n,r),n){case"dialog":De("cancel",t),De("close",t),i=r;break;case"iframe":case"object":case"embed":De("load",t),i=r;break;case"video":case"audio":for(i=0;i<fo.length;i++)De(fo[i],t);i=r;break;case"source":De("error",t),i=r;break;case"img":case"image":case"link":De("error",t),De("load",t),i=r;break;case"details":De("toggle",t),i=r;break;case"input":Rg(t,r),i=hd(t,r),De("invalid",t);break;case"option":i=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},i=He({},r,{value:void 0}),De("invalid",t);break;case"textarea":Cg(t,r),i=pd(t,r),De("invalid",t);break;default:i=r}gd(n,i),a=i;for(s in a)if(a.hasOwnProperty(s)){var l=a[s];s==="style"?G0(t,l):s==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&K0(t,l)):s==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&$o(t,l):typeof l=="number"&&$o(t,""+l):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(Mo.hasOwnProperty(s)?l!=null&&s==="onScroll"&&De("scroll",t):l!=null&&Hf(t,s,l,o))}switch(n){case"input":Za(t),Ig(t,r,!1);break;case"textarea":Za(t),Ng(t);break;case"option":r.value!=null&&t.setAttribute("value",""+Lr(r.value));break;case"select":t.multiple=!!r.multiple,s=r.value,s!=null?Zi(t,!!r.multiple,s,!1):r.defaultValue!=null&&Zi(t,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=tu)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return kt(e),null;case 6:if(t&&e.stateNode!=null)cS(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(D(166));if(n=Jr(qo.current),Jr(bn.current),Zs(e)){if(r=e.stateNode,n=e.memoizedProps,r[Dn]=e,(s=r.nodeValue!==n)&&(t=sn,t!==null))switch(t.tag){case 3:al(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&al(r.nodeValue,n,(t.mode&1)!==0)}s&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[Dn]=e,e.stateNode=r}return kt(e),null;case 13:if(be(ze),r=e.memoizedState,Oe&&jt!==null&&(e.mode&1)!==0&&(e.flags&128)===0){for(r=jt;r;)r=qn(r.nextSibling);return ds(),e.flags|=98560,e}if(r!==null&&r.dehydrated!==null){if(r=Zs(e),t===null){if(!r)throw Error(D(318));if(r=e.memoizedState,r=r!==null?r.dehydrated:null,!r)throw Error(D(317));r[Dn]=e}else ds(),(e.flags&128)===0&&(e.memoizedState=null),e.flags|=4;return kt(e),null}return Rn!==null&&(Yd(Rn),Rn=null),(e.flags&128)!==0?(e.lanes=n,e):(r=r!==null,n=!1,t===null?Zs(e):n=t.memoizedState!==null,r!==n&&r&&(e.child.flags|=8192,(e.mode&1)!==0&&(t===null||(ze.current&1)!==0?nt===0&&(nt=3):Rp())),e.updateQueue!==null&&(e.flags|=4),kt(e),null);case 4:return ps(),Vd(t,e),t===null&&jo(e.stateNode.containerInfo),kt(e),null;case 10:return op(e.type._context),kt(e),null;case 17:return qt(e.type)&&nu(),kt(e),null;case 19:if(be(ze),s=e.memoizedState,s===null)return kt(e),null;if(r=(e.flags&128)!==0,o=s.rendering,o===null)if(r)to(s,!1);else{if(nt!==0||t!==null&&(t.flags&128)!==0)for(t=e.child;t!==null;){if(o=uu(t),o!==null){for(e.flags|=128,to(s,!1),r=o.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)s=n,t=r,s.flags&=14680066,o=s.alternate,o===null?(s.childLanes=0,s.lanes=t,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=o.childLanes,s.lanes=o.lanes,s.child=o.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=o.memoizedProps,s.memoizedState=o.memoizedState,s.updateQueue=o.updateQueue,s.type=o.type,t=o.dependencies,s.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return Ne(ze,ze.current&1|2),e.child}t=t.sibling}s.tail!==null&&qe()>ms&&(e.flags|=128,r=!0,to(s,!1),e.lanes=4194304)}else{if(!r)if(t=uu(o),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),to(s,!0),s.tail===null&&s.tailMode==="hidden"&&!o.alternate&&!Oe)return kt(e),null}else 2*qe()-s.renderingStartTime>ms&&n!==1073741824&&(e.flags|=128,r=!0,to(s,!1),e.lanes=4194304);s.isBackwards?(o.sibling=e.child,e.child=o):(n=s.last,n!==null?n.sibling=o:e.child=o,s.last=o)}return s.tail!==null?(e=s.tail,s.rendering=e,s.tail=e.sibling,s.renderingStartTime=qe(),e.sibling=null,n=ze.current,Ne(ze,r?n&1|2:n&1),e):(kt(e),null);case 22:case 23:return kp(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&(e.mode&1)!==0?(nn&1073741824)!==0&&(kt(e),e.subtreeFlags&6&&(e.flags|=8192)):kt(e),null;case 24:return null;case 25:return null}throw Error(D(156,e.tag))}var oI=ar.ReactCurrentOwner,Wt=!1;function Dt(t,e,n,r){e.child=t===null?Vw(e,null,n,r):fs(e,t.child,n,r)}function dv(t,e,n,r,i){n=n.render;var s=e.ref;return rs(e,i),r=mp(t,e,n,r,s,i),n=gp(),t!==null&&!Wt?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,ir(t,e,i)):(Oe&&n&&lp(e),e.flags|=1,Dt(t,e,r,i),e.child)}function fv(t,e,n,r,i){if(t===null){var s=n.type;return typeof s=="function"&&!Ip(s)&&s.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=s,hS(t,e,s,r,i)):(t=$l(n.type,null,r,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(s=t.child,(t.lanes&i)===0){var o=s.memoizedProps;if(n=n.compare,n=n!==null?n:zo,n(o,r)&&t.ref===e.ref)return ir(t,e,i)}return e.flags|=1,t=Pr(s,r),t.ref=e.ref,t.return=e,e.child=t}function hS(t,e,n,r,i){if(t!==null){var s=t.memoizedProps;if(zo(s,r)&&t.ref===e.ref)if(Wt=!1,e.pendingProps=r=s,(t.lanes&i)!==0)(t.flags&131072)!==0&&(Wt=!0);else return e.lanes=t.lanes,ir(t,e,i)}return Fd(t,e,n,r,i)}function dS(t,e,n){var r=e.pendingProps,i=r.children,s=t!==null?t.memoizedState:null;if(r.mode==="hidden")if((e.mode&1)===0)e.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ne(Qi,nn),nn|=n;else if((n&1073741824)!==0)e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=s!==null?s.baseLanes:n,Ne(Qi,nn),nn|=r;else return t=s!==null?s.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,Ne(Qi,nn),nn|=t,null;else s!==null?(r=s.baseLanes|n,e.memoizedState=null):r=n,Ne(Qi,nn),nn|=r;return Dt(t,e,i,n),e.child}function fS(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function Fd(t,e,n,r,i){var s=qt(n)?li:At.current;return s=hs(e,s),rs(e,i),n=mp(t,e,n,r,s,i),r=gp(),t!==null&&!Wt?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,ir(t,e,i)):(Oe&&r&&lp(e),e.flags|=1,Dt(t,e,n,i),e.child)}function pv(t,e,n,r,i){if(qt(n)){var s=!0;ru(e)}else s=!1;if(rs(e,i),e.stateNode===null)t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2),Mw(e,n,r),Md(e,n,r,i),r=!0;else if(t===null){var o=e.stateNode,a=e.memoizedProps;o.props=a;var l=o.context,u=n.contextType;typeof u=="object"&&u!==null?u=vn(u):(u=qt(n)?li:At.current,u=hs(e,u));var c=n.getDerivedStateFromProps,h=typeof c=="function"||typeof o.getSnapshotBeforeUpdate=="function";h||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==r||l!==u)&&rv(e,o,r,u),fr=!1;var d=e.memoizedState;o.state=d,ou(e,r,o,i),l=e.memoizedState,a!==r||d!==l||Kt.current||fr?(typeof c=="function"&&(Pd(e,n,c,r),l=e.memoizedState),(a=fr||nv(e,n,a,r,d,l,u))?(h||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=l),o.props=r,o.state=l,o.context=u,r=a):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{o=e.stateNode,bw(t,e),a=e.memoizedProps,u=e.type===e.elementType?a:Tn(e.type,a),o.props=u,h=e.pendingProps,d=o.context,l=n.contextType,typeof l=="object"&&l!==null?l=vn(l):(l=qt(n)?li:At.current,l=hs(e,l));var v=n.getDerivedStateFromProps;(c=typeof v=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==h||d!==l)&&rv(e,o,r,l),fr=!1,d=e.memoizedState,o.state=d,ou(e,r,o,i);var p=e.memoizedState;a!==h||d!==p||Kt.current||fr?(typeof v=="function"&&(Pd(e,n,v,r),p=e.memoizedState),(u=fr||nv(e,n,u,r,d,p,l)||!1)?(c||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,p,l),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,p,l)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&d===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&d===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=p),o.props=r,o.state=p,o.context=l,r=u):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&d===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&d===t.memoizedState||(e.flags|=1024),r=!1)}return Bd(t,e,n,r,s,i)}function Bd(t,e,n,r,i,s){fS(t,e);var o=(e.flags&128)!==0;if(!r&&!o)return i&&Zg(e,n,!1),ir(t,e,s);r=e.stateNode,oI.current=e;var a=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&o?(e.child=fs(e,t.child,null,s),e.child=fs(e,null,a,s)):Dt(t,e,a,s),e.memoizedState=r.state,i&&Zg(e,n,!0),e.child}function pS(t){var e=t.stateNode;e.pendingContext?Jg(t,e.pendingContext,e.pendingContext!==e.context):e.context&&Jg(t,e.context,!1),hp(t,e.containerInfo)}function mv(t,e,n,r,i){return ds(),cp(i),e.flags|=256,Dt(t,e,n,r),e.child}var ul={dehydrated:null,treeContext:null,retryLane:0};function cl(t){return{baseLanes:t,cachePool:null,transitions:null}}function gv(t,e){return{baseLanes:t.baseLanes|e,cachePool:null,transitions:t.transitions}}function mS(t,e,n){var r=e.pendingProps,i=ze.current,s=!1,o=(e.flags&128)!==0,a;if((a=o)||(a=t!==null&&t.memoizedState===null?!1:(i&2)!==0),a?(s=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),Ne(ze,i&1),t===null)return Od(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?((e.mode&1)===0?e.lanes=1:t.data==="$!"?e.lanes=8:e.lanes=1073741824,null):(i=r.children,t=r.fallback,s?(r=e.mode,s=e.child,i={mode:"hidden",children:i},(r&1)===0&&s!==null?(s.childLanes=0,s.pendingProps=i):s=gu(i,r,0,null),t=ii(t,r,n,null),s.return=e,t.return=e,s.sibling=t,e.child=s,e.child.memoizedState=cl(n),e.memoizedState=ul,t):zd(e,i));if(i=t.memoizedState,i!==null){if(a=i.dehydrated,a!==null){if(o)return e.flags&256?(e.flags&=-257,hl(t,e,n,Error(D(422)))):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(s=r.fallback,i=e.mode,r=gu({mode:"visible",children:r.children},i,0,null),s=ii(s,i,n,null),s.flags|=2,r.return=e,s.return=e,r.sibling=s,e.child=r,(e.mode&1)!==0&&fs(e,t.child,null,n),e.child.memoizedState=cl(n),e.memoizedState=ul,s);if((e.mode&1)===0)e=hl(t,e,n,null);else if(a.data==="$!")e=hl(t,e,n,Error(D(419)));else if(r=(n&t.childLanes)!==0,Wt||r){if(r=rt,r!==null){switch(n&-n){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}r=(s&(r.suspendedLanes|n))!==0?0:s,r!==0&&r!==i.retryLane&&(i.retryLane=r,mn(t,r,-1))}Rp(),e=hl(t,e,n,Error(D(421)))}else a.data==="$?"?(e.flags|=128,e.child=t.child,e=yI.bind(null,t),a._reactRetry=e,e=null):(n=i.treeContext,jt=qn(a.nextSibling),sn=e,Oe=!0,Rn=null,n!==null&&(hn[dn++]=Gn,hn[dn++]=Qn,hn[dn++]=ui,Gn=n.id,Qn=n.overflow,ui=e),e=zd(e,e.pendingProps.children),e.flags|=4096);return e}return s?(r=yv(t,e,r.children,r.fallback,n),s=e.child,i=t.child.memoizedState,s.memoizedState=i===null?cl(n):gv(i,n),s.childLanes=t.childLanes&~n,e.memoizedState=ul,r):(n=vv(t,e,r.children,n),e.memoizedState=null,n)}return s?(r=yv(t,e,r.children,r.fallback,n),s=e.child,i=t.child.memoizedState,s.memoizedState=i===null?cl(n):gv(i,n),s.childLanes=t.childLanes&~n,e.memoizedState=ul,r):(n=vv(t,e,r.children,n),e.memoizedState=null,n)}function zd(t,e){return e=gu({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function vv(t,e,n,r){var i=t.child;return t=i.sibling,n=Pr(i,{mode:"visible",children:n}),(e.mode&1)===0&&(n.lanes=r),n.return=e,n.sibling=null,t!==null&&(r=e.deletions,r===null?(e.deletions=[t],e.flags|=16):r.push(t)),e.child=n}function yv(t,e,n,r,i){var s=e.mode;t=t.child;var o=t.sibling,a={mode:"hidden",children:n};return(s&1)===0&&e.child!==t?(n=e.child,n.childLanes=0,n.pendingProps=a,e.deletions=null):(n=Pr(t,a),n.subtreeFlags=t.subtreeFlags&14680064),o!==null?r=Pr(o,r):(r=ii(r,s,i,null),r.flags|=2),r.return=e,n.return=e,n.sibling=r,e.child=n,r}function hl(t,e,n,r){return r!==null&&cp(r),fs(e,t.child,null,n),t=zd(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function wv(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),bd(t.return,e,n)}function Nh(t,e,n,r,i){var s=t.memoizedState;s===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(s.isBackwards=e,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=n,s.tailMode=i)}function gS(t,e,n){var r=e.pendingProps,i=r.revealOrder,s=r.tail;if(Dt(t,e,r.children,n),r=ze.current,(r&2)!==0)r=r&1|2,e.flags|=128;else{if(t!==null&&(t.flags&128)!==0)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&wv(t,n,e);else if(t.tag===19)wv(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(Ne(ze,r),(e.mode&1)===0)e.memoizedState=null;else switch(i){case"forwards":for(n=e.child,i=null;n!==null;)t=n.alternate,t!==null&&uu(t)===null&&(i=n),n=n.sibling;n=i,n===null?(i=e.child,e.child=null):(i=n.sibling,n.sibling=null),Nh(e,!1,i,n,s);break;case"backwards":for(n=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&uu(t)===null){e.child=i;break}t=i.sibling,i.sibling=n,n=i,i=t}Nh(e,!0,n,null,s);break;case"together":Nh(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function ir(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),hi|=e.lanes,(n&e.childLanes)===0)return null;if(t!==null&&e.child!==t.child)throw Error(D(153));if(e.child!==null){for(t=e.child,n=Pr(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=Pr(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function aI(t,e,n){switch(e.tag){case 3:pS(e),ds();break;case 5:Fw(e);break;case 1:qt(e.type)&&ru(e);break;case 4:hp(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,i=e.memoizedProps.value;Ne(iu,r._currentValue),r._currentValue=i;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(Ne(ze,ze.current&1),e.flags|=128,null):(n&e.child.childLanes)!==0?mS(t,e,n):(Ne(ze,ze.current&1),t=ir(t,e,n),t!==null?t.sibling:null);Ne(ze,ze.current&1);break;case 19:if(r=(n&e.childLanes)!==0,(t.flags&128)!==0){if(r)return gS(t,e,n);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),Ne(ze,ze.current),r)break;return null;case 22:case 23:return e.lanes=0,dS(t,e,n)}return ir(t,e,n)}function lI(t,e){switch(up(e),e.tag){case 1:return qt(e.type)&&nu(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return ps(),be(Kt),be(At),fp(),t=e.flags,(t&65536)!==0&&(t&128)===0?(e.flags=t&-65537|128,e):null;case 5:return dp(e),null;case 13:if(be(ze),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(D(340));ds()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return be(ze),null;case 4:return ps(),null;case 10:return op(e.type._context),null;case 22:case 23:return kp(),null;case 24:return null;default:return null}}var dl=!1,Rt=!1,uI=typeof WeakSet=="function"?WeakSet:Set,F=null;function Gi(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){Ke(t,e,r)}else n.current=null}function jd(t,e,n){try{n()}catch(r){Ke(t,e,r)}}var Sv=!1;function cI(t,e){if(Cd=Jl,t=Ew(),rp(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,s=r.focusNode;r=r.focusOffset;try{n.nodeType,s.nodeType}catch{n=null;break e}var o=0,a=-1,l=-1,u=0,c=0,h=t,d=null;t:for(;;){for(var v;h!==n||i!==0&&h.nodeType!==3||(a=o+i),h!==s||r!==0&&h.nodeType!==3||(l=o+r),h.nodeType===3&&(o+=h.nodeValue.length),(v=h.firstChild)!==null;)d=h,h=v;for(;;){if(h===t)break t;if(d===n&&++u===i&&(a=o),d===s&&++c===r&&(l=o),(v=h.nextSibling)!==null)break;h=d,d=h.parentNode}h=v}n=a===-1||l===-1?null:{start:a,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(Nd={focusedElem:t,selectionRange:n},Jl=!1,F=e;F!==null;)if(e=F,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,F=t;else for(;F!==null;){e=F;try{var p=e.alternate;if((e.flags&1024)!==0)switch(e.tag){case 0:case 11:case 15:break;case 1:if(p!==null){var _=p.memoizedProps,L=p.memoizedState,m=e.stateNode,f=m.getSnapshotBeforeUpdate(e.elementType===e.type?_:Tn(e.type,_),L);m.__reactInternalSnapshotBeforeUpdate=f}break;case 3:var g=e.stateNode.containerInfo;if(g.nodeType===1)g.textContent="";else if(g.nodeType===9){var E=g.body;E!=null&&(E.textContent="")}break;case 5:case 6:case 4:case 17:break;default:throw Error(D(163))}}catch(k){Ke(e,e.return,k)}if(t=e.sibling,t!==null){t.return=e.return,F=t;break}F=e.return}return p=Sv,Sv=!1,p}function ko(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&t)===t){var s=i.destroy;i.destroy=void 0,s!==void 0&&jd(e,n,s)}i=i.next}while(i!==r)}}function ec(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function Hd(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function vS(t){var e=t.alternate;e!==null&&(t.alternate=null,vS(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[Dn],delete e[Wo],delete e[Dd],delete e[qR],delete e[GR])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function yS(t){return t.tag===5||t.tag===3||t.tag===4}function _v(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||yS(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Wd(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=tu));else if(r!==4&&(t=t.child,t!==null))for(Wd(t,e,n),t=t.sibling;t!==null;)Wd(t,e,n),t=t.sibling}function Kd(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(Kd(t,e,n),t=t.sibling;t!==null;)Kd(t,e,n),t=t.sibling}var ft=null,kn=!1;function cr(t,e,n){for(n=n.child;n!==null;)wS(t,e,n),n=n.sibling}function wS(t,e,n){if(Ln&&typeof Ln.onCommitFiberUnmount=="function")try{Ln.onCommitFiberUnmount(Ku,n)}catch{}switch(n.tag){case 5:Rt||Gi(n,e);case 6:var r=ft,i=kn;ft=null,cr(t,e,n),ft=r,kn=i,ft!==null&&(kn?(t=ft,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):ft.removeChild(n.stateNode));break;case 18:ft!==null&&(kn?(t=ft,n=n.stateNode,t.nodeType===8?Eh(t.parentNode,n):t.nodeType===1&&Eh(t,n),Fo(t)):Eh(ft,n.stateNode));break;case 4:r=ft,i=kn,ft=n.stateNode.containerInfo,kn=!0,cr(t,e,n),ft=r,kn=i;break;case 0:case 11:case 14:case 15:if(!Rt&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var s=i,o=s.destroy;s=s.tag,o!==void 0&&((s&2)!==0||(s&4)!==0)&&jd(n,e,o),i=i.next}while(i!==r)}cr(t,e,n);break;case 1:if(!Rt&&(Gi(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){Ke(n,e,a)}cr(t,e,n);break;case 21:cr(t,e,n);break;case 22:n.mode&1?(Rt=(r=Rt)||n.memoizedState!==null,cr(t,e,n),Rt=r):cr(t,e,n);break;default:cr(t,e,n)}}function Ev(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new uI),e.forEach(function(r){var i=wI.bind(null,t,r);n.has(r)||(n.add(r),r.then(i,i))})}}function _n(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var s=t,o=e,a=o;e:for(;a!==null;){switch(a.tag){case 5:ft=a.stateNode,kn=!1;break e;case 3:ft=a.stateNode.containerInfo,kn=!0;break e;case 4:ft=a.stateNode.containerInfo,kn=!0;break e}a=a.return}if(ft===null)throw Error(D(160));wS(s,o,i),ft=null,kn=!1;var l=i.alternate;l!==null&&(l.return=null),i.return=null}catch(u){Ke(i,e,u)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)SS(e,t),e=e.sibling}function SS(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(_n(e,t),An(t),r&4){try{ko(3,t,t.return),ec(3,t)}catch(p){Ke(t,t.return,p)}try{ko(5,t,t.return)}catch(p){Ke(t,t.return,p)}}break;case 1:_n(e,t),An(t),r&512&&n!==null&&Gi(n,n.return);break;case 5:if(_n(e,t),An(t),r&512&&n!==null&&Gi(n,n.return),t.flags&32){var i=t.stateNode;try{$o(i,"")}catch(p){Ke(t,t.return,p)}}if(r&4&&(i=t.stateNode,i!=null)){var s=t.memoizedProps,o=n!==null?n.memoizedProps:s,a=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{a==="input"&&s.type==="radio"&&s.name!=null&&j0(i,s),vd(a,o);var u=vd(a,s);for(o=0;o<l.length;o+=2){var c=l[o],h=l[o+1];c==="style"?G0(i,h):c==="dangerouslySetInnerHTML"?K0(i,h):c==="children"?$o(i,h):Hf(i,c,h,u)}switch(a){case"input":dd(i,s);break;case"textarea":H0(i,s);break;case"select":var d=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!s.multiple;var v=s.value;v!=null?Zi(i,!!s.multiple,v,!1):d!==!!s.multiple&&(s.defaultValue!=null?Zi(i,!!s.multiple,s.defaultValue,!0):Zi(i,!!s.multiple,s.multiple?[]:"",!1))}i[Wo]=s}catch(p){Ke(t,t.return,p)}}break;case 6:if(_n(e,t),An(t),r&4){if(t.stateNode===null)throw Error(D(162));u=t.stateNode,c=t.memoizedProps;try{u.nodeValue=c}catch(p){Ke(t,t.return,p)}}break;case 3:if(_n(e,t),An(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Fo(e.containerInfo)}catch(p){Ke(t,t.return,p)}break;case 4:_n(e,t),An(t);break;case 13:_n(e,t),An(t),u=t.child,u.flags&8192&&u.memoizedState!==null&&(u.alternate===null||u.alternate.memoizedState===null)&&(Ep=qe()),r&4&&Ev(t);break;case 22:if(u=n!==null&&n.memoizedState!==null,t.mode&1?(Rt=(c=Rt)||u,_n(e,t),Rt=c):_n(e,t),An(t),r&8192){c=t.memoizedState!==null;e:for(h=null,d=t;;){if(d.tag===5){if(h===null){h=d;try{i=d.stateNode,c?(s=i.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(a=d.stateNode,l=d.memoizedProps.style,o=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=q0("display",o))}catch(p){Ke(t,t.return,p)}}}else if(d.tag===6){if(h===null)try{d.stateNode.nodeValue=c?"":d.memoizedProps}catch(p){Ke(t,t.return,p)}}else if((d.tag!==22&&d.tag!==23||d.memoizedState===null||d===t)&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===t)break e;for(;d.sibling===null;){if(d.return===null||d.return===t)break e;h===d&&(h=null),d=d.return}h===d&&(h=null),d.sibling.return=d.return,d=d.sibling}if(c&&!u&&(t.mode&1)!==0)for(F=t,t=t.child;t!==null;){for(u=F=t;F!==null;){switch(c=F,h=c.child,c.tag){case 0:case 11:case 14:case 15:ko(4,c,c.return);break;case 1:if(Gi(c,c.return),s=c.stateNode,typeof s.componentWillUnmount=="function"){d=c,v=c.return;try{i=d,s.props=i.memoizedProps,s.state=i.memoizedState,s.componentWillUnmount()}catch(p){Ke(d,v,p)}}break;case 5:Gi(c,c.return);break;case 22:if(c.memoizedState!==null){kv(u);continue}}h!==null?(h.return=c,F=h):kv(u)}t=t.sibling}}break;case 19:_n(e,t),An(t),r&4&&Ev(t);break;case 21:break;default:_n(e,t),An(t)}}function An(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(yS(n)){var r=n;break e}n=n.return}throw Error(D(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&($o(i,""),r.flags&=-33);var s=_v(t);Kd(t,s,i);break;case 3:case 4:var o=r.stateNode.containerInfo,a=_v(t);Wd(t,a,o);break;default:throw Error(D(161))}}catch(l){Ke(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function hI(t,e,n){F=t,_S(t)}function _S(t,e,n){for(var r=(t.mode&1)!==0;F!==null;){var i=F,s=i.child;if(i.tag===22&&r){var o=i.memoizedState!==null||dl;if(!o){var a=i.alternate,l=a!==null&&a.memoizedState!==null||Rt;a=dl;var u=Rt;if(dl=o,(Rt=l)&&!u)for(F=i;F!==null;)o=F,l=o.child,o.tag===22&&o.memoizedState!==null?Rv(i):l!==null?(l.return=o,F=l):Rv(i);for(;s!==null;)F=s,_S(s),s=s.sibling;F=i,dl=a,Rt=u}Tv(t)}else(i.subtreeFlags&8772)!==0&&s!==null?(s.return=i,F=s):Tv(t)}}function Tv(t){for(;F!==null;){var e=F;if((e.flags&8772)!==0){var n=e.alternate;try{if((e.flags&8772)!==0)switch(e.tag){case 0:case 11:case 15:Rt||ec(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!Rt)if(n===null)r.componentDidMount();else{var i=e.elementType===e.type?n.memoizedProps:Tn(e.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var s=e.updateQueue;s!==null&&tv(e,s,r);break;case 3:var o=e.updateQueue;if(o!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}tv(e,o,n)}break;case 5:var a=e.stateNode;if(n===null&&e.flags&4){n=a;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var u=e.alternate;if(u!==null){var c=u.memoizedState;if(c!==null){var h=c.dehydrated;h!==null&&Fo(h)}}}break;case 19:case 17:case 21:case 22:case 23:break;default:throw Error(D(163))}Rt||e.flags&512&&Hd(e)}catch(d){Ke(e,e.return,d)}}if(e===t){F=null;break}if(n=e.sibling,n!==null){n.return=e.return,F=n;break}F=e.return}}function kv(t){for(;F!==null;){var e=F;if(e===t){F=null;break}var n=e.sibling;if(n!==null){n.return=e.return,F=n;break}F=e.return}}function Rv(t){for(;F!==null;){var e=F;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{ec(4,e)}catch(l){Ke(e,n,l)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var i=e.return;try{r.componentDidMount()}catch(l){Ke(e,i,l)}}var s=e.return;try{Hd(e)}catch(l){Ke(e,s,l)}break;case 5:var o=e.return;try{Hd(e)}catch(l){Ke(e,o,l)}}}catch(l){Ke(e,e.return,l)}if(e===t){F=null;break}var a=e.sibling;if(a!==null){a.return=e.return,F=a;break}F=e.return}}var dI=Math.ceil,du=ar.ReactCurrentDispatcher,Sp=ar.ReactCurrentOwner,pn=ar.ReactCurrentBatchConfig,ve=0,rt=null,Ye=null,mt=0,nn=0,Qi=Fr(0),nt=0,Xo=null,hi=0,tc=0,_p=0,Ro=null,zt=null,Ep=0,ms=1/0,jn=null,fu=!1,qd=null,Ir=null,fl=!1,_r=null,pu=0,Io=0,Gd=null,Pl=-1,Ml=0;function $t(){return(ve&6)!==0?qe():Pl!==-1?Pl:Pl=qe()}function Cr(t){return(t.mode&1)===0?1:(ve&2)!==0&&mt!==0?mt&-mt:YR.transition!==null?(Ml===0&&(Ml=ow()),Ml):(t=Te,t!==0||(t=window.event,t=t===void 0?16:fw(t.type)),t)}function mn(t,e,n){if(50<Io)throw Io=0,Gd=null,Error(D(185));var r=nc(t,e);return r===null?null:(pa(r,e,n),((ve&2)===0||r!==rt)&&(r===rt&&((ve&2)===0&&(tc|=e),nt===4&&gr(r,mt)),Gt(r,n),e===1&&ve===0&&(t.mode&1)===0&&(ms=qe()+500,Xu&&Br())),r)}function nc(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}function ES(t){return(rt!==null||In!==null)&&(t.mode&1)!==0&&(ve&2)===0}function Gt(t,e){var n=t.callbackNode;Yk(t,e);var r=Xl(t,t===rt?mt:0);if(r===0)n!==null&&Dg(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&Dg(n),e===1)t.tag===0?QR(Iv.bind(null,t)):Lw(Iv.bind(null,t)),WR(function(){ve===0&&Br()}),n=null;else{switch(aw(r)){case 1:n=Qf;break;case 4:n=iw;break;case 16:n=Yl;break;case 536870912:n=sw;break;default:n=Yl}n=xS(n,TS.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function TS(t,e){if(Pl=-1,Ml=0,(ve&6)!==0)throw Error(D(327));var n=t.callbackNode;if(is()&&t.callbackNode!==n)return null;var r=Xl(t,t===rt?mt:0);if(r===0)return null;if((r&30)!==0||(r&t.expiredLanes)!==0||e)e=mu(t,r);else{e=r;var i=ve;ve|=2;var s=RS();(rt!==t||mt!==e)&&(jn=null,ms=qe()+500,ri(t,e));do try{mI();break}catch(a){kS(t,a)}while(1);sp(),du.current=s,ve=i,Ye!==null?e=0:(rt=null,mt=0,e=nt)}if(e!==0){if(e===2&&(i=Ed(t),i!==0&&(r=i,e=Qd(t,i))),e===1)throw n=Xo,ri(t,0),gr(t,r),Gt(t,qe()),n;if(e===6)gr(t,r);else{if(i=t.current.alternate,(r&30)===0&&!fI(i)&&(e=mu(t,r),e===2&&(s=Ed(t),s!==0&&(r=s,e=Qd(t,s))),e===1))throw n=Xo,ri(t,0),gr(t,r),Gt(t,qe()),n;switch(t.finishedWork=i,t.finishedLanes=r,e){case 0:case 1:throw Error(D(345));case 2:Gr(t,zt,jn);break;case 3:if(gr(t,r),(r&130023424)===r&&(e=Ep+500-qe(),10<e)){if(Xl(t,0)!==0)break;if(i=t.suspendedLanes,(i&r)!==r){$t(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=xd(Gr.bind(null,t,zt,jn),e);break}Gr(t,zt,jn);break;case 4:if(gr(t,r),(r&4194240)===r)break;for(e=t.eventTimes,i=-1;0<r;){var o=31-Cn(r);s=1<<o,o=e[o],o>i&&(i=o),r&=~s}if(r=i,r=qe()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*dI(r/1960))-r,10<r){t.timeoutHandle=xd(Gr.bind(null,t,zt,jn),r);break}Gr(t,zt,jn);break;case 5:Gr(t,zt,jn);break;default:throw Error(D(329))}}}return Gt(t,qe()),t.callbackNode===n?TS.bind(null,t):null}function Qd(t,e){var n=Ro;return t.current.memoizedState.isDehydrated&&(ri(t,e).flags|=256),t=mu(t,e),t!==2&&(e=zt,zt=n,e!==null&&Yd(e)),t}function Yd(t){zt===null?zt=t:zt.push.apply(zt,t)}function fI(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],s=i.getSnapshot;i=i.value;try{if(!Nn(s(),i))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function gr(t,e){for(e&=~_p,e&=~tc,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-Cn(e),r=1<<n;t[n]=-1,e&=~r}}function Iv(t){if((ve&6)!==0)throw Error(D(327));is();var e=Xl(t,0);if((e&1)===0)return Gt(t,qe()),null;var n=mu(t,e);if(t.tag!==0&&n===2){var r=Ed(t);r!==0&&(e=r,n=Qd(t,r))}if(n===1)throw n=Xo,ri(t,0),gr(t,e),Gt(t,qe()),n;if(n===6)throw Error(D(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,Gr(t,zt,jn),Gt(t,qe()),null}function Tp(t,e){var n=ve;ve|=1;try{return t(e)}finally{ve=n,ve===0&&(ms=qe()+500,Xu&&Br())}}function di(t){_r!==null&&_r.tag===0&&(ve&6)===0&&is();var e=ve;ve|=1;var n=pn.transition,r=Te;try{if(pn.transition=null,Te=1,t)return t()}finally{Te=r,pn.transition=n,ve=e,(ve&6)===0&&Br()}}function kp(){nn=Qi.current,be(Qi)}function ri(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,HR(n)),Ye!==null)for(n=Ye.return;n!==null;){var r=n;switch(up(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&nu();break;case 3:ps(),be(Kt),be(At),fp();break;case 5:dp(r);break;case 4:ps();break;case 13:be(ze);break;case 19:be(ze);break;case 10:op(r.type._context);break;case 22:case 23:kp()}n=n.return}if(rt=t,Ye=t=Pr(t.current,null),mt=nn=e,nt=0,Xo=null,_p=tc=hi=0,zt=Ro=null,In!==null){for(e=0;e<In.length;e++)if(n=In[e],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,s=n.pending;if(s!==null){var o=s.next;s.next=i,r.next=o}n.pending=r}In=null}return t}function kS(t,e){do{var n=Ye;try{if(sp(),Ll.current=hu,cu){for(var r=je.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}cu=!1}if(ci=0,lt=tt=je=null,To=!1,Go=0,Sp.current=null,n===null||n.return===null){nt=1,Xo=e,Ye=null;break}e:{var s=t,o=n.return,a=n,l=e;if(e=mt,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var u=l,c=a,h=c.tag;if((c.mode&1)===0&&(h===0||h===11||h===15)){var d=c.alternate;d?(c.updateQueue=d.updateQueue,c.memoizedState=d.memoizedState,c.lanes=d.lanes):(c.updateQueue=null,c.memoizedState=null)}var v=cv(o);if(v!==null){v.flags&=-257,hv(v,o,a,s,e),v.mode&1&&uv(s,u,e),e=v,l=u;var p=e.updateQueue;if(p===null){var _=new Set;_.add(l),e.updateQueue=_}else p.add(l);break e}else{if((e&1)===0){uv(s,u,e),Rp();break e}l=Error(D(426))}}else if(Oe&&a.mode&1){var L=cv(o);if(L!==null){(L.flags&65536)===0&&(L.flags|=256),hv(L,o,a,s,e),cp(l);break e}}s=l,nt!==4&&(nt=2),Ro===null?Ro=[s]:Ro.push(s),l=wp(l,a),a=o;do{switch(a.tag){case 3:a.flags|=65536,e&=-e,a.lanes|=e;var m=oS(a,l,e);ev(a,m);break e;case 1:s=l;var f=a.type,g=a.stateNode;if((a.flags&128)===0&&(typeof f.getDerivedStateFromError=="function"||g!==null&&typeof g.componentDidCatch=="function"&&(Ir===null||!Ir.has(g)))){a.flags|=65536,e&=-e,a.lanes|=e;var E=aS(a,s,e);ev(a,E);break e}}a=a.return}while(a!==null)}CS(n)}catch(k){e=k,Ye===n&&n!==null&&(Ye=n=n.return);continue}break}while(1)}function RS(){var t=du.current;return du.current=hu,t===null?hu:t}function Rp(){(nt===0||nt===3||nt===2)&&(nt=4),rt===null||(hi&268435455)===0&&(tc&268435455)===0||gr(rt,mt)}function mu(t,e){var n=ve;ve|=2;var r=RS();(rt!==t||mt!==e)&&(jn=null,ri(t,e));do try{pI();break}catch(i){kS(t,i)}while(1);if(sp(),ve=n,du.current=r,Ye!==null)throw Error(D(261));return rt=null,mt=0,nt}function pI(){for(;Ye!==null;)IS(Ye)}function mI(){for(;Ye!==null&&!Bk();)IS(Ye)}function IS(t){var e=AS(t.alternate,t,nn);t.memoizedProps=t.pendingProps,e===null?CS(t):Ye=e,Sp.current=null}function CS(t){var e=t;do{var n=e.alternate;if(t=e.return,(e.flags&32768)===0){if(n=sI(n,e,nn),n!==null){Ye=n;return}}else{if(n=lI(n,e),n!==null){n.flags&=32767,Ye=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{nt=6,Ye=null;return}}if(e=e.sibling,e!==null){Ye=e;return}Ye=e=t}while(e!==null);nt===0&&(nt=5)}function Gr(t,e,n){var r=Te,i=pn.transition;try{pn.transition=null,Te=1,gI(t,e,n,r)}finally{pn.transition=i,Te=r}return null}function gI(t,e,n,r){do is();while(_r!==null);if((ve&6)!==0)throw Error(D(327));n=t.finishedWork;var i=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(D(177));t.callbackNode=null,t.callbackPriority=0;var s=n.lanes|n.childLanes;if(Xk(t,s),t===rt&&(Ye=rt=null,mt=0),(n.subtreeFlags&2064)===0&&(n.flags&2064)===0||fl||(fl=!0,xS(Yl,function(){return is(),null})),s=(n.flags&15990)!==0,(n.subtreeFlags&15990)!==0||s){s=pn.transition,pn.transition=null;var o=Te;Te=1;var a=ve;ve|=4,Sp.current=null,cI(t,n),SS(n,t),OR(Nd),Jl=!!Cd,Nd=Cd=null,t.current=n,hI(n),zk(),ve=a,Te=o,pn.transition=s}else t.current=n;if(fl&&(fl=!1,_r=t,pu=i),s=t.pendingLanes,s===0&&(Ir=null),Wk(n.stateNode),Gt(t,qe()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)r(e[n]);if(fu)throw fu=!1,t=qd,qd=null,t;return(pu&1)!==0&&t.tag!==0&&is(),s=t.pendingLanes,(s&1)!==0?t===Gd?Io++:(Io=0,Gd=t):Io=0,Br(),null}function is(){if(_r!==null){var t=aw(pu),e=pn.transition,n=Te;try{if(pn.transition=null,Te=16>t?16:t,_r===null)var r=!1;else{if(t=_r,_r=null,pu=0,(ve&6)!==0)throw Error(D(331));var i=ve;for(ve|=4,F=t.current;F!==null;){var s=F,o=s.child;if((F.flags&16)!==0){var a=s.deletions;if(a!==null){for(var l=0;l<a.length;l++){var u=a[l];for(F=u;F!==null;){var c=F;switch(c.tag){case 0:case 11:case 15:ko(8,c,s)}var h=c.child;if(h!==null)h.return=c,F=h;else for(;F!==null;){c=F;var d=c.sibling,v=c.return;if(vS(c),c===u){F=null;break}if(d!==null){d.return=v,F=d;break}F=v}}}var p=s.alternate;if(p!==null){var _=p.child;if(_!==null){p.child=null;do{var L=_.sibling;_.sibling=null,_=L}while(_!==null)}}F=s}}if((s.subtreeFlags&2064)!==0&&o!==null)o.return=s,F=o;else e:for(;F!==null;){if(s=F,(s.flags&2048)!==0)switch(s.tag){case 0:case 11:case 15:ko(9,s,s.return)}var m=s.sibling;if(m!==null){m.return=s.return,F=m;break e}F=s.return}}var f=t.current;for(F=f;F!==null;){o=F;var g=o.child;if((o.subtreeFlags&2064)!==0&&g!==null)g.return=o,F=g;else e:for(o=f;F!==null;){if(a=F,(a.flags&2048)!==0)try{switch(a.tag){case 0:case 11:case 15:ec(9,a)}}catch(k){Ke(a,a.return,k)}if(a===o){F=null;break e}var E=a.sibling;if(E!==null){E.return=a.return,F=E;break e}F=a.return}}if(ve=i,Br(),Ln&&typeof Ln.onPostCommitFiberRoot=="function")try{Ln.onPostCommitFiberRoot(Ku,t)}catch{}r=!0}return r}finally{Te=n,pn.transition=e}}return!1}function Cv(t,e,n){e=wp(n,e),e=oS(t,e,1),Rr(t,e),e=$t(),t=nc(t,1),t!==null&&(pa(t,1,e),Gt(t,e))}function Ke(t,e,n){if(t.tag===3)Cv(t,t,n);else for(;e!==null;){if(e.tag===3){Cv(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Ir===null||!Ir.has(r))){t=wp(n,t),t=aS(e,t,1),Rr(e,t),t=$t(),e=nc(e,1),e!==null&&(pa(e,1,t),Gt(e,t));break}}e=e.return}}function vI(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=$t(),t.pingedLanes|=t.suspendedLanes&n,rt===t&&(mt&n)===n&&(nt===4||nt===3&&(mt&130023424)===mt&&500>qe()-Ep?ri(t,0):_p|=n),Gt(t,e)}function NS(t,e){e===0&&((t.mode&1)===0?e=1:(e=nl,nl<<=1,(nl&130023424)===0&&(nl=4194304)));var n=$t();t=nc(t,e),t!==null&&(pa(t,e,n),Gt(t,n))}function yI(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),NS(t,n)}function wI(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,i=t.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(D(314))}r!==null&&r.delete(e),NS(t,n)}var AS;AS=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||Kt.current)Wt=!0;else{if((t.lanes&n)===0&&(e.flags&128)===0)return Wt=!1,aI(t,e,n);Wt=(t.flags&131072)!==0}else Wt=!1,Oe&&(e.flags&1048576)!==0&&$w(e,lu,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2),t=e.pendingProps;var i=hs(e,At.current);rs(e,n),i=mp(null,e,r,t,i,n);var s=gp();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,qt(r)?(s=!0,ru(e)):s=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,ap(e),i.updater=Ju,e.stateNode=i,i._reactInternals=e,Md(e,r,t,n),e=Bd(null,e,r,!0,s,n)):(e.tag=0,Oe&&s&&lp(e),Dt(null,e,i,n),e=e.child),e;case 16:r=e.elementType;e:{switch(t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2),t=e.pendingProps,i=r._init,r=i(r._payload),e.type=r,i=e.tag=_I(r),t=Tn(r,t),i){case 0:e=Fd(null,e,r,t,n);break e;case 1:e=pv(null,e,r,t,n);break e;case 11:e=dv(null,e,r,t,n);break e;case 14:e=fv(null,e,r,Tn(r.type,t),n);break e}throw Error(D(306,r,""))}return e;case 0:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Tn(r,i),Fd(t,e,r,i,n);case 1:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Tn(r,i),pv(t,e,r,i,n);case 3:e:{if(pS(e),t===null)throw Error(D(387));r=e.pendingProps,s=e.memoizedState,i=s.element,bw(t,e),ou(e,r,null,n);var o=e.memoizedState;if(r=o.element,s.isDehydrated)if(s={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=s,e.memoizedState=s,e.flags&256){i=Error(D(423)),e=mv(t,e,r,n,i);break e}else if(r!==i){i=Error(D(424)),e=mv(t,e,r,n,i);break e}else for(jt=qn(e.stateNode.containerInfo.firstChild),sn=e,Oe=!0,Rn=null,n=Vw(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(ds(),r===i){e=ir(t,e,n);break e}Dt(t,e,r,n)}e=e.child}return e;case 5:return Fw(e),t===null&&Od(e),r=e.type,i=e.pendingProps,s=t!==null?t.memoizedProps:null,o=i.children,Ad(r,i)?o=null:s!==null&&Ad(r,s)&&(e.flags|=32),fS(t,e),Dt(t,e,o,n),e.child;case 6:return t===null&&Od(e),null;case 13:return mS(t,e,n);case 4:return hp(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=fs(e,null,r,n):Dt(t,e,r,n),e.child;case 11:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Tn(r,i),dv(t,e,r,i,n);case 7:return Dt(t,e,e.pendingProps,n),e.child;case 8:return Dt(t,e,e.pendingProps.children,n),e.child;case 12:return Dt(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,i=e.pendingProps,s=e.memoizedProps,o=i.value,Ne(iu,r._currentValue),r._currentValue=o,s!==null)if(Nn(s.value,o)){if(s.children===i.children&&!Kt.current){e=ir(t,e,n);break e}}else for(s=e.child,s!==null&&(s.return=e);s!==null;){var a=s.dependencies;if(a!==null){o=s.child;for(var l=a.firstContext;l!==null;){if(l.context===r){if(s.tag===1){l=Zn(-1,n&-n),l.tag=2;var u=s.updateQueue;if(u!==null){u=u.shared;var c=u.pending;c===null?l.next=l:(l.next=c.next,c.next=l),u.pending=l}}s.lanes|=n,l=s.alternate,l!==null&&(l.lanes|=n),bd(s.return,n,e),a.lanes|=n;break}l=l.next}}else if(s.tag===10)o=s.type===e.type?null:s.child;else if(s.tag===18){if(o=s.return,o===null)throw Error(D(341));o.lanes|=n,a=o.alternate,a!==null&&(a.lanes|=n),bd(o,n,e),o=s.sibling}else o=s.child;if(o!==null)o.return=s;else for(o=s;o!==null;){if(o===e){o=null;break}if(s=o.sibling,s!==null){s.return=o.return,o=s;break}o=o.return}s=o}Dt(t,e,i.children,n),e=e.child}return e;case 9:return i=e.type,r=e.pendingProps.children,rs(e,n),i=vn(i),r=r(i),e.flags|=1,Dt(t,e,r,n),e.child;case 14:return r=e.type,i=Tn(r,e.pendingProps),i=Tn(r.type,i),fv(t,e,r,i,n);case 15:return hS(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Tn(r,i),t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2),e.tag=1,qt(r)?(t=!0,ru(e)):t=!1,rs(e,n),Mw(e,r,i),Md(e,r,i,n),Bd(null,e,r,!0,t,n);case 19:return gS(t,e,n);case 22:return dS(t,e,n)}throw Error(D(156,e.tag))};function xS(t,e){return rw(t,e)}function SI(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function fn(t,e,n,r){return new SI(t,e,n,r)}function Ip(t){return t=t.prototype,!(!t||!t.isReactComponent)}function _I(t){if(typeof t=="function")return Ip(t)?1:0;if(t!=null){if(t=t.$$typeof,t===Kf)return 11;if(t===qf)return 14}return 2}function Pr(t,e){var n=t.alternate;return n===null?(n=fn(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function $l(t,e,n,r,i,s){var o=2;if(r=t,typeof t=="function")Ip(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case Vi:return ii(n.children,i,s,e);case Wf:o=8,i|=8;break;case ad:return t=fn(12,n,e,i|2),t.elementType=ad,t.lanes=s,t;case ld:return t=fn(13,n,e,i),t.elementType=ld,t.lanes=s,t;case ud:return t=fn(19,n,e,i),t.elementType=ud,t.lanes=s,t;case F0:return gu(n,i,s,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case U0:o=10;break e;case V0:o=9;break e;case Kf:o=11;break e;case qf:o=14;break e;case dr:o=16,r=null;break e}throw Error(D(130,t==null?t:typeof t,""))}return e=fn(o,n,e,i),e.elementType=t,e.type=r,e.lanes=s,e}function ii(t,e,n,r){return t=fn(7,t,r,e),t.lanes=n,t}function gu(t,e,n,r){return t=fn(22,t,r,e),t.elementType=F0,t.lanes=n,t.stateNode={},t}function Ah(t,e,n){return t=fn(6,t,null,e),t.lanes=n,t}function xh(t,e,n){return e=fn(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function EI(t,e,n,r,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=hh(0),this.expirationTimes=hh(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=hh(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function Cp(t,e,n,r,i,s,o,a,l){return t=new EI(t,e,n,a,l),e===1?(e=1,s===!0&&(e|=8)):e=0,s=fn(3,null,null,e),t.current=s,s.stateNode=t,s.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},ap(s),t}function TI(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Ui,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function DS(t){if(!t)return br;t=t._reactInternals;e:{if(Ii(t)!==t||t.tag!==1)throw Error(D(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(qt(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(D(171))}if(t.tag===1){var n=t.type;if(qt(n))return Dw(t,n,e)}return e}function LS(t,e,n,r,i,s,o,a,l){return t=Cp(n,r,!0,t,i,s,o,a,l),t.context=DS(null),n=t.current,r=$t(),i=Cr(n),s=Zn(r,i),s.callback=e!=null?e:null,Rr(n,s),t.current.lanes=i,pa(t,i,r),Gt(t,r),t}function rc(t,e,n,r){var i=e.current,s=$t(),o=Cr(i);return n=DS(n),e.context===null?e.context=n:e.pendingContext=n,e=Zn(s,o),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),Rr(i,e),t=mn(i,o,s),t!==null&&Dl(t,i,o),o}function vu(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function Nv(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function Np(t,e){Nv(t,e),(t=t.alternate)&&Nv(t,e)}function kI(){return null}var bS=typeof reportError=="function"?reportError:function(t){console.error(t)};function Ap(t){this._internalRoot=t}ic.prototype.render=Ap.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(D(409));rc(t,e,null,null)};ic.prototype.unmount=Ap.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;di(function(){rc(null,t,null,null)}),e[rr]=null}};function ic(t){this._internalRoot=t}ic.prototype.unstable_scheduleHydration=function(t){if(t){var e=cw();t={blockedOn:null,target:t,priority:e};for(var n=0;n<mr.length&&e!==0&&e<mr[n].priority;n++);mr.splice(n,0,t),n===0&&dw(t)}};function xp(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function sc(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function Av(){}function RI(t,e,n,r,i){if(i){if(typeof r=="function"){var s=r;r=function(){var u=vu(o);s.call(u)}}var o=LS(e,r,t,0,null,!1,!1,"",Av);return t._reactRootContainer=o,t[rr]=o.current,jo(t.nodeType===8?t.parentNode:t),di(),o}for(;i=t.lastChild;)t.removeChild(i);if(typeof r=="function"){var a=r;r=function(){var u=vu(l);a.call(u)}}var l=Cp(t,0,!1,null,null,!1,!1,"",Av);return t._reactRootContainer=l,t[rr]=l.current,jo(t.nodeType===8?t.parentNode:t),di(function(){rc(e,l,n,r)}),l}function oc(t,e,n,r,i){var s=n._reactRootContainer;if(s){var o=s;if(typeof i=="function"){var a=i;i=function(){var l=vu(o);a.call(l)}}rc(e,o,t,i)}else o=RI(n,e,t,i,r);return vu(o)}lw=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=ho(e.pendingLanes);n!==0&&(Yf(e,n|1),Gt(e,qe()),(ve&6)===0&&(ms=qe()+500,Br()))}break;case 13:var r=$t();di(function(){return mn(t,1,r)}),Np(t,1)}};Xf=function(t){if(t.tag===13){var e=$t();mn(t,134217728,e),Np(t,134217728)}};uw=function(t){if(t.tag===13){var e=$t(),n=Cr(t);mn(t,n,e),Np(t,n)}};cw=function(){return Te};hw=function(t,e){var n=Te;try{return Te=t,e()}finally{Te=n}};wd=function(t,e,n){switch(e){case"input":if(dd(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var i=Yu(r);if(!i)throw Error(D(90));z0(r),dd(r,i)}}}break;case"textarea":H0(t,n);break;case"select":e=n.value,e!=null&&Zi(t,!!n.multiple,e,!1)}};X0=Tp;J0=di;var II={usingClientEntryPoint:!1,Events:[ga,ji,Yu,Q0,Y0,Tp]},no={findFiberByHostInstance:Xr,bundleType:0,version:"18.1.0",rendererPackageName:"react-dom"},CI={bundleType:no.bundleType,version:no.version,rendererPackageName:no.rendererPackageName,rendererConfig:no.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:ar.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=tw(t),t===null?null:t.stateNode},findFiberByHostInstance:no.findFiberByHostInstance||kI,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.1.0-next-22edb9f77-20220426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__!="undefined"){var pl=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!pl.isDisabled&&pl.supportsFiber)try{Ku=pl.inject(CI),Ln=pl}catch{}}ln.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=II;ln.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!xp(e))throw Error(D(200));return TI(t,e,null,n)};ln.createRoot=function(t,e){if(!xp(t))throw Error(D(299));var n=!1,r="",i=bS;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=Cp(t,1,!1,null,null,n,!1,r,i),t[rr]=e.current,jo(t.nodeType===8?t.parentNode:t),new Ap(e)};ln.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(D(188)):(t=Object.keys(t).join(","),Error(D(268,t)));return t=tw(e),t=t===null?null:t.stateNode,t};ln.flushSync=function(t){return di(t)};ln.hydrate=function(t,e,n){if(!sc(e))throw Error(D(200));return oc(null,t,e,!0,n)};ln.hydrateRoot=function(t,e,n){if(!xp(t))throw Error(D(405));var r=n!=null&&n.hydratedSources||null,i=!1,s="",o=bS;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(s=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),e=LS(e,null,t,1,n!=null?n:null,i,!1,s,o),t[rr]=e.current,jo(t),r)for(t=0;t<r.length;t++)n=r[t],i=n._getVersion,i=i(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,i]:e.mutableSourceEagerHydrationData.push(n,i);return new ic(e)};ln.render=function(t,e,n){if(!sc(e))throw Error(D(200));return oc(null,t,e,!1,n)};ln.unmountComponentAtNode=function(t){if(!sc(t))throw Error(D(40));return t._reactRootContainer?(di(function(){oc(null,null,t,!1,function(){t._reactRootContainer=null,t[rr]=null})}),!0):!1};ln.unstable_batchedUpdates=Tp;ln.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!sc(n))throw Error(D(200));if(t==null||t._reactInternals===void 0)throw Error(D(38));return oc(t,e,n,!1,r)};ln.version="18.1.0-next-22edb9f77-20220426";function PS(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__=="undefined"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(PS)}catch(t){console.error(t)}}PS(),Bf.exports=ln;var NI=Bf.exports,xv=Bf.exports;sd.createRoot=xv.createRoot,sd.hydrateRoot=xv.hydrateRoot;function yu(){return yu=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},yu.apply(this,arguments)}var Zr;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(Zr||(Zr={}));var Dv=function(t){return t},Lv="beforeunload",AI="popstate";function xI(t){t===void 0&&(t={});var e=t,n=e.window,r=n===void 0?document.defaultView:n,i=r.history;function s(){var T=r.location,N=T.pathname,K=T.search,V=T.hash,ye=i.state||{};return[ye.idx,Dv({pathname:N,search:K,hash:V,state:ye.usr||null,key:ye.key||"default"})]}var o=null;function a(){if(o)v.call(o),o=null;else{var T=Zr.Pop,N=s(),K=N[0],V=N[1];if(v.length){if(K!=null){var ye=c-K;ye&&(o={action:T,location:V,retry:function(){k(ye*-1)}},k(ye))}}else f(T)}}r.addEventListener(AI,a);var l=Zr.Pop,u=s(),c=u[0],h=u[1],d=Pv(),v=Pv();c==null&&(c=0,i.replaceState(yu({},i.state,{idx:c}),""));function p(T){return typeof T=="string"?T:LI(T)}function _(T,N){return N===void 0&&(N=null),Dv(yu({pathname:h.pathname,hash:"",search:""},typeof T=="string"?Ps(T):T,{state:N,key:DI()}))}function L(T,N){return[{usr:T.state,key:T.key,idx:N},p(T)]}function m(T,N,K){return!v.length||(v.call({action:T,location:N,retry:K}),!1)}function f(T){l=T;var N=s();c=N[0],h=N[1],d.call({action:l,location:h})}function g(T,N){var K=Zr.Push,V=_(T,N);function ye(){g(T,N)}if(m(K,V,ye)){var Me=L(V,c+1),le=Me[0],Ee=Me[1];try{i.pushState(le,"",Ee)}catch{r.location.assign(Ee)}f(K)}}function E(T,N){var K=Zr.Replace,V=_(T,N);function ye(){E(T,N)}if(m(K,V,ye)){var Me=L(V,c),le=Me[0],Ee=Me[1];i.replaceState(le,"",Ee),f(K)}}function k(T){i.go(T)}var A={get action(){return l},get location(){return h},createHref:p,push:g,replace:E,go:k,back:function(){k(-1)},forward:function(){k(1)},listen:function(N){return d.push(N)},block:function(N){var K=v.push(N);return v.length===1&&r.addEventListener(Lv,bv),function(){K(),v.length||r.removeEventListener(Lv,bv)}}};return A}function bv(t){t.preventDefault(),t.returnValue=""}function Pv(){var t=[];return{get length(){return t.length},push:function(n){return t.push(n),function(){t=t.filter(function(r){return r!==n})}},call:function(n){t.forEach(function(r){return r&&r(n)})}}}function DI(){return Math.random().toString(36).substr(2,8)}function LI(t){var e=t.pathname,n=e===void 0?"/":e,r=t.search,i=r===void 0?"":r,s=t.hash,o=s===void 0?"":s;return i&&i!=="?"&&(n+=i.charAt(0)==="?"?i:"?"+i),o&&o!=="#"&&(n+=o.charAt(0)==="#"?o:"#"+o),n}function Ps(t){var e={};if(t){var n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));var r=t.indexOf("?");r>=0&&(e.search=t.substr(r),t=t.substr(0,r)),t&&(e.pathname=t)}return e}/**
 * React Router v6.3.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */const MS=j.exports.createContext(null),Dp=j.exports.createContext(null),Lp=j.exports.createContext({outlet:null,matches:[]});function $n(t,e){if(!t)throw new Error(e)}function bI(t,e,n){n===void 0&&(n="/");let r=typeof e=="string"?Ps(e):e,i=OS(r.pathname||"/",n);if(i==null)return null;let s=$S(t);PI(s);let o=null;for(let a=0;o==null&&a<s.length;++a)o=jI(s[a],i);return o}function $S(t,e,n,r){return e===void 0&&(e=[]),n===void 0&&(n=[]),r===void 0&&(r=""),t.forEach((i,s)=>{let o={relativePath:i.path||"",caseSensitive:i.caseSensitive===!0,childrenIndex:s,route:i};o.relativePath.startsWith("/")&&(o.relativePath.startsWith(r)||$n(!1),o.relativePath=o.relativePath.slice(r.length));let a=si([r,o.relativePath]),l=n.concat(o);i.children&&i.children.length>0&&(i.index===!0&&$n(!1),$S(i.children,e,l,a)),!(i.path==null&&!i.index)&&e.push({path:a,score:BI(a,i.index),routesMeta:l})}),e}function PI(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:zI(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const MI=/^:\w+$/,$I=3,OI=2,UI=1,VI=10,FI=-2,Mv=t=>t==="*";function BI(t,e){let n=t.split("/"),r=n.length;return n.some(Mv)&&(r+=FI),e&&(r+=OI),n.filter(i=>!Mv(i)).reduce((i,s)=>i+(MI.test(s)?$I:s===""?UI:VI),r)}function zI(t,e){return t.length===e.length&&t.slice(0,-1).every((r,i)=>r===e[i])?t[t.length-1]-e[e.length-1]:0}function jI(t,e){let{routesMeta:n}=t,r={},i="/",s=[];for(let o=0;o<n.length;++o){let a=n[o],l=o===n.length-1,u=i==="/"?e:e.slice(i.length)||"/",c=HI({path:a.relativePath,caseSensitive:a.caseSensitive,end:l},u);if(!c)return null;Object.assign(r,c.params);let h=a.route;s.push({params:r,pathname:si([i,c.pathname]),pathnameBase:US(si([i,c.pathnameBase])),route:h}),c.pathnameBase!=="/"&&(i=si([i,c.pathnameBase]))}return s}function HI(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=WI(t.path,t.caseSensitive,t.end),i=e.match(n);if(!i)return null;let s=i[0],o=s.replace(/(.)\/+$/,"$1"),a=i.slice(1);return{params:r.reduce((u,c,h)=>{if(c==="*"){let d=a[h]||"";o=s.slice(0,s.length-d.length).replace(/(.)\/+$/,"$1")}return u[c]=KI(a[h]||""),u},{}),pathname:s,pathnameBase:o,pattern:t}}function WI(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0);let r=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^$?{}|()[\]]/g,"\\$&").replace(/:(\w+)/g,(o,a)=>(r.push(a),"([^\\/]+)"));return t.endsWith("*")?(r.push("*"),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):i+=n?"\\/*$":"(?:(?=[.~-]|%[0-9A-F]{2})|\\b|\\/|$)",[new RegExp(i,e?void 0:"i"),r]}function KI(t,e){try{return decodeURIComponent(t)}catch{return t}}function qI(t,e){e===void 0&&(e="/");let{pathname:n,search:r="",hash:i=""}=typeof t=="string"?Ps(t):t;return{pathname:n?n.startsWith("/")?n:GI(n,e):e,search:YI(r),hash:XI(i)}}function GI(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function QI(t,e,n){let r=typeof t=="string"?Ps(t):t,i=t===""||r.pathname===""?"/":r.pathname,s;if(i==null)s=n;else{let a=e.length-1;if(i.startsWith("..")){let l=i.split("/");for(;l[0]==="..";)l.shift(),a-=1;r.pathname=l.join("/")}s=a>=0?e[a]:"/"}let o=qI(r,s);return i&&i!=="/"&&i.endsWith("/")&&!o.pathname.endsWith("/")&&(o.pathname+="/"),o}function OS(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=t.charAt(e.length);return n&&n!=="/"?null:t.slice(e.length)||"/"}const si=t=>t.join("/").replace(/\/\/+/g,"/"),US=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),YI=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,XI=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function ya(){return j.exports.useContext(Dp)!=null}function bp(){return ya()||$n(!1),j.exports.useContext(Dp).location}function VS(){ya()||$n(!1);let{basename:t,navigator:e}=j.exports.useContext(MS),{matches:n}=j.exports.useContext(Lp),{pathname:r}=bp(),i=JSON.stringify(n.map(a=>a.pathnameBase)),s=j.exports.useRef(!1);return j.exports.useEffect(()=>{s.current=!0}),j.exports.useCallback(function(a,l){if(l===void 0&&(l={}),!s.current)return;if(typeof a=="number"){e.go(a);return}let u=QI(a,JSON.parse(i),r);t!=="/"&&(u.pathname=si([t,u.pathname])),(l.replace?e.replace:e.push)(u,l.state)},[t,e,i,r])}function JI(t,e){ya()||$n(!1);let{matches:n}=j.exports.useContext(Lp),r=n[n.length-1],i=r?r.params:{};r&&r.pathname;let s=r?r.pathnameBase:"/";r&&r.route;let o=bp(),a;if(e){var l;let d=typeof e=="string"?Ps(e):e;s==="/"||((l=d.pathname)==null?void 0:l.startsWith(s))||$n(!1),a=d}else a=o;let u=a.pathname||"/",c=s==="/"?u:u.slice(s.length)||"/",h=bI(t,{pathname:c});return ZI(h&&h.map(d=>Object.assign({},d,{params:Object.assign({},i,d.params),pathname:si([s,d.pathname]),pathnameBase:d.pathnameBase==="/"?s:si([s,d.pathnameBase])})),n)}function ZI(t,e){return e===void 0&&(e=[]),t==null?null:t.reduceRight((n,r,i)=>j.exports.createElement(Lp.Provider,{children:r.route.element!==void 0?r.route.element:n,value:{outlet:n,matches:e.concat(t.slice(0,i+1))}}),null)}function FS(t){let{to:e,replace:n,state:r}=t;ya()||$n(!1);let i=VS();return j.exports.useEffect(()=>{i(e,{replace:n,state:r})}),null}function Xd(t){$n(!1)}function eC(t){let{basename:e="/",children:n=null,location:r,navigationType:i=Zr.Pop,navigator:s,static:o=!1}=t;ya()&&$n(!1);let a=US(e),l=j.exports.useMemo(()=>({basename:a,navigator:s,static:o}),[a,s,o]);typeof r=="string"&&(r=Ps(r));let{pathname:u="/",search:c="",hash:h="",state:d=null,key:v="default"}=r,p=j.exports.useMemo(()=>{let _=OS(u,a);return _==null?null:{pathname:_,search:c,hash:h,state:d,key:v}},[a,u,c,h,d,v]);return p==null?null:j.exports.createElement(MS.Provider,{value:l},j.exports.createElement(Dp.Provider,{children:n,value:{location:p,navigationType:i}}))}function tC(t){let{children:e,location:n}=t;return JI(Jd(e),n)}function Jd(t){let e=[];return j.exports.Children.forEach(t,n=>{if(!j.exports.isValidElement(n))return;if(n.type===j.exports.Fragment){e.push.apply(e,Jd(n.props.children));return}n.type!==Xd&&$n(!1);let r={caseSensitive:n.props.caseSensitive,element:n.props.element,index:n.props.index,path:n.props.path};n.props.children&&(r.children=Jd(n.props.children)),e.push(r)}),e}/**
 * React Router DOM v6.3.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function nC(t){let{basename:e,children:n,window:r}=t,i=j.exports.useRef();i.current==null&&(i.current=xI({window:r}));let s=i.current,[o,a]=j.exports.useState({action:s.action,location:s.location});return j.exports.useLayoutEffect(()=>s.listen(a),[s]),j.exports.createElement(eC,{basename:e,children:n,location:o.location,navigationType:o.action,navigator:s})}function rC(t){const e=new Error(t);if(e.stack===void 0)try{throw e}catch{}return e}var iC=rC,de=iC;function sC(t){return!!t&&typeof t.then=="function"}var Ve=sC;function oC(t,e){if(t!=null)return t;throw de(e!=null?e:"Got unexpected null or undefined")}var Fe=oC;function oe(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}class ac{getValue(){throw de("BaseLoadable")}toPromise(){throw de("BaseLoadable")}valueMaybe(){throw de("BaseLoadable")}valueOrThrow(){throw de(`Loadable expected value, but in "${this.state}" state`)}promiseMaybe(){throw de("BaseLoadable")}promiseOrThrow(){throw de(`Loadable expected promise, but in "${this.state}" state`)}errorMaybe(){throw de("BaseLoadable")}errorOrThrow(){throw de(`Loadable expected error, but in "${this.state}" state`)}is(e){return e.state===this.state&&e.contents===this.contents}map(e){throw de("BaseLoadable")}}class aC extends ac{constructor(e){super(),oe(this,"state","hasValue"),oe(this,"contents",void 0),this.contents=e}getValue(){return this.contents}toPromise(){return Promise.resolve(this.contents)}valueMaybe(){return this.contents}valueOrThrow(){return this.contents}promiseMaybe(){}errorMaybe(){}map(e){try{const n=e(this.contents);return Ve(n)?fi(n):gs(n)?n:wa(n)}catch(n){return Ve(n)?fi(n.next(()=>this.map(e))):lc(n)}}}class lC extends ac{constructor(e){super(),oe(this,"state","hasError"),oe(this,"contents",void 0),this.contents=e}getValue(){throw this.contents}toPromise(){return Promise.reject(this.contents)}valueMaybe(){}promiseMaybe(){}errorMaybe(){return this.contents}errorOrThrow(){return this.contents}map(e){return this}}class BS extends ac{constructor(e){super(),oe(this,"state","loading"),oe(this,"contents",void 0),this.contents=e}getValue(){throw this.contents}toPromise(){return this.contents}valueMaybe(){}promiseMaybe(){return this.contents}promiseOrThrow(){return this.contents}errorMaybe(){}map(e){return fi(this.contents.then(n=>{const r=e(n);if(gs(r)){const i=r;switch(i.state){case"hasValue":return i.contents;case"hasError":throw i.contents;case"loading":return i.contents}}return r}).catch(n=>{if(Ve(n))return n.then(()=>this.map(e).contents);throw n}))}}function wa(t){return Object.freeze(new aC(t))}function lc(t){return Object.freeze(new lC(t))}function fi(t){return Object.freeze(new BS(t))}function zS(){return Object.freeze(new BS(new Promise(()=>{})))}function uC(t){return t.every(e=>e.state==="hasValue")?wa(t.map(e=>e.contents)):t.some(e=>e.state==="hasError")?lc(Fe(t.find(e=>e.state==="hasError"),"Invalid loadable passed to loadableAll").contents):fi(Promise.all(t.map(e=>e.contents)))}function jS(t){const n=(Array.isArray(t)?t:Object.getOwnPropertyNames(t).map(i=>t[i])).map(i=>gs(i)?i:Ve(i)?fi(i):wa(i)),r=uC(n);return Array.isArray(t)?r:r.map(i=>Object.getOwnPropertyNames(t).reduce((s,o,a)=>dt(et({},s),{[o]:i[a]}),{}))}function gs(t){return t instanceof ac}const cC={of:t=>Ve(t)?fi(t):gs(t)?t:wa(t),error:t=>lc(t),loading:()=>zS(),all:jS,isLoadable:gs};var Ci={loadableWithValue:wa,loadableWithError:lc,loadableWithPromise:fi,loadableLoading:zS,loadableAll:jS,isLoadable:gs,RecoilLoadable:cC},hC=Ci.loadableWithValue,dC=Ci.loadableWithError,fC=Ci.loadableWithPromise,pC=Ci.loadableLoading,mC=Ci.loadableAll,gC=Ci.isLoadable,vC=Ci.RecoilLoadable,Sa=Object.freeze({__proto__:null,loadableWithValue:hC,loadableWithError:dC,loadableWithPromise:fC,loadableLoading:pC,loadableAll:mC,isLoadable:gC,RecoilLoadable:vC});const uc=new Map().set("recoil_hamt_2020",!0).set("recoil_sync_external_store",!0).set("recoil_suppress_rerender_in_callback",!0).set("recoil_memory_managament_2020",!0);function cc(t){var e;return(e=uc.get(t))!==null&&e!==void 0?e:!1}cc.setPass=t=>{uc.set(t,!0)};cc.setFail=t=>{uc.set(t,!1)};cc.clear=()=>{uc.clear()};var Ie=cc,Dh,Lh,bh;const yC=(Dh=Be.createMutableSource)!==null&&Dh!==void 0?Dh:Be.unstable_createMutableSource,HS=(Lh=Be.useMutableSource)!==null&&Lh!==void 0?Lh:Be.unstable_useMutableSource,WS=(bh=Be.useSyncExternalStore)!==null&&bh!==void 0?bh:Be.unstable_useSyncExternalStore;function wC(){return Ie("recoil_transition_support")?{mode:"TRANSITION_SUPPORT",early:!0,concurrent:!0}:Ie("recoil_sync_external_store")&&WS!=null?{mode:"SYNC_EXTERNAL_STORE",early:!0,concurrent:!1}:Ie("recoil_mutable_source")&&HS!=null&&typeof window!="undefined"&&!window.$disableRecoilValueMutableSource_TEMP_HACK_DO_NOT_USE?Ie("recoil_suppress_rerender_in_callback")?{mode:"MUTABLE_SOURCE",early:!0,concurrent:!0}:{mode:"MUTABLE_SOURCE",early:!1,concurrent:!1}:Ie("recoil_suppress_rerender_in_callback")?{mode:"LEGACY",early:!0,concurrent:!1}:{mode:"LEGACY",early:!1,concurrent:!1}}function SC(){return!1}var _a={createMutableSource:yC,useMutableSource:HS,useSyncExternalStore:WS,reactMode:wC,isFastRefreshEnabled:SC};class Pp{constructor(e){oe(this,"key",void 0),this.key=e}}class KS extends Pp{}class qS extends Pp{}function _C(t){return t instanceof KS||t instanceof qS}var hc={AbstractRecoilValue:Pp,RecoilState:KS,RecoilValueReadOnly:qS,isRecoilValue:_C},EC=hc.AbstractRecoilValue,TC=hc.RecoilState,kC=hc.RecoilValueReadOnly,RC=hc.isRecoilValue,vs=Object.freeze({__proto__:null,AbstractRecoilValue:EC,RecoilState:TC,RecoilValueReadOnly:kC,isRecoilValue:RC});function IC(t,e){return function*(){let n=0;for(const r of t)yield e(r,n++)}()}var dc=IC;function CC(t,e,{error:n}={}){return null}var NC=CC,Mp=NC;class GS{}const AC=new GS;class xC extends Error{constructor(e){super(`Tried to set the value of Recoil selector ${e} using an updater function, but it is an async selector in a pending or error state; this is not supported.`)}}const pi=new Map,$p=new Map;function DC(t){return dc(t,e=>Fe($p.get(e)))}function LC(t){if(pi.has(t.key)){const n=`Duplicate atom key "${t.key}". This is a FATAL ERROR in
      production. But it is safe to ignore this warning if it occurred because of
      hot module replacement.`;console.warn(n)}pi.set(t.key,t);const e=t.set==null?new vs.RecoilValueReadOnly(t.key):new vs.RecoilState(t.key);return $p.set(t.key,e),e}class QS extends Error{}function bC(t){const e=pi.get(t);if(e==null)throw new QS(`Missing definition for RecoilValue: "${t}""`);return e}function PC(t){return pi.get(t)}const wu=new Map;function MC(t){var e;if(!Ie("recoil_memory_managament_2020"))return;const n=pi.get(t);if(n!=null&&(e=n.shouldDeleteConfigOnRelease)!==null&&e!==void 0&&e.call(n)){var r;pi.delete(t),(r=YS(t))===null||r===void 0||r(),wu.delete(t)}}function $C(t,e){!Ie("recoil_memory_managament_2020")||(e===void 0?wu.delete(t):wu.set(t,e))}function YS(t){return wu.get(t)}var Yt={nodes:pi,recoilValues:$p,registerNode:LC,getNode:bC,getNodeMaybe:PC,deleteNodeConfigIfPossible:MC,setConfigDeletionHandler:$C,getConfigDeletionHandler:YS,recoilValuesForKeys:DC,NodeMissingError:QS,DefaultValue:GS,DEFAULT_VALUE:AC,RecoilValueNotReady:xC};function OC(t,e){e()}var UC={enqueueExecution:OC};function VC(t,e){return e={exports:{}},t(e,e.exports),e.exports}var FC=VC(function(t){var e=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(w){return typeof w}:function(w){return w&&typeof Symbol=="function"&&w.constructor===Symbol&&w!==Symbol.prototype?"symbol":typeof w},n={},r=5,i=Math.pow(2,r),s=i-1,o=i/2,a=i/4,l={},u=function(y){return function(){return y}},c=n.hash=function(w){var y=typeof w=="undefined"?"undefined":e(w);if(y==="number")return w;y!=="string"&&(w+="");for(var x=0,O=0,U=w.length;O<U;++O){var z=w.charCodeAt(O);x=(x<<5)-x+z|0}return x},h=function(y){return y-=y>>1&1431655765,y=(y&858993459)+(y>>2&858993459),y=y+(y>>4)&252645135,y+=y>>8,y+=y>>16,y&127},d=function(y,x){return x>>>y&s},v=function(y){return 1<<y},p=function(y,x){return h(y&x-1)},_=function(y,x,O,U){var z=U;if(!y){var ee=U.length;z=new Array(ee);for(var J=0;J<ee;++J)z[J]=U[J]}return z[x]=O,z},L=function(y,x,O){var U=O.length-1,z=0,ee=0,J=O;if(y)z=ee=x;else for(J=new Array(U);z<x;)J[ee++]=O[z++];for(++z;z<=U;)J[ee++]=O[z++];return y&&(J.length=U),J},m=function(y,x,O,U){var z=U.length;if(y){for(var ee=z;ee>=x;)U[ee--]=U[ee];return U[x]=O,U}for(var J=0,Z=0,he=new Array(z+1);J<x;)he[Z++]=U[J++];for(he[x]=O;J<z;)he[++Z]=U[J++];return he},f=1,g=2,E=3,k=4,A={__hamt_isEmpty:!0},T=function(y){return y===A||y&&y.__hamt_isEmpty},N=function(y,x,O,U){return{type:f,edit:y,hash:x,key:O,value:U,_modify:M}},K=function(y,x,O){return{type:g,edit:y,hash:x,children:O,_modify:Y}},V=function(y,x,O){return{type:E,edit:y,mask:x,children:O,_modify:X}},ye=function(y,x,O){return{type:k,edit:y,size:x,children:O,_modify:we}},Me=function(y){return y===A||y.type===f||y.type===g},le=function(y,x,O,U,z){for(var ee=[],J=U,Z=0,he=0;J;++he)J&1&&(ee[he]=z[Z++]),J>>>=1;return ee[x]=O,ye(y,Z+1,ee)},Ee=function(y,x,O,U){for(var z=new Array(x-1),ee=0,J=0,Z=0,he=U.length;Z<he;++Z)if(Z!==O){var $e=U[Z];$e&&!T($e)&&(z[ee++]=$e,J|=1<<Z)}return V(y,J,z)},xt=function w(y,x,O,U,z,ee){if(O===z)return K(y,O,[ee,U]);var J=d(x,O),Z=d(x,z);return V(y,v(J)|v(Z),J===Z?[w(y,x+r,O,U,z,ee)]:J<Z?[U,ee]:[ee,U])},Je=function(y,x,O,U,z,ee,J,Z){for(var he=z.length,$e=0;$e<he;++$e){var Ft=z[$e];if(O(J,Ft.key)){var ot=Ft.value,cn=ee(ot);return cn===ot?z:cn===l?(--Z.value,L(y,$e,z)):_(y,$e,N(x,U,J,cn),z)}}var Sn=ee();return Sn===l?z:(++Z.value,_(y,he,N(x,U,J,Sn),z))},Ze=function(y,x){return y===x.edit},M=function(y,x,O,U,z,ee,J){if(x(ee,this.key)){var Z=U(this.value);return Z===this.value?this:Z===l?(--J.value,A):Ze(y,this)?(this.value=Z,this):N(y,z,ee,Z)}var he=U();return he===l?this:(++J.value,xt(y,O,this.hash,this,z,N(y,z,ee,he)))},Y=function(y,x,O,U,z,ee,J){if(z===this.hash){var Z=Ze(y,this),he=Je(Z,y,x,this.hash,this.children,U,ee,J);return he===this.children?this:he.length>1?K(y,this.hash,he):he[0]}var $e=U();return $e===l?this:(++J.value,xt(y,O,this.hash,this,z,N(y,z,ee,$e)))},X=function(y,x,O,U,z,ee,J){var Z=this.mask,he=this.children,$e=d(O,z),Ft=v($e),ot=p(Z,Ft),cn=Z&Ft,Sn=cn?he[ot]:A,bi=Sn._modify(y,x,O+r,U,z,ee,J);if(Sn===bi)return this;var Ga=Ze(y,this),Ks=Z,qs=void 0;if(cn&&T(bi)){if(Ks&=~Ft,!Ks)return A;if(he.length<=2&&Me(he[ot^1]))return he[ot^1];qs=L(Ga,ot,he)}else if(!cn&&!T(bi)){if(he.length>=o)return le(y,$e,bi,Z,he);Ks|=Ft,qs=m(Ga,ot,bi,he)}else qs=_(Ga,ot,bi,he);return Ga?(this.mask=Ks,this.children=qs,this):V(y,Ks,qs)},we=function(y,x,O,U,z,ee,J){var Z=this.size,he=this.children,$e=d(O,z),Ft=he[$e],ot=(Ft||A)._modify(y,x,O+r,U,z,ee,J);if(Ft===ot)return this;var cn=Ze(y,this),Sn=void 0;if(T(Ft)&&!T(ot))++Z,Sn=_(cn,$e,ot,he);else if(!T(Ft)&&T(ot)){if(--Z,Z<=a)return Ee(y,Z,$e,he);Sn=_(cn,$e,A,he)}else Sn=_(cn,$e,ot,he);return cn?(this.size=Z,this.children=Sn,this):ye(y,Z,Sn)};A._modify=function(w,y,x,O,U,z,ee){var J=O();return J===l?A:(++ee.value,N(w,U,z,J))};function S(w,y,x,O,U){this._editable=w,this._edit=y,this._config=x,this._root=O,this._size=U}S.prototype.setTree=function(w,y){return this._editable?(this._root=w,this._size=y,this):w===this._root?this:new S(this._editable,this._edit,this._config,w,y)};var R=n.tryGetHash=function(w,y,x,O){for(var U=O._root,z=0,ee=O._config.keyEq;;)switch(U.type){case f:return ee(x,U.key)?U.value:w;case g:{if(y===U.hash)for(var J=U.children,Z=0,he=J.length;Z<he;++Z){var $e=J[Z];if(ee(x,$e.key))return $e.value}return w}case E:{var Ft=d(z,y),ot=v(Ft);if(U.mask&ot){U=U.children[p(U.mask,ot)],z+=r;break}return w}case k:{if(U=U.children[d(z,y)],U){z+=r;break}return w}default:return w}};S.prototype.tryGetHash=function(w,y,x){return R(w,y,x,this)};var I=n.tryGet=function(w,y,x){return R(w,x._config.hash(y),y,x)};S.prototype.tryGet=function(w,y){return I(w,y,this)};var W=n.getHash=function(w,y,x){return R(void 0,w,y,x)};S.prototype.getHash=function(w,y){return W(w,y,this)},n.get=function(w,y){return R(void 0,y._config.hash(w),w,y)},S.prototype.get=function(w,y){return I(y,w,this)};var $=n.has=function(w,y,x){return R(l,w,y,x)!==l};S.prototype.hasHash=function(w,y){return $(w,y,this)};var ne=n.has=function(w,y){return $(y._config.hash(w),w,y)};S.prototype.has=function(w){return ne(w,this)};var se=function(y,x){return y===x};n.make=function(w){return new S(0,0,{keyEq:w&&w.keyEq||se,hash:w&&w.hash||c},A,0)},n.empty=n.make();var G=n.isEmpty=function(w){return w&&!!T(w._root)};S.prototype.isEmpty=function(){return G(this)};var Ce=n.modifyHash=function(w,y,x,O){var U={value:O._size},z=O._root._modify(O._editable?O._edit:NaN,O._config.keyEq,0,w,y,x,U);return O.setTree(z,U.value)};S.prototype.modifyHash=function(w,y,x){return Ce(x,w,y,this)};var We=n.modify=function(w,y,x){return Ce(w,x._config.hash(y),y,x)};S.prototype.modify=function(w,y){return We(y,w,this)};var fe=n.setHash=function(w,y,x,O){return Ce(u(x),w,y,O)};S.prototype.setHash=function(w,y,x){return fe(w,y,x,this)};var Re=n.set=function(w,y,x){return fe(x._config.hash(w),w,y,x)};S.prototype.set=function(w,y){return Re(w,y,this)};var Xt=u(l),Jt=n.removeHash=function(w,y,x){return Ce(Xt,w,y,x)};S.prototype.removeHash=S.prototype.deleteHash=function(w,y){return Jt(w,y,this)};var Et=n.remove=function(w,y){return Jt(y._config.hash(w),w,y)};S.prototype.remove=S.prototype.delete=function(w){return Et(w,this)};var st=n.beginMutation=function(w){return new S(w._editable+1,w._edit+1,w._config,w._root,w._size)};S.prototype.beginMutation=function(){return st(this)};var ue=n.endMutation=function(w){return w._editable=w._editable&&w._editable-1,w};S.prototype.endMutation=function(){return ue(this)};var pe=n.mutate=function(w,y){var x=st(y);return w(x),ue(x)};S.prototype.mutate=function(w){return pe(w,this)};var xe=function(y){return y&&Zt(y[0],y[1],y[2],y[3],y[4])},Zt=function(y,x,O,U,z){for(;O<y;){var ee=x[O++];if(ee&&!T(ee))return wn(ee,U,[y,x,O,U,z])}return xe(z)},wn=function(y,x,O){switch(y.type){case f:return{value:x(y),rest:O};case g:case k:case E:var U=y.children;return Zt(U.length,U,0,x,O);default:return xe(O)}},Bn={done:!0};function zn(w){this.v=w}zn.prototype.next=function(){if(!this.v)return Bn;var w=this.v;return this.v=xe(w.rest),w},zn.prototype[Symbol.iterator]=function(){return this};var Kr=function(y,x){return new zn(wn(y._root,x))},Hs=function(y){return[y.key,y.value]},ur=n.entries=function(w){return Kr(w,Hs)};S.prototype.entries=S.prototype[Symbol.iterator]=function(){return ur(this)};var sh=function(y){return y.key},Ws=n.keys=function(w){return Kr(w,sh)};S.prototype.keys=function(){return Ws(this)};var ik=function(y){return y.value},sk=n.values=S.prototype.values=function(w){return Kr(w,ik)};S.prototype.values=function(){return sk(this)};var mg=n.fold=function(w,y,x){var O=x._root;if(O.type===f)return w(y,O.value,O.key);for(var U=[O.children],z=void 0;z=U.pop();)for(var ee=0,J=z.length;ee<J;){var Z=z[ee++];Z&&Z.type&&(Z.type===f?y=w(y,Z.value,Z.key):U.push(Z.children))}return y};S.prototype.fold=function(w,y){return mg(w,y,this)};var ok=n.forEach=function(w,y){return mg(function(x,O,U){return w(O,U,y)},null,y)};S.prototype.forEach=function(w){return ok(w,this)};var ak=n.count=function(w){return w._size};S.prototype.count=function(){return ak(this)},Object.defineProperty(S.prototype,"size",{get:S.prototype.count}),t.exports?t.exports=n:(void 0).hamt=n});class BC{constructor(e){oe(this,"_map",void 0),this._map=new Map(e==null?void 0:e.entries())}keys(){return this._map.keys()}entries(){return this._map.entries()}get(e){return this._map.get(e)}has(e){return this._map.has(e)}set(e,n){return this._map.set(e,n),this}delete(e){return this._map.delete(e),this}clone(){return Up(this)}toMap(){return new Map(this._map)}}class Op{constructor(e){if(oe(this,"_hamt",FC.empty.beginMutation()),e instanceof Op){const n=e._hamt.endMutation();e._hamt=n.beginMutation(),this._hamt=n.beginMutation()}else if(e)for(const[n,r]of e.entries())this._hamt.set(n,r)}keys(){return this._hamt.keys()}entries(){return this._hamt.entries()}get(e){return this._hamt.get(e)}has(e){return this._hamt.has(e)}set(e,n){return this._hamt.set(e,n),this}delete(e){return this._hamt.delete(e),this}clone(){return Up(this)}toMap(){return new Map(this._hamt)}}function Up(t){return Ie("recoil_hamt_2020")?new Op(t):new BC(t)}var zC={persistentMap:Up},jC=zC.persistentMap,HC=Object.freeze({__proto__:null,persistentMap:jC});function WC(t,...e){const n=new Set;e:for(const r of t){for(const i of e)if(i.has(r))continue e;n.add(r)}return n}var Co=WC;function KC(t,e){const n=new Map;return t.forEach((r,i)=>{n.set(i,e(r,i))}),n}var Su=KC;function qC(){return{nodeDeps:new Map,nodeToNodeSubscriptions:new Map}}function GC(t){return{nodeDeps:Su(t.nodeDeps,e=>new Set(e)),nodeToNodeSubscriptions:Su(t.nodeToNodeSubscriptions,e=>new Set(e))}}function Ph(t,e,n,r){const{nodeDeps:i,nodeToNodeSubscriptions:s}=n,o=i.get(t);if(o&&r&&o!==r.nodeDeps.get(t))return;i.set(t,e);const a=o==null?e:Co(e,o);for(const l of a)s.has(l)||s.set(l,new Set),Fe(s.get(l)).add(t);if(o){const l=Co(o,e);for(const u of l){if(!s.has(u))return;const c=Fe(s.get(u));c.delete(t),c.size===0&&s.delete(u)}}}function QC(t,e,n,r){var i,s,o,a;const l=n.getState();r===l.currentTree.version||r===((i=l.nextTree)===null||i===void 0?void 0:i.version)||((s=l.previousTree)===null||s===void 0||s.version);const u=n.getGraph(r);if(Ph(t,e,u),r===((o=l.previousTree)===null||o===void 0?void 0:o.version)){const h=n.getGraph(l.currentTree.version);Ph(t,e,h,u)}if(r===((a=l.previousTree)===null||a===void 0?void 0:a.version)||r===l.currentTree.version){var c;const h=(c=l.nextTree)===null||c===void 0?void 0:c.version;if(h!==void 0){const d=n.getGraph(h);Ph(t,e,d,u)}}}var Ea={cloneGraph:GC,graph:qC,saveDepsToStore:QC};let YC=0;const XC=()=>YC++;let JC=0;const ZC=()=>JC++;let eN=0;const tN=()=>eN++;var fc={getNextTreeStateVersion:XC,getNextStoreID:ZC,getNextComponentID:tN};const{persistentMap:$v}=HC,{graph:nN}=Ea,{getNextTreeStateVersion:XS}=fc;function JS(){const t=XS();return{version:t,stateID:t,transactionMetadata:{},dirtyAtoms:new Set,atomValues:$v(),nonvalidatedAtoms:$v()}}function rN(){const t=JS();return{currentTree:t,nextTree:null,previousTree:null,commitDepth:0,knownAtoms:new Set,knownSelectors:new Set,transactionSubscriptions:new Map,nodeTransactionSubscriptions:new Map,nodeToComponentSubscriptions:new Map,queuedComponentCallbacks_DEPRECATED:[],suspendedComponentResolvers:new Set,graphsByVersion:new Map().set(t.version,nN()),retention:{referenceCounts:new Map,nodesRetainedByZone:new Map,retainablesToCheckForRelease:new Set},nodeCleanupFunctions:new Map}}var ZS={makeEmptyTreeState:JS,makeEmptyStoreState:rN,getNextTreeStateVersion:XS};class e_{}function iN(){return new e_}var pc={RetentionZone:e_,retentionZone:iN};function sN(t,e){const n=new Set(t);return n.add(e),n}function oN(t,e){const n=new Set(t);return n.delete(e),n}function aN(t,e,n){const r=new Map(t);return r.set(e,n),r}function lN(t,e,n){const r=new Map(t);return r.set(e,n(r.get(e))),r}function uN(t,e){const n=new Map(t);return n.delete(e),n}function cN(t,e){const n=new Map(t);return e.forEach(r=>n.delete(r)),n}var t_={setByAddingToSet:sN,setByDeletingFromSet:oN,mapBySettingInMap:aN,mapByUpdatingInMap:lN,mapByDeletingFromMap:uN,mapByDeletingMultipleFromMap:cN};function*hN(t,e){let n=0;for(const r of t)e(r,n++)&&(yield r)}var Vp=hN;function dN(t,e){return new Proxy(t,{get:(r,i)=>(!(i in r)&&i in e&&(r[i]=e[i]()),r[i]),ownKeys:r=>Object.keys(r)})}var n_=dN;const{getNode:Ta,getNodeMaybe:fN,recoilValuesForKeys:Ov}=Yt,{RetentionZone:Uv}=pc,{setByAddingToSet:pN}=t_,mN=Object.freeze(new Set);class gN extends Error{}function vN(t,e,n){if(!Ie("recoil_memory_managament_2020"))return()=>{};const{nodesRetainedByZone:r}=t.getState().retention;function i(s){let o=r.get(s);o||r.set(s,o=new Set),o.add(e)}if(n instanceof Uv)i(n);else if(Array.isArray(n))for(const s of n)i(s);return()=>{if(!Ie("recoil_memory_managament_2020"))return;const{retention:s}=t.getState();function o(a){const l=s.nodesRetainedByZone.get(a);l==null||l.delete(e),l&&l.size===0&&s.nodesRetainedByZone.delete(a)}if(n instanceof Uv)o(n);else if(Array.isArray(n))for(const a of n)o(a)}}function Fp(t,e,n,r){const i=t.getState();if(i.nodeCleanupFunctions.has(n))return;const s=Ta(n),o=vN(t,n,s.retainedBy),a=s.init(t,e,r);i.nodeCleanupFunctions.set(n,()=>{a(),o()})}function yN(t,e,n){Fp(t,t.getState().currentTree,e,n)}function wN(t,e){var n;const r=t.getState();(n=r.nodeCleanupFunctions.get(e))===null||n===void 0||n(),r.nodeCleanupFunctions.delete(e)}function SN(t,e,n){return Fp(t,e,n,"get"),Ta(n).get(t,e)}function r_(t,e,n){return Ta(n).peek(t,e)}function _N(t,e,n){var r;const i=fN(e);return i==null||(r=i.invalidate)===null||r===void 0||r.call(i,t),dt(et({},t),{atomValues:t.atomValues.clone().delete(e),nonvalidatedAtoms:t.nonvalidatedAtoms.clone().set(e,n),dirtyAtoms:pN(t.dirtyAtoms,e)})}function EN(t,e,n,r){const i=Ta(n);if(i.set==null)throw new gN(`Attempt to set read-only RecoilValue: ${n}`);const s=i.set;return Fp(t,e,n,"set"),s(t,e,r)}function TN(t,e,n){const r=t.getState(),i=t.getGraph(e.version),s=Ta(n).nodeType;return n_({type:s},{loadable:()=>r_(t,e,n),isActive:()=>r.knownAtoms.has(n)||r.knownSelectors.has(n),isSet:()=>s==="selector"?!1:e.atomValues.has(n),isModified:()=>e.dirtyAtoms.has(n),deps:()=>{var o;return Ov((o=i.nodeDeps.get(n))!==null&&o!==void 0?o:[])},subscribers:()=>{var o,a;return{nodes:Ov(Vp(i_(t,e,new Set([n])),l=>l!==n)),components:dc((o=(a=r.nodeToComponentSubscriptions.get(n))===null||a===void 0?void 0:a.values())!==null&&o!==void 0?o:[],([l])=>({name:l}))}}})}function i_(t,e,n){const r=new Set,i=Array.from(n),s=t.getGraph(e.version);for(let a=i.pop();a;a=i.pop()){var o;r.add(a);const l=(o=s.nodeToNodeSubscriptions.get(a))!==null&&o!==void 0?o:mN;for(const u of l)r.has(u)||i.push(u)}return r}var zr={getNodeLoadable:SN,peekNodeLoadable:r_,setNodeValue:EN,initializeNode:yN,cleanUpNode:wN,setUnvalidatedAtomValue_DEPRECATED:_N,peekNodeInfo:TN,getDownstreamNodes:i_};let s_=null;function kN(t){s_=t}function RN(){var t;(t=s_)===null||t===void 0||t()}var o_={setInvalidateMemoizedSnapshot:kN,invalidateMemoizedSnapshot:RN};const{getDownstreamNodes:IN,getNodeLoadable:a_,setNodeValue:CN}=zr,{getNextComponentID:NN}=fc,{getNode:AN,getNodeMaybe:l_}=Yt,{DefaultValue:Bp,RecoilValueNotReady:xN}=Yt,{reactMode:DN}=_a,{AbstractRecoilValue:LN,RecoilState:bN,RecoilValueReadOnly:PN,isRecoilValue:MN}=vs,{invalidateMemoizedSnapshot:$N}=o_;function ON(t,{key:e},n=t.getState().currentTree){var r,i;const s=t.getState();n.version===s.currentTree.version||n.version===((r=s.nextTree)===null||r===void 0?void 0:r.version)||(n.version,(i=s.previousTree)===null||i===void 0||i.version);const o=a_(t,n,e);return o.state==="loading"&&o.contents.catch(()=>{}),o}function UN(t,e){const n=t.clone();return e.forEach((r,i)=>{r.state==="hasValue"&&r.contents instanceof Bp?n.delete(i):n.set(i,r)}),n}function VN(t,e,{key:n},r){if(typeof r=="function"){const i=a_(t,e,n);if(i.state==="loading")throw new xN(n);if(i.state==="hasError")throw i.contents;return r(i.contents)}else return r}function FN(t,e,n){if(n.type==="set"){const{recoilValue:i,valueOrUpdater:s}=n,o=VN(t,e,i,s),a=CN(t,e,i.key,o);for(const[l,u]of a.entries())Zd(e,l,u)}else if(n.type==="setLoadable"){const{recoilValue:{key:i},loadable:s}=n;Zd(e,i,s)}else if(n.type==="markModified"){const{recoilValue:{key:i}}=n;e.dirtyAtoms.add(i)}else if(n.type==="setUnvalidated"){var r;const{recoilValue:{key:i},unvalidatedValue:s}=n,o=l_(i);o==null||(r=o.invalidate)===null||r===void 0||r.call(o,e),e.atomValues.delete(i),e.nonvalidatedAtoms.set(i,s),e.dirtyAtoms.add(i)}else Mp(`Unknown action ${n.type}`)}function Zd(t,e,n){n.state==="hasValue"&&n.contents instanceof Bp?t.atomValues.delete(e):t.atomValues.set(e,n),t.dirtyAtoms.add(e),t.nonvalidatedAtoms.delete(e)}function u_(t,e){t.replaceState(n=>{const r=c_(n);for(const i of e)FN(t,r,i);return h_(t,r),$N(),r})}function mc(t,e){if(No.length){const n=No[No.length-1];let r=n.get(t);r||n.set(t,r=[]),r.push(e)}else u_(t,[e])}const No=[];function BN(){const t=new Map;return No.push(t),()=>{for(const[e,n]of t)u_(e,n);No.pop()}}function c_(t){return dt(et({},t),{atomValues:t.atomValues.clone(),nonvalidatedAtoms:t.nonvalidatedAtoms.clone(),dirtyAtoms:new Set(t.dirtyAtoms)})}function h_(t,e){const n=IN(t,e,e.dirtyAtoms);for(const s of n){var r,i;(r=l_(s))===null||r===void 0||(i=r.invalidate)===null||i===void 0||i.call(r,e)}}function d_(t,e,n){mc(t,{type:"set",recoilValue:e,valueOrUpdater:n})}function zN(t,e,n){if(n instanceof Bp)return d_(t,e,n);mc(t,{type:"setLoadable",recoilValue:e,loadable:n})}function jN(t,e){mc(t,{type:"markModified",recoilValue:e})}function HN(t,e,n){mc(t,{type:"setUnvalidated",recoilValue:e,unvalidatedValue:n})}function WN(t,{key:e},n,r=null){const i=NN(),s=t.getState();s.nodeToComponentSubscriptions.has(e)||s.nodeToComponentSubscriptions.set(e,new Map),Fe(s.nodeToComponentSubscriptions.get(e)).set(i,[r!=null?r:"<not captured>",n]);const o=DN();if(o.early&&(o.mode==="LEGACY"||o.mode==="MUTABLE_SOURCE")){const a=t.getState().nextTree;a&&a.dirtyAtoms.has(e)&&n(a)}return{release:()=>{const a=t.getState(),l=a.nodeToComponentSubscriptions.get(e);l===void 0||!l.has(i)||(l.delete(i),l.size===0&&a.nodeToComponentSubscriptions.delete(e))}}}function KN(t,e){var n;const{currentTree:r}=t.getState(),i=AN(e.key);(n=i.clearCache)===null||n===void 0||n.call(i,t,r)}var Vn={RecoilValueReadOnly:PN,AbstractRecoilValue:LN,RecoilState:bN,getRecoilValueAsLoadable:ON,setRecoilValue:d_,setRecoilValueLoadable:zN,markRecoilValueModified:jN,setUnvalidatedRecoilValue:HN,subscribeToRecoilValue:WN,isRecoilValue:MN,applyAtomValueWrites:UN,batchStart:BN,writeLoadableToTreeState:Zd,invalidateDownstreams:h_,copyTreeState:c_,refreshRecoilValue:KN};function qN(t,e,n){const r=t.entries();let i=r.next();for(;!i.done;){const s=i.value;if(e.call(n,s[1],s[0],t))return!0;i=r.next()}return!1}var GN=qN;const{cleanUpNode:QN}=zr,{deleteNodeConfigIfPossible:YN,getNode:f_}=Yt,{RetentionZone:p_}=pc,XN=12e4,m_=new Set;function g_(t,e){const n=t.getState(),r=n.currentTree;if(n.nextTree)return;const i=new Set;for(const o of e)if(o instanceof p_)for(const a of tA(n,o))i.add(a);else i.add(o);const s=JN(t,i);for(const o of s)eA(t,r,o)}function JN(t,e){const n=t.getState(),r=n.currentTree,i=t.getGraph(r.version),s=new Set,o=new Set;return a(e),s;function a(l){const u=new Set,c=ZN(t,r,l,s,o);for(const p of c){var h;if(f_(p).retainedBy==="recoilRoot"){o.add(p);continue}if(((h=n.retention.referenceCounts.get(p))!==null&&h!==void 0?h:0)>0){o.add(p);continue}if(v_(p).some(L=>n.retention.referenceCounts.get(L))){o.add(p);continue}const _=i.nodeToNodeSubscriptions.get(p);if(_&&GN(_,L=>o.has(L))){o.add(p);continue}s.add(p),u.add(p)}const d=new Set;for(const p of u)for(const _ of(v=i.nodeDeps.get(p))!==null&&v!==void 0?v:m_){var v;s.has(_)||d.add(_)}d.size&&a(d)}}function ZN(t,e,n,r,i){const s=t.getGraph(e.version),o=[],a=new Set;for(;n.size>0;)l(Fe(n.values().next().value));return o;function l(u){if(r.has(u)||i.has(u)){n.delete(u);return}if(a.has(u))return;const c=s.nodeToNodeSubscriptions.get(u);if(c)for(const h of c)l(h);a.add(u),n.delete(u),o.push(u)}}function eA(t,e,n){if(!Ie("recoil_memory_managament_2020"))return;QN(t,n);const r=t.getState();r.knownAtoms.delete(n),r.knownSelectors.delete(n),r.nodeTransactionSubscriptions.delete(n),r.retention.referenceCounts.delete(n);const i=v_(n);for(const l of i){var s;(s=r.retention.nodesRetainedByZone.get(l))===null||s===void 0||s.delete(n)}e.atomValues.delete(n),e.dirtyAtoms.delete(n),e.nonvalidatedAtoms.delete(n);const o=r.graphsByVersion.get(e.version);if(o){const l=o.nodeDeps.get(n);if(l!==void 0){o.nodeDeps.delete(n);for(const u of l){var a;(a=o.nodeToNodeSubscriptions.get(u))===null||a===void 0||a.delete(n)}}o.nodeToNodeSubscriptions.delete(n)}YN(n)}function tA(t,e){var n;return(n=t.retention.nodesRetainedByZone.get(e))!==null&&n!==void 0?n:m_}function v_(t){const e=f_(t).retainedBy;return e===void 0||e==="components"||e==="recoilRoot"?[]:e instanceof p_?[e]:e}function nA(t,e){const n=t.getState();n.nextTree?n.retention.retainablesToCheckForRelease.add(e):g_(t,new Set([e]))}function rA(t,e,n){var r;if(!Ie("recoil_memory_managament_2020"))return;const i=t.getState().retention.referenceCounts,s=((r=i.get(e))!==null&&r!==void 0?r:0)+n;s===0?y_(t,e):i.set(e,s)}function y_(t,e){if(!Ie("recoil_memory_managament_2020"))return;t.getState().retention.referenceCounts.delete(e),nA(t,e)}function iA(t){if(!Ie("recoil_memory_managament_2020"))return;const e=t.getState();g_(t,e.retention.retainablesToCheckForRelease),e.retention.retainablesToCheckForRelease.clear()}function sA(t){return t===void 0?"recoilRoot":t}var Ni={SUSPENSE_TIMEOUT_MS:XN,updateRetainCount:rA,updateRetainCountToZero:y_,releaseScheduledRetainablesNow:iA,retainedByOptionWithDefault:sA};const{unstable_batchedUpdates:oA}=NI;var aA={unstable_batchedUpdates:oA};const{unstable_batchedUpdates:lA}=aA;var uA={unstable_batchedUpdates:lA};const{batchStart:cA}=Vn,{unstable_batchedUpdates:hA}=uA;let zp=hA;const dA=t=>{zp=t},fA=()=>zp,pA=t=>{zp(()=>{let e=()=>{};try{e=cA(),t()}finally{e()}})};var gc={getBatcher:fA,setBatcher:dA,batchUpdates:pA};function*mA(t){for(const e of t)for(const n of e)yield n}var w_=mA;const S_=typeof Window=="undefined"||typeof window=="undefined",gA=t=>!S_&&(t===window||t instanceof Window),vA=typeof navigator!="undefined"&&navigator.product==="ReactNative";var jp={isSSR:S_,isReactNative:vA,isWindow:gA};function yA(t,e){let n;return(...i)=>{n||(n={});const s=e(...i);return Object.hasOwnProperty.call(n,s)||(n[s]=t(...i)),n[s]}}function wA(t,e){let n,r;return(...s)=>{const o=e(...s);return n===o||(n=o,r=t(...s)),r}}function SA(t,e){let n,r;return[(...o)=>{const a=e(...o);return n===a||(n=a,r=t(...o)),r},()=>{n=null}]}var _A={memoizeWithArgsHash:yA,memoizeOneWithArgsHash:wA,memoizeOneWithArgsHashAndInvalidation:SA};const{batchUpdates:ef}=gc,{initializeNode:EA,peekNodeInfo:TA}=zr,{graph:kA}=Ea,{getNextStoreID:RA}=fc,{DEFAULT_VALUE:IA,recoilValues:Vv,recoilValuesForKeys:Fv}=Yt,{AbstractRecoilValue:CA,getRecoilValueAsLoadable:NA,setRecoilValue:Bv,setUnvalidatedRecoilValue:AA}=Vn,{updateRetainCount:Ol}=Ni,{setInvalidateMemoizedSnapshot:xA}=o_,{getNextTreeStateVersion:DA,makeEmptyStoreState:LA}=ZS,{isSSR:bA}=jp,{memoizeOneWithArgsHashAndInvalidation:PA}=_A;class vc{constructor(e,n){oe(this,"_store",void 0),oe(this,"_refCount",1),oe(this,"getLoadable",r=>(this.checkRefCount_INTERNAL(),NA(this._store,r))),oe(this,"getPromise",r=>(this.checkRefCount_INTERNAL(),this.getLoadable(r).toPromise())),oe(this,"getNodes_UNSTABLE",r=>{if(this.checkRefCount_INTERNAL(),(r==null?void 0:r.isModified)===!0){if((r==null?void 0:r.isInitialized)===!1)return[];const o=this._store.getState().currentTree;return Fv(o.dirtyAtoms)}const i=this._store.getState().knownAtoms,s=this._store.getState().knownSelectors;return(r==null?void 0:r.isInitialized)==null?Vv.values():r.isInitialized===!0?Fv(w_([i,s])):Vp(Vv.values(),({key:o})=>!i.has(o)&&!s.has(o))}),oe(this,"getInfo_UNSTABLE",({key:r})=>(this.checkRefCount_INTERNAL(),TA(this._store,this._store.getState().currentTree,r))),oe(this,"map",r=>{this.checkRefCount_INTERNAL();const i=new tf(this,ef);return r(i),i}),oe(this,"asyncMap",async r=>{this.checkRefCount_INTERNAL();const i=new tf(this,ef);return i.retain(),await r(i),i.autoRelease_INTERNAL(),i}),this._store={storeID:RA(),parentStoreID:n,getState:()=>e,replaceState:r=>{e.currentTree=r(e.currentTree)},getGraph:r=>{const i=e.graphsByVersion;if(i.has(r))return Fe(i.get(r));const s=kA();return i.set(r,s),s},subscribeToTransactions:()=>({release:()=>{}}),addTransactionMetadata:()=>{throw de("Cannot subscribe to Snapshots")}};for(const r of this._store.getState().knownAtoms)EA(this._store,r,"get"),Ol(this._store,r,1);this.autoRelease_INTERNAL()}retain(){this._refCount<=0,this._refCount++;let e=!1;return()=>{e||(e=!0,this._release())}}autoRelease_INTERNAL(){bA||window.setTimeout(()=>this._release(),0)}_release(){if(this._refCount--,this._refCount===0){if(this._store.getState().nodeCleanupFunctions.forEach(e=>e()),this._store.getState().nodeCleanupFunctions.clear(),!Ie("recoil_memory_managament_2020"))return}else this._refCount<0}isRetained(){return this._refCount>0}checkRefCount_INTERNAL(){Ie("recoil_memory_managament_2020")&&this._refCount<=0}getStore_INTERNAL(){return this.checkRefCount_INTERNAL(),this._store}getID(){return this.checkRefCount_INTERNAL(),this._store.getState().currentTree.stateID}getStoreID(){return this.checkRefCount_INTERNAL(),this._store.storeID}}function __(t,e,n=!1){const r=t.getState(),i=n?DA():e.version;return{currentTree:{version:n?i:e.version,stateID:n?i:e.stateID,transactionMetadata:et({},e.transactionMetadata),dirtyAtoms:new Set(e.dirtyAtoms),atomValues:e.atomValues.clone(),nonvalidatedAtoms:e.nonvalidatedAtoms.clone()},commitDepth:0,nextTree:null,previousTree:null,knownAtoms:new Set(r.knownAtoms),knownSelectors:new Set(r.knownSelectors),transactionSubscriptions:new Map,nodeTransactionSubscriptions:new Map,nodeToComponentSubscriptions:new Map,queuedComponentCallbacks_DEPRECATED:[],suspendedComponentResolvers:new Set,graphsByVersion:new Map().set(i,t.getGraph(e.version)),retention:{referenceCounts:new Map,nodesRetainedByZone:new Map,retainablesToCheckForRelease:new Set},nodeCleanupFunctions:new Map(dc(r.nodeCleanupFunctions.entries(),([s])=>[s,()=>{}]))}}function MA(t){const e=new vc(LA());return t!=null?e.map(t):e}const[zv,E_]=PA((t,e)=>{var n;const r=t.getState(),i=e==="latest"?(n=r.nextTree)!==null&&n!==void 0?n:r.currentTree:Fe(r.previousTree);return new vc(__(t,i),t.storeID)},(t,e)=>{var n,r;return String(e)+String(t.storeID)+String((n=t.getState().nextTree)===null||n===void 0?void 0:n.version)+String(t.getState().currentTree.version)+String((r=t.getState().previousTree)===null||r===void 0?void 0:r.version)});xA(E_);function $A(t,e="latest"){const n=zv(t,e);return n.isRetained()?n:(E_(),zv(t,e))}class tf extends vc{constructor(e,n){super(__(e.getStore_INTERNAL(),e.getStore_INTERNAL().getState().currentTree,!0),e.getStoreID()),oe(this,"_batch",void 0),oe(this,"set",(r,i)=>{this.checkRefCount_INTERNAL();const s=this.getStore_INTERNAL();this._batch(()=>{Ol(s,r.key,1),Bv(this.getStore_INTERNAL(),r,i)})}),oe(this,"reset",r=>{this.checkRefCount_INTERNAL();const i=this.getStore_INTERNAL();this._batch(()=>{Ol(i,r.key,1),Bv(this.getStore_INTERNAL(),r,IA)})}),oe(this,"setUnvalidatedAtomValues_DEPRECATED",r=>{this.checkRefCount_INTERNAL();const i=this.getStore_INTERNAL();ef(()=>{for(const[s,o]of r.entries())Ol(i,s,1),AA(i,new CA(s),o)})}),this._batch=n}}var yc={Snapshot:vc,MutableSnapshot:tf,freshSnapshot:MA,cloneSnapshot:$A},OA=yc.Snapshot,UA=yc.MutableSnapshot,VA=yc.freshSnapshot,FA=yc.cloneSnapshot,wc=Object.freeze({__proto__:null,Snapshot:OA,MutableSnapshot:UA,freshSnapshot:VA,cloneSnapshot:FA});function BA(...t){const e=new Set;for(const n of t)for(const r of n)e.add(r);return e}var zA=BA;const{useRef:jA}=Be;function HA(t){const e=jA(t);return e.current===t&&typeof t=="function"&&(e.current=t()),e}var jv=HA;const{getNextTreeStateVersion:WA,makeEmptyStoreState:T_}=ZS,{cleanUpNode:KA,getDownstreamNodes:qA,initializeNode:GA,setNodeValue:QA,setUnvalidatedAtomValue_DEPRECATED:YA}=zr,{graph:XA}=Ea,{cloneGraph:JA}=Ea,{getNextStoreID:k_}=fc,{createMutableSource:Mh,reactMode:R_}=_a,{applyAtomValueWrites:ZA}=Vn,{releaseScheduledRetainablesNow:I_}=Ni,{freshSnapshot:ex}=wc,{useCallback:tx,useContext:C_,useEffect:nf,useMemo:nx,useRef:rx,useState:ix}=Be;function ro(){throw de("This component must be used inside a <RecoilRoot> component.")}const N_=Object.freeze({storeID:k_(),getState:ro,replaceState:ro,getGraph:ro,subscribeToTransactions:ro,addTransactionMetadata:ro});let rf=!1;function Hv(t){if(rf)throw de("An atom update was triggered within the execution of a state updater function. State updater functions provided to Recoil must be pure functions.");const e=t.getState();if(e.nextTree===null){Ie("recoil_memory_managament_2020")&&Ie("recoil_release_on_cascading_update_killswitch_2021")&&e.commitDepth>0&&I_(t);const n=e.currentTree.version,r=WA();e.nextTree=dt(et({},e.currentTree),{version:r,stateID:r,dirtyAtoms:new Set,transactionMetadata:{}}),e.graphsByVersion.set(r,JA(Fe(e.graphsByVersion.get(n))))}}const A_=Be.createContext({current:N_}),Sc=()=>C_(A_),x_=Be.createContext(null);function sx(){return C_(x_)}function Hp(t,e,n){const r=qA(t,n,n.dirtyAtoms);for(const i of r){const s=e.nodeToComponentSubscriptions.get(i);if(s)for(const[o,[a,l]]of s)l(n)}}function D_(t){const e=t.getState(),n=e.currentTree,r=n.dirtyAtoms;if(r.size){for(const[i,s]of e.nodeTransactionSubscriptions)if(r.has(i))for(const[o,a]of s)a(t);for(const[i,s]of e.transactionSubscriptions)s(t);(!R_().early||e.suspendedComponentResolvers.size>0)&&(Hp(t,e,n),e.suspendedComponentResolvers.forEach(i=>i()),e.suspendedComponentResolvers.clear())}e.queuedComponentCallbacks_DEPRECATED.forEach(i=>i(n)),e.queuedComponentCallbacks_DEPRECATED.splice(0,e.queuedComponentCallbacks_DEPRECATED.length)}function ox(t){const e=t.getState();e.commitDepth++;try{const{nextTree:n}=e;if(n==null)return;e.previousTree=e.currentTree,e.currentTree=n,e.nextTree=null,D_(t),e.previousTree!=null?e.graphsByVersion.delete(e.previousTree.version):Mp("Ended batch with no previous state, which is unexpected","recoil"),e.previousTree=null,Ie("recoil_memory_managament_2020")&&n==null&&I_(t)}finally{e.commitDepth--}}function ax({setNotifyBatcherOfChange:t}){const e=Sc(),[,n]=ix([]);return t(()=>n({})),nf(()=>(t(()=>n({})),()=>{t(()=>{})}),[t]),nf(()=>{UC.enqueueExecution("Batcher",()=>{ox(e.current)})}),null}function lx(t,e){const n=T_();return e({set:(r,i)=>{const s=n.currentTree,o=QA(t,s,r.key,i),a=new Set(o.keys()),l=s.nonvalidatedAtoms.clone();for(const u of a)l.delete(u);n.currentTree=dt(et({},s),{dirtyAtoms:zA(s.dirtyAtoms,a),atomValues:ZA(s.atomValues,o),nonvalidatedAtoms:l})},setUnvalidatedAtomValues:r=>{r.forEach((i,s)=>{n.currentTree=YA(n.currentTree,s,i)})}}),n}function ux(t){const e=ex(t),n=e.getStore_INTERNAL().getState();return e.retain(),n.nodeCleanupFunctions.forEach(r=>r()),n.nodeCleanupFunctions.clear(),n}let Wv=0;function cx({initializeState_DEPRECATED:t,initializeState:e,store_INTERNAL:n,children:r}){let i;const s=v=>{const p=i.current.graphsByVersion;if(p.has(v))return Fe(p.get(v));const _=XA();return p.set(v,_),_},o=(v,p)=>{if(p==null){const{transactionSubscriptions:_}=h.current.getState(),L=Wv++;return _.set(L,v),{release:()=>{_.delete(L)}}}else{const{nodeTransactionSubscriptions:_}=h.current.getState();_.has(p)||_.set(p,new Map);const L=Wv++;return Fe(_.get(p)).set(L,v),{release:()=>{const m=_.get(p);m&&(m.delete(L),m.size===0&&_.delete(p))}}}},a=v=>{Hv(h.current);for(const p of Object.keys(v))Fe(h.current.getState().nextTree).transactionMetadata[p]=v[p]},l=v=>{Hv(h.current);const p=Fe(i.current.nextTree);let _;try{rf=!0,_=v(p)}finally{rf=!1}_!==p&&(i.current.nextTree=_,R_().early&&Hp(h.current,i.current,_),Fe(u.current)())},u=rx(null),c=tx(v=>{u.current=v},[u]),h=jv(()=>n!=null?n:{storeID:k_(),getState:()=>i.current,replaceState:l,getGraph:s,subscribeToTransactions:o,addTransactionMetadata:a});n!=null&&(h.current=n),i=jv(()=>t!=null?lx(h.current,t):e!=null?ux(e):T_());const d=nx(()=>Mh==null?void 0:Mh(i,()=>i.current.currentTree.version),[i]);return nf(()=>{const v=h.current;for(const p of new Set(v.getState().knownAtoms))GA(v,p,"get");return()=>{for(const p of v.getState().knownAtoms)KA(v,p)}},[h]),Be.createElement(A_.Provider,{value:h},Be.createElement(x_.Provider,{value:d},Be.createElement(ax,{setNotifyBatcherOfChange:c}),r))}function hx(t){const i=t,{override:e}=i,n=Ya(i,["override"]),r=Sc();return e===!1&&r.current!==N_?t.children:Be.createElement(cx,n)}function dx(){return Sc().current.storeID}var lr={RecoilRoot:hx,useStoreRef:Sc,useRecoilMutableSource:sx,useRecoilStoreID:dx,notifyComponents_FOR_TESTING:Hp,sendEndOfBatchNotifications_FOR_TESTING:D_};function fx(t,e){if(t===e)return!0;if(t.length!==e.length)return!1;for(let n=0,r=t.length;n<r;n++)if(t[n]!==e[n])return!1;return!0}var px=fx;const{useEffect:mx,useRef:gx}=Be;function vx(t){const e=gx();return mx(()=>{e.current=t}),e.current}var L_=vx;const{useStoreRef:yx}=lr,{SUSPENSE_TIMEOUT_MS:wx}=Ni,{updateRetainCount:io}=Ni,{RetentionZone:Sx}=pc,{useEffect:_x,useRef:Ex}=Be,{isSSR:Kv}=jp;function Tx(t){if(!!Ie("recoil_memory_managament_2020"))return kx(t)}function kx(t){const n=(Array.isArray(t)?t:[t]).map(o=>o instanceof Sx?o:o.key),r=yx();_x(()=>{if(!Ie("recoil_memory_managament_2020"))return;const o=r.current;if(i.current&&!Kv)window.clearTimeout(i.current),i.current=null;else for(const a of n)io(o,a,1);return()=>{for(const a of n)io(o,a,-1)}},[r,...n]);const i=Ex(),s=L_(n);if(!Kv&&(s===void 0||!px(s,n))){const o=r.current;for(const a of n)io(o,a,1);if(s)for(const a of s)io(o,a,-1);i.current&&window.clearTimeout(i.current),i.current=window.setTimeout(()=>{i.current=null;for(const a of n)io(o,a,-1)},wx)}}var Wp=Tx;function Rx(){return"<component name not available>"}var ka=Rx;const{batchUpdates:Ix}=gc,{DEFAULT_VALUE:b_}=Yt,{reactMode:Ms,useMutableSource:Cx,useSyncExternalStore:Nx}=_a,{useRecoilMutableSource:Ax,useStoreRef:Fn}=lr,{AbstractRecoilValue:sf,getRecoilValueAsLoadable:Ra,setRecoilValue:_u,setUnvalidatedRecoilValue:xx,subscribeToRecoilValue:ys}=Vn,{useCallback:Qt,useEffect:ws,useMemo:P_,useRef:Ao,useState:Kp}=Be,{setByAddingToSet:Dx}=t_;function qp(t,e,n){if(t.state==="hasValue")return t.contents;throw t.state==="loading"?new Promise(i=>{n.current.getState().suspendedComponentResolvers.add(i)}):t.state==="hasError"?t.contents:de(`Invalid value of loadable atom "${e.key}"`)}function Lx(){const t=ka(),e=Fn(),[,n]=Kp([]),r=Ao(new Set);r.current=new Set;const i=Ao(new Set),s=Ao(new Map),o=Qt(l=>{const u=s.current.get(l);u&&(u.release(),s.current.delete(l))},[s]),a=Qt((l,u)=>{s.current.has(u)&&n([])},[]);return ws(()=>{const l=e.current;Co(r.current,i.current).forEach(u=>{if(s.current.has(u))return;const c=ys(l,new sf(u),d=>a(d,u),t);s.current.set(u,c),l.getState().nextTree?l.getState().queuedComponentCallbacks_DEPRECATED.push(()=>{a(l.getState(),u)}):a(l.getState(),u)}),Co(i.current,r.current).forEach(u=>{o(u)}),i.current=r.current}),ws(()=>{const l=s.current;return Co(r.current,new Set(l.keys())).forEach(u=>{const c=ys(e.current,new sf(u),h=>a(h,u),t);l.set(u,c)}),()=>l.forEach((u,c)=>o(c))},[t,e,o,a]),P_(()=>{function l(p){return _=>{_u(e.current,p,_)}}function u(p){return()=>_u(e.current,p,b_)}function c(p){var _;r.current.has(p.key)||(r.current=Dx(r.current,p.key));const L=e.current.getState();return Ra(e.current,p,Ms().early&&(_=L.nextTree)!==null&&_!==void 0?_:L.currentTree)}function h(p){const _=c(p);return qp(_,p,e)}function d(p){return[h(p),l(p)]}function v(p){return[c(p),l(p)]}return{getRecoilValue:h,getRecoilValueLoadable:c,getRecoilState:d,getRecoilStateLoadable:v,getSetRecoilState:l,getResetRecoilState:u}},[r,e])}const bx={current:0};function Px(t){const e=Fn(),n=ka(),r=Qt(()=>{var a;const l=e.current,u=l.getState(),c=Ms().early&&(a=u.nextTree)!==null&&a!==void 0?a:u.currentTree;return{loadable:Ra(l,t,c),key:t.key}},[e,t]),i=Qt(a=>{let l;return()=>{var u,c;const h=a();return(u=l)!==null&&u!==void 0&&u.loadable.is(h.loadable)&&((c=l)===null||c===void 0?void 0:c.key)===h.key?l:(l=h,h)}},[]),s=P_(()=>i(r),[r,i]),o=Qt(a=>{const l=e.current;return ys(l,t,a,n).release},[e,t,n]);return Nx(o,s,s).loadable}function Mx(t){const e=Fn(),n=Qt(()=>{var u;const c=e.current,h=c.getState(),d=Ms().early&&(u=h.nextTree)!==null&&u!==void 0?u:h.currentTree;return Ra(c,t,d)},[e,t]),r=Qt(()=>n(),[n]),i=ka(),s=Qt((u,c)=>{const h=e.current;return ys(h,t,()=>{if(!Ie("recoil_suppress_rerender_in_callback"))return c();const v=n();l.current.is(v)||c(),l.current=v},i).release},[e,t,i,n]),o=Ax();if(o==null)throw de("Recoil hooks must be used in components contained within a <RecoilRoot> component.");const a=Cx(o,r,s),l=Ao(a);return ws(()=>{l.current=a}),a}function M_(t){const e=Fn(),n=ka(),r=Qt(()=>{var l;const u=e.current,c=u.getState(),h=Ms().early&&(l=c.nextTree)!==null&&l!==void 0?l:c.currentTree;return Ra(u,t,h)},[e,t]),i=Qt(()=>({loadable:r(),key:t.key}),[r,t.key]),s=Qt(l=>{const u=i();return l.loadable.is(u.loadable)&&l.key===u.key?l:u},[i]);ws(()=>{const l=ys(e.current,t,u=>{a(s)},n);return a(s),l.release},[n,t,e,s]);const[o,a]=Kp(i);return o.key!==t.key?i().loadable:o.loadable}function $x(t){const e=Fn(),[,n]=Kp([]),r=ka(),i=Qt(()=>{var a;const l=e.current,u=l.getState(),c=Ms().early&&(a=u.nextTree)!==null&&a!==void 0?a:u.currentTree;return Ra(l,t,c)},[e,t]),s=i(),o=Ao(s);return ws(()=>{o.current=s}),ws(()=>{const a=e.current,l=a.getState(),u=ys(a,t,h=>{var d;if(!Ie("recoil_suppress_rerender_in_callback"))return n([]);const v=i();(d=o.current)!==null&&d!==void 0&&d.is(v)||n(v),o.current=v},r);if(l.nextTree)a.getState().queuedComponentCallbacks_DEPRECATED.push(()=>{o.current=null,n([])});else{var c;if(!Ie("recoil_suppress_rerender_in_callback"))return n([]);const h=i();(c=o.current)!==null&&c!==void 0&&c.is(h)||n(h),o.current=h}return u.release},[r,i,t,e]),s}function Gp(t){return Ie("recoil_memory_managament_2020")&&Wp(t),{TRANSITION_SUPPORT:M_,SYNC_EXTERNAL_STORE:Px,MUTABLE_SOURCE:Mx,LEGACY:$x}[Ms().mode](t)}function $_(t){const e=Fn(),n=Gp(t);return qp(n,t,e)}function _c(t){const e=Fn();return Qt(n=>{_u(e.current,t,n)},[e,t])}function Ox(t){const e=Fn();return Qt(()=>{_u(e.current,t,b_)},[e,t])}function Ux(t){return[$_(t),_c(t)]}function Vx(t){return[Gp(t),_c(t)]}function Fx(){const t=Fn();return(e,n={})=>{Ix(()=>{t.current.addTransactionMetadata(n),e.forEach((r,i)=>xx(t.current,new sf(i),r))})}}function O_(t){return Ie("recoil_memory_managament_2020")&&Wp(t),M_(t)}function U_(t){const e=Fn(),n=O_(t);return qp(n,t,e)}function Bx(t){return[U_(t),_c(t)]}var zx={recoilComponentGetRecoilValueCount_FOR_TESTING:bx,useRecoilInterface:Lx,useRecoilState:Ux,useRecoilStateLoadable:Vx,useRecoilValue:$_,useRecoilValueLoadable:Gp,useResetRecoilState:Ox,useSetRecoilState:_c,useSetUnvalidatedAtomValues:Fx,useRecoilValueLoadable_TRANSITION_SUPPORT_UNSTABLE:O_,useRecoilValue_TRANSITION_SUPPORT_UNSTABLE:U_,useRecoilState_TRANSITION_SUPPORT_UNSTABLE:Bx};function jx(t,e){const n=new Map;for(const[r,i]of t)e(i,r)&&n.set(r,i);return n}var Hx=jx;function Wx(t,e){const n=new Set;for(const r of t)e(r)&&n.add(r);return n}var Kx=Wx;function qx(...t){const e=new Map;for(let n=0;n<t.length;n++){const r=t[n].keys();let i;for(;!(i=r.next()).done;)e.set(i.value,t[n].get(i.value))}return e}var Gx=qx;const{batchUpdates:Qx}=gc,{DEFAULT_VALUE:Yx,getNode:V_,nodes:Xx}=Yt,{useStoreRef:Qp}=lr,{AbstractRecoilValue:Jx,setRecoilValueLoadable:Zx}=Vn,{SUSPENSE_TIMEOUT_MS:eD}=Ni,{cloneSnapshot:Eu}=wc,{useCallback:Ec,useEffect:F_,useRef:qv,useState:tD}=Be,{isSSR:Gv}=jp;function Tc(t){const e=Qp();F_(()=>e.current.subscribeToTransactions(t).release,[t,e])}function Qv(t){const e=t.atomValues.toMap(),n=Su(Hx(e,(r,i)=>{const o=V_(i).persistence_UNSTABLE;return o!=null&&o.type!=="none"&&r.state==="hasValue"}),r=>r.contents);return Gx(t.nonvalidatedAtoms.toMap(),n)}function nD(t){Tc(Ec(e=>{let n=e.getState().previousTree;const r=e.getState().currentTree;n||(n=e.getState().currentTree);const i=Qv(r),s=Qv(n),o=Su(Xx,l=>{var u,c,h,d;return{persistence_UNSTABLE:{type:(u=(c=l.persistence_UNSTABLE)===null||c===void 0?void 0:c.type)!==null&&u!==void 0?u:"none",backButton:(h=(d=l.persistence_UNSTABLE)===null||d===void 0?void 0:d.backButton)!==null&&h!==void 0?h:!1}}}),a=Kx(r.dirtyAtoms,l=>i.has(l)||s.has(l));t({atomValues:i,previousAtomValues:s,atomInfo:o,modifiedAtoms:a,transactionMetadata:et({},r.transactionMetadata)})},[t]))}function rD(t){Tc(Ec(e=>{const n=Eu(e,"latest"),r=Eu(e,"previous");t({snapshot:n,previousSnapshot:r})},[t]))}function iD(){const t=Qp(),[e,n]=tD(()=>Eu(t.current)),r=L_(e),i=qv(),s=qv();if(Tc(Ec(a=>n(Eu(a)),[])),F_(()=>{const a=e.retain();if(i.current&&!Gv){var l;window.clearTimeout(i.current),i.current=null,(l=s.current)===null||l===void 0||l.call(s),s.current=null}return a},[e]),r!==e&&!Gv){if(i.current){var o;window.clearTimeout(i.current),i.current=null,(o=s.current)===null||o===void 0||o.call(s),s.current=null}s.current=e.retain(),i.current=window.setTimeout(()=>{var a;i.current=null,(a=s.current)===null||a===void 0||a.call(s),s.current=null},eD)}return e}function B_(t,e){var n;const r=t.getState(),i=(n=r.nextTree)!==null&&n!==void 0?n:r.currentTree,s=e.getStore_INTERNAL().getState().currentTree;Qx(()=>{const o=new Set;for(const u of[i.atomValues.keys(),s.atomValues.keys()])for(const c of u){var a,l;((a=i.atomValues.get(c))===null||a===void 0?void 0:a.contents)!==((l=s.atomValues.get(c))===null||l===void 0?void 0:l.contents)&&V_(c).shouldRestoreFromSnapshots&&o.add(c)}o.forEach(u=>{Zx(t,new Jx(u),s.atomValues.has(u)?Fe(s.atomValues.get(u)):Yx)}),t.replaceState(u=>dt(et({},u),{stateID:e.getID()}))})}function sD(){const t=Qp();return Ec(e=>B_(t.current,e),[t])}var z_={useRecoilSnapshot:iD,gotoSnapshot:B_,useGotoRecoilSnapshot:sD,useRecoilTransactionObserver:rD,useTransactionObservation_DEPRECATED:nD,useTransactionSubscription_DEPRECATED:Tc};const{peekNodeInfo:oD}=zr,{useStoreRef:aD}=lr;function lD(){const t=aD();return({key:e})=>oD(t.current,t.current.getState().currentTree,e)}var uD=lD;const{reactMode:cD}=_a,{RecoilRoot:hD,useStoreRef:dD}=lr,{useMemo:fD}=Be;function pD(){cD().mode==="MUTABLE_SOURCE"&&console.warn("Warning: There are known issues using useRecoilBridgeAcrossReactRoots() in recoil_mutable_source rendering mode.  Please consider upgrading to recoil_sync_external_store mode.");const t=dD().current;return fD(()=>{function e({children:n}){return Be.createElement(hD,{store_INTERNAL:t},n)}return e},[t])}var mD=pD;const{loadableWithValue:gD}=Sa,{initializeNode:vD}=zr,{DEFAULT_VALUE:yD,getNode:wD}=Yt,{copyTreeState:SD,getRecoilValueAsLoadable:_D,invalidateDownstreams:ED,writeLoadableToTreeState:TD}=Vn;function Yv(t){return wD(t.key).nodeType==="atom"}class kD{constructor(e,n){oe(this,"_store",void 0),oe(this,"_treeState",void 0),oe(this,"_changes",void 0),oe(this,"get",r=>{if(this._changes.has(r.key))return this._changes.get(r.key);if(!Yv(r))throw de("Reading selectors within atomicUpdate is not supported");const i=_D(this._store,r,this._treeState);if(i.state==="hasValue")return i.contents;throw i.state==="hasError"?i.contents:de(`Expected Recoil atom ${r.key} to have a value, but it is in a loading state.`)}),oe(this,"set",(r,i)=>{if(!Yv(r))throw de("Setting selectors within atomicUpdate is not supported");if(typeof i=="function"){const s=this.get(r);this._changes.set(r.key,i(s))}else vD(this._store,r.key,"set"),this._changes.set(r.key,i)}),oe(this,"reset",r=>{this.set(r,yD)}),this._store=e,this._treeState=n,this._changes=new Map}newTreeState_INTERNAL(){if(this._changes.size===0)return this._treeState;const e=SD(this._treeState);for(const[n,r]of this._changes)TD(e,n,gD(r));return ED(this._store,e),e}}function RD(t){return e=>{t.replaceState(n=>{const r=new kD(t,n);return e(r),r.newTreeState_INTERNAL()})}}var ID={atomicUpdater:RD},CD=ID.atomicUpdater,j_=Object.freeze({__proto__:null,atomicUpdater:CD});function ND(t,e){if(!t)throw new Error(e)}var AD=ND,po=AD;const{atomicUpdater:xD}=j_,{batchUpdates:DD}=gc,{DEFAULT_VALUE:LD}=Yt,{useStoreRef:bD}=lr,{refreshRecoilValue:PD,setRecoilValue:Xv}=Vn,{cloneSnapshot:MD}=wc,{gotoSnapshot:$D}=z_,{useCallback:OD}=Be;class H_{}const UD=new H_;function W_(t,e,n,r){let i=UD,s;if(DD(()=>{const a="useRecoilCallback() expects a function that returns a function: it accepts a function of the type (RecoilInterface) => (Args) => ReturnType and returns a callback function (Args) => ReturnType, where RecoilInterface is an object {snapshot, set, ...} and Args and ReturnType are the argument and return types of the callback you want to create.  Please see the docs at recoiljs.org for details.";if(typeof e!="function")throw de(a);const l=n_(dt(et({},r!=null?r:{}),{set:(c,h)=>Xv(t,c,h),reset:c=>Xv(t,c,LD),refresh:c=>PD(t,c),gotoSnapshot:c=>$D(t,c),transact_UNSTABLE:c=>xD(t)(c)}),{snapshot:()=>{const c=MD(t);return s=c.retain(),c}}),u=e(l);if(typeof u!="function")throw de(a);i=u(...n)}),i instanceof H_&&po(!1),Ve(i))i.finally(()=>{var a;(a=s)===null||a===void 0||a()});else{var o;(o=s)===null||o===void 0||o()}return i}function VD(t,e){const n=bD();return OD((...r)=>W_(n.current,t,r),e!=null?[...e,n]:void 0)}var K_={recoilCallback:W_,useRecoilCallback:VD};const{useStoreRef:FD}=lr,{refreshRecoilValue:BD}=Vn,{useCallback:zD}=Be;function jD(t){const e=FD();return zD(()=>{const n=e.current;BD(n,t)},[t,e])}var HD=jD;const{atomicUpdater:WD}=j_,{useStoreRef:KD}=lr,{useMemo:qD}=Be;function GD(t,e){const n=KD();return qD(()=>(...r)=>{WD(n.current)(s=>{t(s)(...r)})},e!=null?[...e,n]:void 0)}var QD=GD;class YD{constructor(e){oe(this,"value",void 0),this.value=e}}var XD={WrappedValue:YD},JD=XD.WrappedValue,q_=Object.freeze({__proto__:null,WrappedValue:JD});const{isFastRefreshEnabled:ZD}=_a;class Jv extends Error{}class eL{constructor(e){var n,r,i;oe(this,"_name",void 0),oe(this,"_numLeafs",void 0),oe(this,"_root",void 0),oe(this,"_onHit",void 0),oe(this,"_onSet",void 0),oe(this,"_mapNodeValue",void 0),this._name=e==null?void 0:e.name,this._numLeafs=0,this._root=null,this._onHit=(n=e==null?void 0:e.onHit)!==null&&n!==void 0?n:()=>{},this._onSet=(r=e==null?void 0:e.onSet)!==null&&r!==void 0?r:()=>{},this._mapNodeValue=(i=e==null?void 0:e.mapNodeValue)!==null&&i!==void 0?i:s=>s}size(){return this._numLeafs}root(){return this._root}get(e,n){var r;return(r=this.getLeafNode(e,n))===null||r===void 0?void 0:r.value}getLeafNode(e,n){if(this._root==null)return;let r=this._root;for(;r;){if(n==null||n.onNodeVisit(r),r.type==="leaf")return this._onHit(r),r;const i=this._mapNodeValue(e(r.nodeKey));r=r.branches.get(i)}}set(e,n,r){const i=()=>{var s,o,a,l;let u,c;for(const[L,m]of e){var h,d,v;const f=this._root;if((f==null?void 0:f.type)==="leaf")throw this.invalidCacheError();const g=u;if(u=g?g.branches.get(c):f,u=(h=u)!==null&&h!==void 0?h:{type:"branch",nodeKey:L,parent:g,branches:new Map,branchKey:c},u.type!=="branch"||u.nodeKey!==L)throw this.invalidCacheError();g==null||g.branches.set(c,u),r==null||(d=r.onNodeVisit)===null||d===void 0||d.call(r,u),c=this._mapNodeValue(m),this._root=(v=this._root)!==null&&v!==void 0?v:u}const p=u?(s=u)===null||s===void 0?void 0:s.branches.get(c):this._root;if(p!=null&&(p.type!=="leaf"||p.branchKey!==c))throw this.invalidCacheError();const _={type:"leaf",value:n,parent:u,branchKey:c};(o=u)===null||o===void 0||o.branches.set(c,_),this._root=(a=this._root)!==null&&a!==void 0?a:_,this._numLeafs++,this._onSet(_),r==null||(l=r.onNodeVisit)===null||l===void 0||l.call(r,_)};try{i()}catch(s){if(s instanceof Jv)this.clear(),i();else throw s}}delete(e){const n=this.root();if(!n)return!1;if(e===n)return this._root=null,this._numLeafs=0,!0;let r=e.parent,i=e.branchKey;for(;r;){var s;if(r.branches.delete(i),r===n)return r.branches.size===0?(this._root=null,this._numLeafs=0):this._numLeafs--,!0;if(r.branches.size>0)break;i=(s=r)===null||s===void 0?void 0:s.branchKey,r=r.parent}for(;r!==n;r=r.parent)if(r==null)return!1;return this._numLeafs--,!0}clear(){this._numLeafs=0,this._root=null}invalidCacheError(){const e=ZD()?"Possible Fast Refresh module reload detected.  This may also be caused by an selector returning inconsistent values. Resetting cache.":"Invalid cache values.  This happens when selectors do not return consistent values for the same input dependency values.  That may also be caused when using Fast Refresh to change a selector implementation.  Resetting cache.";throw Mp(e+(this._name!=null?` - ${this._name}`:"")),new Jv}}var tL={TreeCache:eL},nL=tL.TreeCache,G_=Object.freeze({__proto__:null,TreeCache:nL});class rL{constructor(e){var n;oe(this,"_maxSize",void 0),oe(this,"_size",void 0),oe(this,"_head",void 0),oe(this,"_tail",void 0),oe(this,"_map",void 0),oe(this,"_keyMapper",void 0),this._maxSize=e.maxSize,this._size=0,this._head=null,this._tail=null,this._map=new Map,this._keyMapper=(n=e.mapKey)!==null&&n!==void 0?n:r=>r}head(){return this._head}tail(){return this._tail}size(){return this._size}maxSize(){return this._maxSize}has(e){return this._map.has(this._keyMapper(e))}get(e){const n=this._keyMapper(e),r=this._map.get(n);if(!!r)return this.set(e,r.value),r.value}set(e,n){const r=this._keyMapper(e);this._map.get(r)&&this.delete(e);const s=this.head(),o={key:e,right:s,left:null,value:n};s?s.left=o:this._tail=o,this._map.set(r,o),this._head=o,this._size++,this._maybeDeleteLRU()}_maybeDeleteLRU(){this.size()>this.maxSize()&&this.deleteLru()}deleteLru(){const e=this.tail();e&&this.delete(e.key)}delete(e){const n=this._keyMapper(e);if(!this._size||!this._map.has(n))return;const r=Fe(this._map.get(n)),i=r.right,s=r.left;i&&(i.left=r.left),s&&(s.right=r.right),r===this.head()&&(this._head=i),r===this.tail()&&(this._tail=s),this._map.delete(n),this._size--}clear(){this._size=0,this._head=null,this._tail=null,this._map=new Map}}var iL={LRUCache:rL},sL=iL.LRUCache,Q_=Object.freeze({__proto__:null,LRUCache:sL});const{LRUCache:oL}=Q_,{TreeCache:aL}=G_;function lL({name:t,maxSize:e,mapNodeValue:n=r=>r}){const r=new oL({maxSize:e}),i=new aL({name:t,mapNodeValue:n,onHit:s=>{r.set(s,!0)},onSet:s=>{const o=r.tail();r.set(s,!0),o&&i.size()>e&&i.delete(o.key)}});return i}var Zv=lL;function En(t,e,n){if(typeof t=="string"&&!t.includes('"')&&!t.includes("\\"))return`"${t}"`;switch(typeof t){case"undefined":return"";case"boolean":return t?"true":"false";case"number":case"symbol":return String(t);case"string":return JSON.stringify(t);case"function":if((e==null?void 0:e.allowFunctions)!==!0)throw de("Attempt to serialize function in a Recoil cache key");return`__FUNCTION(${t.name})__`}if(t===null)return"null";if(typeof t!="object"){var r;return(r=JSON.stringify(t))!==null&&r!==void 0?r:""}if(Ve(t))return"__PROMISE__";if(Array.isArray(t))return`[${t.map((i,s)=>En(i,e,s.toString()))}]`;if(typeof t.toJSON=="function")return En(t.toJSON(n),e,n);if(t instanceof Map){const i={};for(const[s,o]of t)i[typeof s=="string"?s:En(s,e)]=o;return En(i,e,n)}return t instanceof Set?En(Array.from(t).sort((i,s)=>En(i,e).localeCompare(En(s,e))),e,n):Symbol!==void 0&&t[Symbol.iterator]!=null&&typeof t[Symbol.iterator]=="function"?En(Array.from(t),e,n):`{${Object.keys(t).filter(i=>t[i]!==void 0).sort().map(i=>`${En(i,e)}:${En(t[i],e,i)}`).join(",")}}`}function uL(t,e={allowFunctions:!1}){return En(t,e)}var kc=uL;const{TreeCache:cL}=G_,ml={equality:"reference",eviction:"keep-all",maxSize:1/0};function hL({equality:t=ml.equality,eviction:e=ml.eviction,maxSize:n=ml.maxSize}=ml,r){const i=dL(t);return fL(e,n,i,r)}function dL(t){switch(t){case"reference":return e=>e;case"value":return e=>kc(e)}throw de(`Unrecognized equality policy ${t}`)}function fL(t,e,n,r){switch(t){case"keep-all":return new cL({name:r,mapNodeValue:n});case"lru":return Zv({name:r,maxSize:Fe(e),mapNodeValue:n});case"most-recent":return Zv({name:r,maxSize:1,mapNodeValue:n})}throw de(`Unrecognized eviction policy ${t}`)}var pL=hL;function mL(t){return()=>null}var gL={startPerfBlock:mL};const{isLoadable:vL,loadableWithError:gl,loadableWithPromise:yL,loadableWithValue:$h}=Sa,{WrappedValue:Y_}=q_,{getNodeLoadable:vl,peekNodeLoadable:wL,setNodeValue:SL}=zr,{saveDepsToStore:_L}=Ea,{DEFAULT_VALUE:EL,RecoilValueNotReady:TL,getConfigDeletionHandler:kL,getNode:RL,registerNode:ey}=Yt,{isRecoilValue:IL}=vs,{markRecoilValueModified:ty}=Vn,{retainedByOptionWithDefault:CL}=Ni,{recoilCallback:NL}=K_,{startPerfBlock:AL}=gL;class X_{}const so=new X_,oo=[],yl=new Map,xL=(()=>{let t=0;return()=>t++})();function J_(t){let e=null;const{key:n,get:r,cachePolicy_UNSTABLE:i}=t,s=t.set!=null?t.set:void 0,o=new Set,a=pL(i!=null?i:{equality:"reference",eviction:"keep-all"},n),l=CL(t.retainedBy_UNSTABLE),u=new Map;let c=0;function h(){return!Ie("recoil_memory_managament_2020")||c>0}function d(S){return S.getState().knownSelectors.add(n),c++,()=>{c--}}function v(){return kL(n)!==void 0&&!h()}function p(S,R,I,W,$){Je(R,W,$),_(S,I)}function _(S,R){Ee(S,R)&&le(S),m(R,!0)}function L(S,R){Ee(S,R)&&(Fe(V(S)).stateVersions.clear(),m(R,!1))}function m(S,R){const I=yl.get(S);if(I!=null){for(const W of I)ty(W,Fe(e));R&&yl.delete(S)}}function f(S,R){let I=yl.get(R);I==null&&yl.set(R,I=new Set),I.add(S)}function g(S,R,I,W,$,ne){return R.then(se=>{if(!h())throw le(S),so;const G=$h(se);return p(S,I,$,G,W),se}).catch(se=>{if(!h())throw le(S),so;if(Ve(se))return E(S,se,I,W,$,ne);const G=gl(se);throw p(S,I,$,G,W),se})}function E(S,R,I,W,$,ne){return R.then(se=>{if(!h())throw le(S),so;ne.loadingDepKey!=null&&ne.loadingDepPromise===R?I.atomValues.set(ne.loadingDepKey,$h(se)):S.getState().knownSelectors.forEach(fe=>{I.atomValues.delete(fe)});const G=T(S,I);if(G&&G.state!=="loading"){if((Ee(S,$)||V(S)==null)&&_(S,$),G.state==="hasValue")return G.contents;throw G.contents}if(!Ee(S,$)){const fe=K(S,I);if(fe!=null)return fe.loadingLoadable.contents}const[Ce,We]=A(S,I,$);if(Ce.state!=="loading"&&p(S,I,$,Ce,We),Ce.state==="hasError")throw Ce.contents;return Ce.contents}).catch(se=>{if(se instanceof X_)throw so;if(!h())throw le(S),so;const G=gl(se);throw p(S,I,$,G,W),se})}function k(S,R,I,W){var $,ne,se,G;if(Ee(S,W)||R.version===(($=S.getState())===null||$===void 0||(ne=$.currentTree)===null||ne===void 0?void 0:ne.version)||R.version===((se=S.getState())===null||se===void 0||(G=se.nextTree)===null||G===void 0?void 0:G.version)){var Ce,We,fe;_L(n,I,S,(Ce=(We=S.getState())===null||We===void 0||(fe=We.nextTree)===null||fe===void 0?void 0:fe.version)!==null&&Ce!==void 0?Ce:S.getState().currentTree.version)}for(const Re of I)o.add(Re)}function A(S,R,I){const W=AL(n);let $=!0,ne=!0;const se=()=>{W(),ne=!1};let G,Ce=!1,We;const fe={loadingDepKey:null,loadingDepPromise:null},Re=new Map;function Xt({key:Et}){const st=vl(S,R,Et);switch(Re.set(Et,st),$||(k(S,R,new Set(Re.keys()),I),L(S,I)),st.state){case"hasValue":return st.contents;case"hasError":throw st.contents;case"loading":throw fe.loadingDepKey=Et,fe.loadingDepPromise=st.contents,st.contents}throw de("Invalid Loadable state")}const Jt=Et=>(...st)=>{if(ne)throw de("Callbacks from getCallback() should only be called asynchronously after the selector is evalutated.  It can be used for selectors to return objects with callbacks that can work with Recoil state without a subscription.");return e==null&&po(!1),NL(S,Et,st,{node:e})};try{G=r({get:Xt,getCallback:Jt}),G=IL(G)?Xt(G):G,vL(G)&&(G.state==="hasError"&&(Ce=!0),G=G.contents),Ve(G)?G=g(S,G,R,Re,I,fe).finally(se):se(),G=G instanceof Y_?G.value:G}catch(Et){G=Et,Ve(G)?G=E(S,G,R,Re,I,fe).finally(se):(Ce=!0,se())}return Ce?We=gl(G):Ve(G)?We=yL(G):We=$h(G),$=!1,Me(S,I,Re),k(S,R,new Set(Re.keys()),I),[We,Re]}function T(S,R){let I=R.atomValues.get(n);if(I!=null)return I;const W=new Set;try{I=a.get(ne=>(typeof ne!="string"&&po(!1),vl(S,R,ne).contents),{onNodeVisit:ne=>{ne.type==="branch"&&ne.nodeKey!==n&&W.add(ne.nodeKey)}})}catch(ne){throw de(`Problem with cache lookup for selector "${n}": ${ne.message}`)}if(I){var $;R.atomValues.set(n,I),k(S,R,W,($=V(S))===null||$===void 0?void 0:$.executionID)}return I}function N(S,R){const I=T(S,R);if(I!=null)return le(S),I;const W=K(S,R);if(W!=null){var $;return(($=W.loadingLoadable)===null||$===void 0?void 0:$.state)==="loading"&&f(S,W.executionID),W.loadingLoadable}const ne=xL(),[se,G]=A(S,R,ne);return se.state==="loading"?(ye(S,ne,se,G,R),f(S,ne)):(le(S),Je(R,se,G)),se}function K(S,R){const I=w_([u.has(S)?[Fe(u.get(S))]:[],dc(Vp(u,([$])=>$!==S),([,$])=>$)]);function W($){for(const[ne,se]of $)if(!vl(S,R,ne).is(se))return!0;return!1}for(const $ of I){if($.stateVersions.get(R.version)||!W($.depValuesDiscoveredSoFarDuringAsyncWork))return $.stateVersions.set(R.version,!0),$;$.stateVersions.set(R.version,!1)}}function V(S){return u.get(S)}function ye(S,R,I,W,$){u.set(S,{depValuesDiscoveredSoFarDuringAsyncWork:W,executionID:R,loadingLoadable:I,stateVersions:new Map([[$.version,!0]])})}function Me(S,R,I){if(Ee(S,R)){const W=V(S);W!=null&&(W.depValuesDiscoveredSoFarDuringAsyncWork=I)}}function le(S){u.delete(S)}function Ee(S,R){var I;return R===((I=V(S))===null||I===void 0?void 0:I.executionID)}function xt(S){return Array.from(S.entries()).map(([R,I])=>[R,I.contents])}function Je(S,R,I){S.atomValues.set(n,R);try{a.set(xt(I),R)}catch(W){throw de(`Problem with setting cache for selector "${n}": ${W.message}`)}}function Ze(S){if(oo.includes(n)){const R=`Recoil selector has circular dependencies: ${oo.slice(oo.indexOf(n)).join(" \u2192 ")}`;return gl(de(R))}oo.push(n);try{return S()}finally{oo.pop()}}function M(S,R){const I=R.atomValues.get(n);return I!=null?I:a.get(W=>{var $;return typeof W!="string"&&po(!1),($=wL(S,R,W))===null||$===void 0?void 0:$.contents})}function Y(S,R){return Ze(()=>N(S,R))}function X(S){S.atomValues.delete(n)}function we(S,R){e==null&&po(!1);for(const W of o){var I;const $=RL(W);(I=$.clearCache)===null||I===void 0||I.call($,S,R)}o.clear(),X(R),a.clear(),ty(S,e)}return s!=null?e=ey({key:n,nodeType:"selector",peek:M,get:Y,set:(R,I,W)=>{let $=!1;const ne=new Map;function se({key:fe}){if($)throw de("Recoil: Async selector sets are not currently supported.");const Re=vl(R,I,fe);if(Re.state==="hasValue")return Re.contents;throw Re.state==="loading"?new TL(fe):Re.contents}function G(fe,Re){if($)throw de("Recoil: Async selector sets are not currently supported.");const Xt=typeof Re=="function"?Re(se(fe)):Re;SL(R,I,fe.key,Xt).forEach((Et,st)=>ne.set(st,Et))}function Ce(fe){G(fe,EL)}const We=s({set:G,get:se,reset:Ce},W);if(We!==void 0)throw Ve(We)?de("Recoil: Async selector sets are not currently supported."):de("Recoil: selector set should be a void function.");return $=!0,ne},init:d,invalidate:X,clearCache:we,shouldDeleteConfigOnRelease:v,dangerouslyAllowMutability:t.dangerouslyAllowMutability,shouldRestoreFromSnapshots:!1,retainedBy:l}):e=ey({key:n,nodeType:"selector",peek:M,get:Y,init:d,invalidate:X,clearCache:we,shouldDeleteConfigOnRelease:v,dangerouslyAllowMutability:t.dangerouslyAllowMutability,shouldRestoreFromSnapshots:!1,retainedBy:l})}J_.value=t=>new Y_(t);var Ss=J_;const{isLoadable:DL,loadableWithError:Oh,loadableWithPromise:Uh,loadableWithValue:Mi}=Sa,{WrappedValue:Z_}=q_,{peekNodeInfo:LL}=zr,{DEFAULT_VALUE:Yr,DefaultValue:pr,getConfigDeletionHandler:e1,registerNode:bL,setConfigDeletionHandler:PL}=Yt,{isRecoilValue:ML}=vs,{getRecoilValueAsLoadable:$L,markRecoilValueModified:OL,setRecoilValue:ny,setRecoilValueLoadable:UL}=Vn,{retainedByOptionWithDefault:VL}=Ni,ao=t=>t instanceof Z_?t.value:t;function FL(t){const{key:e,persistence_UNSTABLE:n}=t,r=VL(t.retainedBy_UNSTABLE);let i=0;function s(f){return Uh(f.then(g=>(o=Mi(g),g)).catch(g=>{throw o=Oh(g),g}))}let o=Ve(t.default)?s(t.default):DL(t.default)?t.default.state==="loading"?s(t.default.contents):t.default:Mi(ao(t.default));o.contents;let a;const l=new Map;function u(f){return f}function c(f,g){const E=g.then(k=>{var A,T;return((T=((A=f.getState().nextTree)!==null&&A!==void 0?A:f.getState().currentTree).atomValues.get(e))===null||T===void 0?void 0:T.contents)===E&&ny(f,m,k),k}).catch(k=>{var A,T;throw((T=((A=f.getState().nextTree)!==null&&A!==void 0?A:f.getState().currentTree).atomValues.get(e))===null||T===void 0?void 0:T.contents)===E&&UL(f,m,Oh(k)),k});return E}function h(f,g,E){var k;i++;const A=()=>{var le;i--,(le=l.get(f))===null||le===void 0||le.forEach(Ee=>Ee()),l.delete(f)};if(f.getState().knownAtoms.add(e),o.state==="loading"){const le=()=>{var Ee;((Ee=f.getState().nextTree)!==null&&Ee!==void 0?Ee:f.getState().currentTree).atomValues.has(e)||OL(f,m)};o.contents.finally(le)}const T=(k=t.effects)!==null&&k!==void 0?k:t.effects_UNSTABLE;if(T!=null){let Ze=function(R){if(Ee&&R.key===e){const I=le;return I instanceof pr?d(f,g):Ve(I)?Uh(I.then(W=>W instanceof pr?o.toPromise():W)):Mi(I)}return $L(f,R)},M=function(R){return Ze(R).toPromise()},Y=function(R){var I;const W=LL(f,(I=f.getState().nextTree)!==null&&I!==void 0?I:f.getState().currentTree,R.key);return Ee&&R.key===e&&!(le instanceof pr)?dt(et({},W),{isSet:!0,loadable:Ze(R)}):W};var V=Ze,ye=M,Me=Y;let le=Yr,Ee=!0,xt=!1,Je=null;const X=R=>I=>{if(Ee){const W=Ze(m),$=W.state==="hasValue"?W.contents:Yr;le=typeof I=="function"?I($):I,Ve(le)&&(le=le.then(ne=>(Je={effect:R,value:ne},ne)))}else{if(Ve(I))throw de("Setting atoms to async values is not implemented.");typeof I!="function"&&(Je={effect:R,value:ao(I)}),ny(f,m,typeof I=="function"?W=>{const $=ao(I(W));return Je={effect:R,value:$},$}:ao(I))}},we=R=>()=>X(R)(Yr),S=R=>I=>{var W;const{release:$}=f.subscribeToTransactions(ne=>{var se;let{currentTree:G,previousTree:Ce}=ne.getState();Ce||(Ce=G);const We=(se=G.atomValues.get(e))!==null&&se!==void 0?se:o;if(We.state==="hasValue"){var fe,Re,Xt,Jt;const Et=We.contents,st=(fe=Ce.atomValues.get(e))!==null&&fe!==void 0?fe:o,ue=st.state==="hasValue"?st.contents:Yr;((Re=Je)===null||Re===void 0?void 0:Re.effect)!==R||((Xt=Je)===null||Xt===void 0?void 0:Xt.value)!==Et?I(Et,ue,!G.atomValues.has(e)):((Jt=Je)===null||Jt===void 0?void 0:Jt.effect)===R&&(Je=null)}},e);l.set(f,[...(W=l.get(f))!==null&&W!==void 0?W:[],$])};for(const R of T)try{const I=R({node:m,storeID:f.storeID,parentStoreID_UNSTABLE:f.parentStoreID,trigger:E,setSelf:X(R),resetSelf:we(R),onSet:S(R),getPromise:M,getLoadable:Ze,getInfo_UNSTABLE:Y});if(I!=null){var N;l.set(f,[...(N=l.get(f))!==null&&N!==void 0?N:[],I])}}catch(I){le=I,xt=!0}if(Ee=!1,!(le instanceof pr)){var K;const R=xt?Oh(le):Ve(le)?Uh(c(f,le)):Mi(ao(le));R.contents,g.atomValues.set(e,R),(K=f.getState().nextTree)===null||K===void 0||K.atomValues.set(e,R)}}return A}function d(f,g){var E,k;return(E=(k=g.atomValues.get(e))!==null&&k!==void 0?k:a)!==null&&E!==void 0?E:o}function v(f,g){if(g.atomValues.has(e))return Fe(g.atomValues.get(e));if(g.nonvalidatedAtoms.has(e)){if(a!=null)return a;if(n==null)return o;const E=g.nonvalidatedAtoms.get(e),k=n.validator(E,Yr);return a=k instanceof pr?o:Mi(k),a}else return o}function p(){a=void 0}function _(f,g,E){if(g.atomValues.has(e)){const k=Fe(g.atomValues.get(e));if(k.state==="hasValue"&&E===k.contents)return new Map}else if(!g.nonvalidatedAtoms.has(e)&&E instanceof pr)return new Map;return a=void 0,new Map().set(e,Mi(E))}function L(){return e1(e)!==void 0&&i<=0}const m=bL({key:e,nodeType:"atom",peek:d,get:v,set:_,init:h,invalidate:p,shouldDeleteConfigOnRelease:L,dangerouslyAllowMutability:t.dangerouslyAllowMutability,persistence_UNSTABLE:t.persistence_UNSTABLE?{type:t.persistence_UNSTABLE.type,backButton:t.persistence_UNSTABLE.backButton}:void 0,shouldRestoreFromSnapshots:!0,retainedBy:r});return m}function Yp(t){const e=Ya(t,[]),n="default"in t?t.default:new Promise(()=>{});return ML(n)?BL(dt(et({},e),{default:n})):FL(dt(et({},e),{default:n}))}function BL(t){const e=Yp(dt(et({},t),{default:Yr,persistence_UNSTABLE:t.persistence_UNSTABLE===void 0?void 0:dt(et({},t.persistence_UNSTABLE),{validator:r=>r instanceof pr?r:Fe(t.persistence_UNSTABLE).validator(r,Yr)}),effects:t.effects,effects_UNSTABLE:t.effects_UNSTABLE})),n=Ss({key:`${t.key}__withFallback`,get:({get:r})=>{const i=r(e);return i instanceof pr?t.default:i},set:({set:r},i)=>r(e,i),dangerouslyAllowMutability:t.dangerouslyAllowMutability});return PL(n.key,e1(t.key)),n}Yp.value=t=>new Z_(t);var t1=Yp;class zL{constructor(e){var n;oe(this,"_map",void 0),oe(this,"_keyMapper",void 0),this._map=new Map,this._keyMapper=(n=e==null?void 0:e.mapKey)!==null&&n!==void 0?n:r=>r}size(){return this._map.size}has(e){return this._map.has(this._keyMapper(e))}get(e){return this._map.get(this._keyMapper(e))}set(e,n){this._map.set(this._keyMapper(e),n)}delete(e){this._map.delete(this._keyMapper(e))}clear(){this._map.clear()}}var jL={MapCache:zL},HL=jL.MapCache,WL=Object.freeze({__proto__:null,MapCache:HL});const{LRUCache:ry}=Q_,{MapCache:KL}=WL,wl={equality:"reference",eviction:"none",maxSize:1/0};function qL({equality:t=wl.equality,eviction:e=wl.eviction,maxSize:n=wl.maxSize}=wl){const r=GL(t);return QL(e,n,r)}function GL(t){switch(t){case"reference":return e=>e;case"value":return e=>kc(e)}throw de(`Unrecognized equality policy ${t}`)}function QL(t,e,n){switch(t){case"keep-all":return new KL({mapKey:n});case"lru":return new ry({mapKey:n,maxSize:Fe(e)});case"most-recent":return new ry({mapKey:n,maxSize:1})}throw de(`Unrecognized eviction policy ${t}`)}var n1=qL;const{setConfigDeletionHandler:YL}=Yt;function XL(t){var e,n;const r=n1({equality:(e=(n=t.cachePolicyForParams_UNSTABLE)===null||n===void 0?void 0:n.equality)!==null&&e!==void 0?e:"value",eviction:"keep-all"});return i=>{var s,o;const a=r.get(i);if(a!=null)return a;const d=t,{cachePolicyForParams_UNSTABLE:l}=d,u=Ya(d,["cachePolicyForParams_UNSTABLE"]),c="default"in t?t.default:new Promise(()=>{}),h=t1(dt(et({},u),{key:`${t.key}__${(s=kc(i))!==null&&s!==void 0?s:"void"}`,default:typeof c=="function"?c(i):c,retainedBy_UNSTABLE:typeof t.retainedBy_UNSTABLE=="function"?t.retainedBy_UNSTABLE(i):t.retainedBy_UNSTABLE,effects:typeof t.effects=="function"?t.effects(i):typeof t.effects_UNSTABLE=="function"?t.effects_UNSTABLE(i):(o=t.effects)!==null&&o!==void 0?o:t.effects_UNSTABLE}));return r.set(i,h),YL(h.key,()=>{r.delete(i)}),h}}var JL=XL;const{setConfigDeletionHandler:ZL}=Yt;let eb=0;function tb(t){var e,n;const r=n1({equality:(e=(n=t.cachePolicyForParams_UNSTABLE)===null||n===void 0?void 0:n.equality)!==null&&e!==void 0?e:"value",eviction:"keep-all"});return i=>{var s;let o;try{o=r.get(i)}catch(d){throw de(`Problem with cache lookup for selector ${t.key}: ${d.message}`)}if(o!=null)return o;const a=`${t.key}__selectorFamily/${(s=kc(i,{allowFunctions:!0}))!==null&&s!==void 0?s:"void"}/${eb++}`,l=d=>t.get(i)(d),u=t.cachePolicy_UNSTABLE,c=typeof t.retainedBy_UNSTABLE=="function"?t.retainedBy_UNSTABLE(i):t.retainedBy_UNSTABLE;let h;if(t.set!=null){const d=t.set;h=Ss({key:a,get:l,set:(p,_)=>d(i)(p,_),cachePolicy_UNSTABLE:u,dangerouslyAllowMutability:t.dangerouslyAllowMutability,retainedBy_UNSTABLE:c})}else h=Ss({key:a,get:l,cachePolicy_UNSTABLE:u,dangerouslyAllowMutability:t.dangerouslyAllowMutability,retainedBy_UNSTABLE:c});return r.set(i,h),ZL(h.key,()=>{r.delete(i)}),h}}var jr=tb;const nb=jr({key:"__constant",get:t=>()=>t,cachePolicyForParams_UNSTABLE:{equality:"reference"}});function rb(t){return nb(t)}var ib=rb;const sb=jr({key:"__error",get:t=>()=>{throw de(t)},cachePolicyForParams_UNSTABLE:{equality:"reference"}});function ob(t){return sb(t)}var ab=ob;function lb(t){return t}var ub=lb;const{loadableWithError:r1,loadableWithPromise:i1,loadableWithValue:s1}=Sa;function Rc(t,e){const n=Array(e.length).fill(void 0),r=Array(e.length).fill(void 0);for(const[i,s]of e.entries())try{n[i]=t(s)}catch(o){r[i]=o}return[n,r]}function cb(t){return t!=null&&!Ve(t)}function Ic(t){return Array.isArray(t)?t:Object.getOwnPropertyNames(t).map(e=>t[e])}function of(t,e){return Array.isArray(t)?e:Object.getOwnPropertyNames(t).reduce((n,r,i)=>dt(et({},n),{[r]:e[i]}),{})}function ss(t,e,n){const r=n.map((i,s)=>i==null?s1(e[s]):Ve(i)?i1(i):r1(i));return of(t,r)}function hb(t,e){return e.map((n,r)=>n===void 0?t[r]:n)}const db=jr({key:"__waitForNone",get:t=>({get:e})=>{const n=Ic(t),[r,i]=Rc(e,n);return ss(t,r,i)},dangerouslyAllowMutability:!0}),fb=jr({key:"__waitForAny",get:t=>({get:e})=>{const n=Ic(t),[r,i]=Rc(e,n);return i.some(s=>!Ve(s))?ss(t,r,i):new Promise(s=>{for(const[o,a]of i.entries())Ve(a)&&a.then(l=>{r[o]=l,i[o]=void 0,s(ss(t,r,i))}).catch(l=>{i[o]=l,s(ss(t,r,i))})})},dangerouslyAllowMutability:!0}),pb=jr({key:"__waitForAll",get:t=>({get:e})=>{const n=Ic(t),[r,i]=Rc(e,n);if(i.every(o=>o==null))return of(t,r);const s=i.find(cb);if(s!=null)throw s;return Promise.all(i).then(o=>of(t,hb(r,o)))},dangerouslyAllowMutability:!0}),mb=jr({key:"__waitForAllSettled",get:t=>({get:e})=>{const n=Ic(t),[r,i]=Rc(e,n);return i.every(s=>!Ve(s))?ss(t,r,i):Promise.all(i.map((s,o)=>Ve(s)?s.then(a=>{r[o]=a,i[o]=void 0}).catch(a=>{r[o]=void 0,i[o]=a}):null)).then(()=>ss(t,r,i))},dangerouslyAllowMutability:!0}),gb=jr({key:"__noWait",get:t=>({get:e})=>{try{return Ss.value(s1(e(t)))}catch(n){return Ss.value(Ve(n)?i1(n):r1(n))}},dangerouslyAllowMutability:!0});var vb={waitForNone:db,waitForAny:fb,waitForAll:pb,waitForAllSettled:mb,noWait:gb};const{RecoilLoadable:yb}=Sa,{DefaultValue:wb}=Yt,{RecoilRoot:Sb,useRecoilStoreID:_b}=lr,{isRecoilValue:Eb}=vs,{retentionZone:Tb}=pc,{freshSnapshot:kb}=wc,{useRecoilState:Rb,useRecoilState_TRANSITION_SUPPORT_UNSTABLE:Ib,useRecoilStateLoadable:Cb,useRecoilValue:Nb,useRecoilValue_TRANSITION_SUPPORT_UNSTABLE:Ab,useRecoilValueLoadable:xb,useRecoilValueLoadable_TRANSITION_SUPPORT_UNSTABLE:Db,useResetRecoilState:Lb,useSetRecoilState:bb}=zx,{useGotoRecoilSnapshot:Pb,useRecoilSnapshot:Mb,useRecoilTransactionObserver:$b}=z_,{useRecoilCallback:Ob}=K_,{noWait:Ub,waitForAll:Vb,waitForAllSettled:Fb,waitForAny:Bb,waitForNone:zb}=vb;var Xp={DefaultValue:wb,isRecoilValue:Eb,RecoilLoadable:yb,RecoilRoot:Sb,useRecoilStoreID:_b,useRecoilBridgeAcrossReactRoots_UNSTABLE:mD,atom:t1,selector:Ss,atomFamily:JL,selectorFamily:jr,constSelector:ib,errorSelector:ab,readOnlySelector:ub,noWait:Ub,waitForNone:zb,waitForAny:Bb,waitForAll:Vb,waitForAllSettled:Fb,useRecoilValue:Nb,useRecoilValueLoadable:xb,useRecoilState:Rb,useRecoilStateLoadable:Cb,useSetRecoilState:bb,useResetRecoilState:Lb,useGetRecoilValueInfo_UNSTABLE:uD,useRecoilRefresher_UNSTABLE:HD,useRecoilValueLoadable_TRANSITION_SUPPORT_UNSTABLE:Db,useRecoilValue_TRANSITION_SUPPORT_UNSTABLE:Ab,useRecoilState_TRANSITION_SUPPORT_UNSTABLE:Ib,useRecoilCallback:Ob,useRecoilTransaction_UNSTABLE:QD,useGotoRecoilSnapshot:Pb,useRecoilSnapshot:Mb,useRecoilTransactionObserver_UNSTABLE:$b,snapshot_UNSTABLE:kb,useRetain:Wp,retentionZone:Tb},jb=Xp.RecoilRoot,Hb=Xp.atom,o1=Xp.useRecoilState;function Wb(){const{pathname:t}=bp();return j.exports.useEffect(()=>{window.scrollTo(0,0)},[t]),null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const a1=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},Kb=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=t[n++];e[r++]=String.fromCharCode((i&31)<<6|s&63)}else if(i>239&&i<365){const s=t[n++],o=t[n++],a=t[n++],l=((i&7)<<18|(s&63)<<12|(o&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(l>>10)),e[r++]=String.fromCharCode(56320+(l&1023))}else{const s=t[n++],o=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(s&63)<<6|o&63)}}return e.join("")},l1={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const s=t[i],o=i+1<t.length,a=o?t[i+1]:0,l=i+2<t.length,u=l?t[i+2]:0,c=s>>2,h=(s&3)<<4|a>>4;let d=(a&15)<<2|u>>6,v=u&63;l||(v=64,o||(d=64)),r.push(n[c],n[h],n[d],n[v])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(a1(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):Kb(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const s=n[t.charAt(i++)],a=i<t.length?n[t.charAt(i)]:0;++i;const u=i<t.length?n[t.charAt(i)]:64;++i;const h=i<t.length?n[t.charAt(i)]:64;if(++i,s==null||a==null||u==null||h==null)throw Error();const d=s<<2|a>>4;if(r.push(d),u!==64){const v=a<<4&240|u>>2;if(r.push(v),h!==64){const p=u<<6&192|h;r.push(p)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}},qb=function(t){const e=a1(t);return l1.encodeByteArray(e,!0)},u1=function(t){return qb(t).replace(/\./g,"")},Gb=function(t){try{return l1.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qb{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ut(){return typeof navigator!="undefined"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function c1(){return typeof window!="undefined"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(ut())}function h1(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function d1(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function Yb(){return ut().indexOf("Electron/")>=0}function f1(){const t=ut();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function Xb(){return ut().indexOf("MSAppHost/")>=0}function Jb(){return typeof indexedDB=="object"}function Zb(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var s;e(((s=i.error)===null||s===void 0?void 0:s.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eP="FirebaseError";class Ai extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=eP,Object.setPrototypeOf(this,Ai.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Ia.prototype.create)}}class Ia{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,s=this.errors[e],o=s?tP(s,r):"Error",a=`${this.serviceName}: ${o} (${i}).`;return new Ai(i,a,r)}}function tP(t,e){return t.replace(nP,(n,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const nP=/\{\$([^}]+)}/g;function rP(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function Tu(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const s=t[i],o=e[i];if(iy(s)&&iy(o)){if(!Tu(s,o))return!1}else if(s!==o)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function iy(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ca(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function iP(t,e){const n=new sP(t,e);return n.subscribe.bind(n)}class sP{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");oP(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=Vh),i.error===void 0&&(i.error=Vh),i.complete===void 0&&(i.complete=Vh);const s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),s}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console!="undefined"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function oP(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function Vh(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ot(t){return t&&t._delegate?t._delegate:t}class mi{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qr="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aP{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new Qb;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),i=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(s){if(i)return null;throw s}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(uP(e))try{this.getOrInitializeService({instanceIdentifier:Qr})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(e=Qr){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Qr){return this.instances.has(e)}getOptions(e=Qr){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[s,o]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(s);r===a&&o.resolve(i)}return i}onInit(e,n){var r;const i=this.normalizeInstanceIdentifier(n),s=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;s.add(e),this.onInitCallbacks.set(i,s);const o=this.instances.get(i);return o&&e(o,i),()=>{s.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(!!r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:lP(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Qr){return this.component?this.component.multipleInstances?e:Qr:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function lP(t){return t===Qr?void 0:t}function uP(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cP{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new aP(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Se;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(Se||(Se={}));const hP={debug:Se.DEBUG,verbose:Se.VERBOSE,info:Se.INFO,warn:Se.WARN,error:Se.ERROR,silent:Se.SILENT},dP=Se.INFO,fP={[Se.DEBUG]:"log",[Se.VERBOSE]:"log",[Se.INFO]:"info",[Se.WARN]:"warn",[Se.ERROR]:"error"},pP=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),i=fP[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Jp{constructor(e){this.name=e,this._logLevel=dP,this._logHandler=pP,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Se))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?hP[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Se.DEBUG,...e),this._logHandler(this,Se.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Se.VERBOSE,...e),this._logHandler(this,Se.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Se.INFO,...e),this._logHandler(this,Se.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Se.WARN,...e),this._logHandler(this,Se.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Se.ERROR,...e),this._logHandler(this,Se.ERROR,...e)}}const mP=(t,e)=>e.some(n=>t instanceof n);let sy,oy;function gP(){return sy||(sy=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function vP(){return oy||(oy=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const p1=new WeakMap,af=new WeakMap,m1=new WeakMap,Fh=new WeakMap,Zp=new WeakMap;function yP(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",s),t.removeEventListener("error",o)},s=()=>{n(Nr(t.result)),i()},o=()=>{r(t.error),i()};t.addEventListener("success",s),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&p1.set(n,t)}).catch(()=>{}),Zp.set(e,t),e}function wP(t){if(af.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",o),t.removeEventListener("abort",o)},s=()=>{n(),i()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",s),t.addEventListener("error",o),t.addEventListener("abort",o)});af.set(t,e)}let lf={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return af.get(t);if(e==="objectStoreNames")return t.objectStoreNames||m1.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Nr(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function SP(t){lf=t(lf)}function _P(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(Bh(this),e,...n);return m1.set(r,e.sort?e.sort():[e]),Nr(r)}:vP().includes(t)?function(...e){return t.apply(Bh(this),e),Nr(p1.get(this))}:function(...e){return Nr(t.apply(Bh(this),e))}}function EP(t){return typeof t=="function"?_P(t):(t instanceof IDBTransaction&&wP(t),mP(t,gP())?new Proxy(t,lf):t)}function Nr(t){if(t instanceof IDBRequest)return yP(t);if(Fh.has(t))return Fh.get(t);const e=EP(t);return e!==t&&(Fh.set(t,e),Zp.set(e,t)),e}const Bh=t=>Zp.get(t);function TP(t,e,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){const o=indexedDB.open(t,e),a=Nr(o);return r&&o.addEventListener("upgradeneeded",l=>{r(Nr(o.result),l.oldVersion,l.newVersion,Nr(o.transaction))}),n&&o.addEventListener("blocked",()=>n()),a.then(l=>{s&&l.addEventListener("close",()=>s()),i&&l.addEventListener("versionchange",()=>i())}).catch(()=>{}),a}const kP=["get","getKey","getAll","getAllKeys","count"],RP=["put","add","delete","clear"],zh=new Map;function ay(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(zh.get(e))return zh.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=RP.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||kP.includes(n)))return;const s=async function(o,...a){const l=this.transaction(o,i?"readwrite":"readonly");let u=l.store;return r&&(u=u.index(a.shift())),(await Promise.all([u[n](...a),i&&l.done]))[0]};return zh.set(e,s),s}SP(t=>dt(et({},t),{get:(e,n,r)=>ay(e,n)||t.get(e,n,r),has:(e,n)=>!!ay(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IP{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(CP(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function CP(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const uf="@firebase/app",ly="0.7.24";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const em=new Jp("@firebase/app"),NP="@firebase/app-compat",AP="@firebase/analytics-compat",xP="@firebase/analytics",DP="@firebase/app-check-compat",LP="@firebase/app-check",bP="@firebase/auth",PP="@firebase/auth-compat",MP="@firebase/database",$P="@firebase/database-compat",OP="@firebase/functions",UP="@firebase/functions-compat",VP="@firebase/installations",FP="@firebase/installations-compat",BP="@firebase/messaging",zP="@firebase/messaging-compat",jP="@firebase/performance",HP="@firebase/performance-compat",WP="@firebase/remote-config",KP="@firebase/remote-config-compat",qP="@firebase/storage",GP="@firebase/storage-compat",QP="@firebase/firestore",YP="@firebase/firestore-compat",XP="firebase",JP="9.8.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const g1="[DEFAULT]",ZP={[uf]:"fire-core",[NP]:"fire-core-compat",[xP]:"fire-analytics",[AP]:"fire-analytics-compat",[LP]:"fire-app-check",[DP]:"fire-app-check-compat",[bP]:"fire-auth",[PP]:"fire-auth-compat",[MP]:"fire-rtdb",[$P]:"fire-rtdb-compat",[OP]:"fire-fn",[UP]:"fire-fn-compat",[VP]:"fire-iid",[FP]:"fire-iid-compat",[BP]:"fire-fcm",[zP]:"fire-fcm-compat",[jP]:"fire-perf",[HP]:"fire-perf-compat",[WP]:"fire-rc",[KP]:"fire-rc-compat",[qP]:"fire-gcs",[GP]:"fire-gcs-compat",[QP]:"fire-fst",[YP]:"fire-fst-compat","fire-js":"fire-js",[XP]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ku=new Map,cf=new Map;function eM(t,e){try{t.container.addComponent(e)}catch(n){em.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function _s(t){const e=t.name;if(cf.has(e))return em.debug(`There were multiple attempts to register component ${e}.`),!1;cf.set(e,t);for(const n of ku.values())eM(n,t);return!0}function tm(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tM={["no-app"]:"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()",["bad-app-name"]:"Illegal App name: '{$appName}",["duplicate-app"]:"Firebase App named '{$appName}' already exists with different options or config",["app-deleted"]:"Firebase App named '{$appName}' already deleted",["invalid-app-argument"]:"firebase.{$appName}() takes either no argument or a Firebase App instance.",["invalid-log-argument"]:"First argument to `onLog` must be null or a function.",["storage-open"]:"Error thrown when opening storage. Original error: {$originalErrorMessage}.",["storage-get"]:"Error thrown when reading from storage. Original error: {$originalErrorMessage}.",["storage-set"]:"Error thrown when writing to storage. Original error: {$originalErrorMessage}.",["storage-delete"]:"Error thrown when deleting from storage. Original error: {$originalErrorMessage}."},gi=new Ia("app","Firebase",tM);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nM{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new mi("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw gi.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Na=JP;function rM(t,e={}){typeof e!="object"&&(e={name:e});const n=Object.assign({name:g1,automaticDataCollectionEnabled:!1},e),r=n.name;if(typeof r!="string"||!r)throw gi.create("bad-app-name",{appName:String(r)});const i=ku.get(r);if(i){if(Tu(t,i.options)&&Tu(n,i.config))return i;throw gi.create("duplicate-app",{appName:r})}const s=new cP(r);for(const a of cf.values())s.addComponent(a);const o=new nM(t,n,s);return ku.set(r,o),o}function v1(t=g1){const e=ku.get(t);if(!e)throw gi.create("no-app",{appName:t});return e}function Ar(t,e,n){var r;let i=(r=ZP[t])!==null&&r!==void 0?r:t;n&&(i+=`-${n}`);const s=i.match(/\s|\//),o=e.match(/\s|\//);if(s||o){const a=[`Unable to register library "${i}" with version "${e}":`];s&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&o&&a.push("and"),o&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),em.warn(a.join(" "));return}_s(new mi(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iM="firebase-heartbeat-database",sM=1,Jo="firebase-heartbeat-store";let jh=null;function y1(){return jh||(jh=TP(iM,sM,{upgrade:(t,e)=>{switch(e){case 0:t.createObjectStore(Jo)}}}).catch(t=>{throw gi.create("storage-open",{originalErrorMessage:t.message})})),jh}async function oM(t){try{return(await y1()).transaction(Jo).objectStore(Jo).get(w1(t))}catch(e){throw gi.create("storage-get",{originalErrorMessage:e.message})}}async function uy(t,e){try{const r=(await y1()).transaction(Jo,"readwrite");return await r.objectStore(Jo).put(e,w1(t)),r.done}catch(n){throw gi.create("storage-set",{originalErrorMessage:n.message})}}function w1(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aM=1024,lM=30*24*60*60*1e3;class uM{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new hM(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=cy();if(this._heartbeatsCache===null&&(this._heartbeatsCache=await this._heartbeatsCachePromise),!(this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(i=>i.date===r)))return this._heartbeatsCache.heartbeats.push({date:r,agent:n}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(i=>{const s=new Date(i.date).valueOf();return Date.now()-s<=lM}),this._storage.overwrite(this._heartbeatsCache)}async getHeartbeatsHeader(){if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache===null||this._heartbeatsCache.heartbeats.length===0)return"";const e=cy(),{heartbeatsToSend:n,unsentEntries:r}=cM(this._heartbeatsCache.heartbeats),i=u1(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=e,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}}function cy(){return new Date().toISOString().substring(0,10)}function cM(t,e=aM){const n=[];let r=t.slice();for(const i of t){const s=n.find(o=>o.agent===i.agent);if(s){if(s.dates.push(i.date),hy(n)>e){s.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),hy(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class hM{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return Jb()?Zb().then(()=>!0).catch(()=>!1):!1}async read(){return await this._canUseIndexedDBPromise?await oM(this.app)||{heartbeats:[]}:{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return uy(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return uy(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function hy(t){return u1(JSON.stringify({version:2,heartbeats:t})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dM(t){_s(new mi("platform-logger",e=>new IP(e),"PRIVATE")),_s(new mi("heartbeat",e=>new uM(e),"PRIVATE")),Ar(uf,ly,t),Ar(uf,ly,"esm2017"),Ar("fire-js","")}dM("");var fM=typeof globalThis!="undefined"?globalThis:typeof window!="undefined"?window:typeof global!="undefined"?global:typeof self!="undefined"?self:{},B,nm=nm||{},te=fM||self;function Ru(){}function hf(t){var e=typeof t;return e=e!="object"?e:t?Array.isArray(t)?"array":e:"null",e=="array"||e=="object"&&typeof t.length=="number"}function Aa(t){var e=typeof t;return e=="object"&&t!=null||e=="function"}function pM(t){return Object.prototype.hasOwnProperty.call(t,Hh)&&t[Hh]||(t[Hh]=++mM)}var Hh="closure_uid_"+(1e9*Math.random()>>>0),mM=0;function gM(t,e,n){return t.call.apply(t.bind,arguments)}function vM(t,e,n){if(!t)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var i=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(i,r),t.apply(e,i)}}return function(){return t.apply(e,arguments)}}function gt(t,e,n){return Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?gt=gM:gt=vM,gt.apply(null,arguments)}function Sl(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var r=n.slice();return r.push.apply(r,arguments),t.apply(this,r)}}function _t(t,e){function n(){}n.prototype=e.prototype,t.Z=e.prototype,t.prototype=new n,t.prototype.constructor=t,t.Vb=function(r,i,s){for(var o=Array(arguments.length-2),a=2;a<arguments.length;a++)o[a-2]=arguments[a];return e.prototype[i].apply(r,o)}}function Hr(){this.s=this.s,this.o=this.o}var yM=0;Hr.prototype.s=!1;Hr.prototype.na=function(){!this.s&&(this.s=!0,this.M(),yM!=0)&&pM(this)};Hr.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const S1=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if(typeof t=="string")return typeof e!="string"||e.length!=1?-1:t.indexOf(e,0);for(let n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1},_1=Array.prototype.forEach?function(t,e,n){Array.prototype.forEach.call(t,e,n)}:function(t,e,n){const r=t.length,i=typeof t=="string"?t.split(""):t;for(let s=0;s<r;s++)s in i&&e.call(n,i[s],s,t)};function wM(t){e:{var e=c$;const n=t.length,r=typeof t=="string"?t.split(""):t;for(let i=0;i<n;i++)if(i in r&&e.call(void 0,r[i],i,t)){e=i;break e}e=-1}return 0>e?null:typeof t=="string"?t.charAt(e):t[e]}function dy(t){return Array.prototype.concat.apply([],arguments)}function rm(t){const e=t.length;if(0<e){const n=Array(e);for(let r=0;r<e;r++)n[r]=t[r];return n}return[]}function Iu(t){return/^[\s\xa0]*$/.test(t)}var fy=String.prototype.trim?function(t){return t.trim()}:function(t){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(t)[1]};function Lt(t,e){return t.indexOf(e)!=-1}function Wh(t,e){return t<e?-1:t>e?1:0}var bt;e:{var py=te.navigator;if(py){var my=py.userAgent;if(my){bt=my;break e}}bt=""}function im(t,e,n){for(const r in t)e.call(n,t[r],r,t)}function E1(t){const e={};for(const n in t)e[n]=t[n];return e}var gy="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function T1(t,e){let n,r;for(let i=1;i<arguments.length;i++){r=arguments[i];for(n in r)t[n]=r[n];for(let s=0;s<gy.length;s++)n=gy[s],Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}}function sm(t){return sm[" "](t),t}sm[" "]=Ru;function SM(t){var e=TM;return Object.prototype.hasOwnProperty.call(e,9)?e[9]:e[9]=t(9)}var _M=Lt(bt,"Opera"),Es=Lt(bt,"Trident")||Lt(bt,"MSIE"),k1=Lt(bt,"Edge"),df=k1||Es,R1=Lt(bt,"Gecko")&&!(Lt(bt.toLowerCase(),"webkit")&&!Lt(bt,"Edge"))&&!(Lt(bt,"Trident")||Lt(bt,"MSIE"))&&!Lt(bt,"Edge"),EM=Lt(bt.toLowerCase(),"webkit")&&!Lt(bt,"Edge");function I1(){var t=te.document;return t?t.documentMode:void 0}var Cu;e:{var Kh="",qh=function(){var t=bt;if(R1)return/rv:([^\);]+)(\)|;)/.exec(t);if(k1)return/Edge\/([\d\.]+)/.exec(t);if(Es)return/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(t);if(EM)return/WebKit\/(\S+)/.exec(t);if(_M)return/(?:Version)[ \/]?(\S+)/.exec(t)}();if(qh&&(Kh=qh?qh[1]:""),Es){var Gh=I1();if(Gh!=null&&Gh>parseFloat(Kh)){Cu=String(Gh);break e}}Cu=Kh}var TM={};function kM(){return SM(function(){let t=0;const e=fy(String(Cu)).split("."),n=fy("9").split("."),r=Math.max(e.length,n.length);for(let o=0;t==0&&o<r;o++){var i=e[o]||"",s=n[o]||"";do{if(i=/(\d*)(\D*)(.*)/.exec(i)||["","","",""],s=/(\d*)(\D*)(.*)/.exec(s)||["","","",""],i[0].length==0&&s[0].length==0)break;t=Wh(i[1].length==0?0:parseInt(i[1],10),s[1].length==0?0:parseInt(s[1],10))||Wh(i[2].length==0,s[2].length==0)||Wh(i[2],s[2]),i=i[3],s=s[3]}while(t==0)}return 0<=t})}var ff;if(te.document&&Es){var vy=I1();ff=vy||parseInt(Cu,10)||void 0}else ff=void 0;var RM=ff,IM=function(){if(!te.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{te.addEventListener("test",Ru,e),te.removeEventListener("test",Ru,e)}catch{}return t}();function Ct(t,e){this.type=t,this.g=this.target=e,this.defaultPrevented=!1}Ct.prototype.h=function(){this.defaultPrevented=!0};function Zo(t,e){if(Ct.call(this,t?t.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,t){var n=this.type=t.type,r=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.g=e,e=t.relatedTarget){if(R1){e:{try{sm(e.nodeName);var i=!0;break e}catch{}i=!1}i||(e=null)}}else n=="mouseover"?e=t.fromElement:n=="mouseout"&&(e=t.toElement);this.relatedTarget=e,r?(this.clientX=r.clientX!==void 0?r.clientX:r.pageX,this.clientY=r.clientY!==void 0?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=t.clientX!==void 0?t.clientX:t.pageX,this.clientY=t.clientY!==void 0?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType=typeof t.pointerType=="string"?t.pointerType:CM[t.pointerType]||"",this.state=t.state,this.i=t,t.defaultPrevented&&Zo.Z.h.call(this)}}_t(Zo,Ct);var CM={2:"touch",3:"pen",4:"mouse"};Zo.prototype.h=function(){Zo.Z.h.call(this);var t=this.i;t.preventDefault?t.preventDefault():t.returnValue=!1};var xa="closure_listenable_"+(1e6*Math.random()|0),NM=0;function AM(t,e,n,r,i){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!r,this.ia=i,this.key=++NM,this.ca=this.fa=!1}function Cc(t){t.ca=!0,t.listener=null,t.proxy=null,t.src=null,t.ia=null}function Nc(t){this.src=t,this.g={},this.h=0}Nc.prototype.add=function(t,e,n,r,i){var s=t.toString();t=this.g[s],t||(t=this.g[s]=[],this.h++);var o=mf(t,e,r,i);return-1<o?(e=t[o],n||(e.fa=!1)):(e=new AM(e,this.src,s,!!r,i),e.fa=n,t.push(e)),e};function pf(t,e){var n=e.type;if(n in t.g){var r=t.g[n],i=S1(r,e),s;(s=0<=i)&&Array.prototype.splice.call(r,i,1),s&&(Cc(e),t.g[n].length==0&&(delete t.g[n],t.h--))}}function mf(t,e,n,r){for(var i=0;i<t.length;++i){var s=t[i];if(!s.ca&&s.listener==e&&s.capture==!!n&&s.ia==r)return i}return-1}var om="closure_lm_"+(1e6*Math.random()|0),Qh={};function C1(t,e,n,r,i){if(r&&r.once)return A1(t,e,n,r,i);if(Array.isArray(e)){for(var s=0;s<e.length;s++)C1(t,e[s],n,r,i);return null}return n=um(n),t&&t[xa]?t.N(e,n,Aa(r)?!!r.capture:!!r,i):N1(t,e,n,!1,r,i)}function N1(t,e,n,r,i,s){if(!e)throw Error("Invalid event type");var o=Aa(i)?!!i.capture:!!i,a=lm(t);if(a||(t[om]=a=new Nc(t)),n=a.add(e,n,r,o,s),n.proxy)return n;if(r=xM(),n.proxy=r,r.src=t,r.listener=n,t.addEventListener)IM||(i=o),i===void 0&&(i=!1),t.addEventListener(e.toString(),r,i);else if(t.attachEvent)t.attachEvent(D1(e.toString()),r);else if(t.addListener&&t.removeListener)t.addListener(r);else throw Error("addEventListener and attachEvent are unavailable.");return n}function xM(){function t(n){return e.call(t.src,t.listener,n)}var e=DM;return t}function A1(t,e,n,r,i){if(Array.isArray(e)){for(var s=0;s<e.length;s++)A1(t,e[s],n,r,i);return null}return n=um(n),t&&t[xa]?t.O(e,n,Aa(r)?!!r.capture:!!r,i):N1(t,e,n,!0,r,i)}function x1(t,e,n,r,i){if(Array.isArray(e))for(var s=0;s<e.length;s++)x1(t,e[s],n,r,i);else r=Aa(r)?!!r.capture:!!r,n=um(n),t&&t[xa]?(t=t.i,e=String(e).toString(),e in t.g&&(s=t.g[e],n=mf(s,n,r,i),-1<n&&(Cc(s[n]),Array.prototype.splice.call(s,n,1),s.length==0&&(delete t.g[e],t.h--)))):t&&(t=lm(t))&&(e=t.g[e.toString()],t=-1,e&&(t=mf(e,n,r,i)),(n=-1<t?e[t]:null)&&am(n))}function am(t){if(typeof t!="number"&&t&&!t.ca){var e=t.src;if(e&&e[xa])pf(e.i,t);else{var n=t.type,r=t.proxy;e.removeEventListener?e.removeEventListener(n,r,t.capture):e.detachEvent?e.detachEvent(D1(n),r):e.addListener&&e.removeListener&&e.removeListener(r),(n=lm(e))?(pf(n,t),n.h==0&&(n.src=null,e[om]=null)):Cc(t)}}}function D1(t){return t in Qh?Qh[t]:Qh[t]="on"+t}function DM(t,e){if(t.ca)t=!0;else{e=new Zo(e,this);var n=t.listener,r=t.ia||t.src;t.fa&&am(t),t=n.call(r,e)}return t}function lm(t){return t=t[om],t instanceof Nc?t:null}var Yh="__closure_events_fn_"+(1e9*Math.random()>>>0);function um(t){return typeof t=="function"?t:(t[Yh]||(t[Yh]=function(e){return t.handleEvent(e)}),t[Yh])}function ct(){Hr.call(this),this.i=new Nc(this),this.P=this,this.I=null}_t(ct,Hr);ct.prototype[xa]=!0;ct.prototype.removeEventListener=function(t,e,n,r){x1(this,t,e,n,r)};function vt(t,e){var n,r=t.I;if(r)for(n=[];r;r=r.I)n.push(r);if(t=t.P,r=e.type||e,typeof e=="string")e=new Ct(e,t);else if(e instanceof Ct)e.target=e.target||t;else{var i=e;e=new Ct(r,t),T1(e,i)}if(i=!0,n)for(var s=n.length-1;0<=s;s--){var o=e.g=n[s];i=_l(o,r,!0,e)&&i}if(o=e.g=t,i=_l(o,r,!0,e)&&i,i=_l(o,r,!1,e)&&i,n)for(s=0;s<n.length;s++)o=e.g=n[s],i=_l(o,r,!1,e)&&i}ct.prototype.M=function(){if(ct.Z.M.call(this),this.i){var t=this.i,e;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)Cc(n[r]);delete t.g[e],t.h--}}this.I=null};ct.prototype.N=function(t,e,n,r){return this.i.add(String(t),e,!1,n,r)};ct.prototype.O=function(t,e,n,r){return this.i.add(String(t),e,!0,n,r)};function _l(t,e,n,r){if(e=t.i.g[String(e)],!e)return!0;e=e.concat();for(var i=!0,s=0;s<e.length;++s){var o=e[s];if(o&&!o.ca&&o.capture==n){var a=o.listener,l=o.ia||o.src;o.fa&&pf(t.i,o),i=a.call(l,r)!==!1&&i}}return i&&!r.defaultPrevented}var cm=te.JSON.stringify;function LM(){var t=b1;let e=null;return t.g&&(e=t.g,t.g=t.g.next,t.g||(t.h=null),e.next=null),e}class bM{constructor(){this.h=this.g=null}add(e,n){const r=L1.get();r.set(e,n),this.h?this.h.next=r:this.g=r,this.h=r}}var L1=new class{constructor(t,e){this.i=t,this.j=e,this.h=0,this.g=null}get(){let t;return 0<this.h?(this.h--,t=this.g,this.g=t.next,t.next=null):t=this.i(),t}}(()=>new PM,t=>t.reset());class PM{constructor(){this.next=this.g=this.h=null}set(e,n){this.h=e,this.g=n,this.next=null}reset(){this.next=this.g=this.h=null}}function MM(t){te.setTimeout(()=>{throw t},0)}function hm(t,e){gf||$M(),vf||(gf(),vf=!0),b1.add(t,e)}var gf;function $M(){var t=te.Promise.resolve(void 0);gf=function(){t.then(OM)}}var vf=!1,b1=new bM;function OM(){for(var t;t=LM();){try{t.h.call(t.g)}catch(n){MM(n)}var e=L1;e.j(t),100>e.h&&(e.h++,t.next=e.g,e.g=t)}vf=!1}function Ac(t,e){ct.call(this),this.h=t||1,this.g=e||te,this.j=gt(this.kb,this),this.l=Date.now()}_t(Ac,ct);B=Ac.prototype;B.da=!1;B.S=null;B.kb=function(){if(this.da){var t=Date.now()-this.l;0<t&&t<.8*this.h?this.S=this.g.setTimeout(this.j,this.h-t):(this.S&&(this.g.clearTimeout(this.S),this.S=null),vt(this,"tick"),this.da&&(dm(this),this.start()))}};B.start=function(){this.da=!0,this.S||(this.S=this.g.setTimeout(this.j,this.h),this.l=Date.now())};function dm(t){t.da=!1,t.S&&(t.g.clearTimeout(t.S),t.S=null)}B.M=function(){Ac.Z.M.call(this),dm(this),delete this.g};function fm(t,e,n){if(typeof t=="function")n&&(t=gt(t,n));else if(t&&typeof t.handleEvent=="function")t=gt(t.handleEvent,t);else throw Error("Invalid listener argument");return 2147483647<Number(e)?-1:te.setTimeout(t,e||0)}function P1(t){t.g=fm(()=>{t.g=null,t.i&&(t.i=!1,P1(t))},t.j);const e=t.h;t.h=null,t.m.apply(null,e)}class UM extends Hr{constructor(e,n){super(),this.m=e,this.j=n,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:P1(this)}M(){super.M(),this.g&&(te.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function ea(t){Hr.call(this),this.h=t,this.g={}}_t(ea,Hr);var yy=[];function M1(t,e,n,r){Array.isArray(n)||(n&&(yy[0]=n.toString()),n=yy);for(var i=0;i<n.length;i++){var s=C1(e,n[i],r||t.handleEvent,!1,t.h||t);if(!s)break;t.g[s.key]=s}}function $1(t){im(t.g,function(e,n){this.g.hasOwnProperty(n)&&am(e)},t),t.g={}}ea.prototype.M=function(){ea.Z.M.call(this),$1(this)};ea.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};function xc(){this.g=!0}xc.prototype.Aa=function(){this.g=!1};function VM(t,e,n,r,i,s){t.info(function(){if(t.g)if(s)for(var o="",a=s.split("&"),l=0;l<a.length;l++){var u=a[l].split("=");if(1<u.length){var c=u[0];u=u[1];var h=c.split("_");o=2<=h.length&&h[1]=="type"?o+(c+"="+u+"&"):o+(c+"=redacted&")}}else o=null;else o=s;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+e+`
`+n+`
`+o})}function FM(t,e,n,r,i,s,o){t.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+e+`
`+n+`
`+s+" "+o})}function Yi(t,e,n,r){t.info(function(){return"XMLHTTP TEXT ("+e+"): "+zM(t,n)+(r?" "+r:"")})}function BM(t,e){t.info(function(){return"TIMEOUT: "+e})}xc.prototype.info=function(){};function zM(t,e){if(!t.g)return e;if(!e)return null;try{var n=JSON.parse(e);if(n){for(t=0;t<n.length;t++)if(Array.isArray(n[t])){var r=n[t];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var s=i[0];if(s!="noop"&&s!="stop"&&s!="close")for(var o=1;o<i.length;o++)i[o]=""}}}}return cm(n)}catch{return e}}var xi={},wy=null;function Dc(){return wy=wy||new ct}xi.Ma="serverreachability";function O1(t){Ct.call(this,xi.Ma,t)}_t(O1,Ct);function ta(t){const e=Dc();vt(e,new O1(e,t))}xi.STAT_EVENT="statevent";function U1(t,e){Ct.call(this,xi.STAT_EVENT,t),this.stat=e}_t(U1,Ct);function Pt(t){const e=Dc();vt(e,new U1(e,t))}xi.Na="timingevent";function V1(t,e){Ct.call(this,xi.Na,t),this.size=e}_t(V1,Ct);function Da(t,e){if(typeof t!="function")throw Error("Fn must not be null and must be a function");return te.setTimeout(function(){t()},e)}var Lc={NO_ERROR:0,lb:1,yb:2,xb:3,sb:4,wb:5,zb:6,Ja:7,TIMEOUT:8,Cb:9},F1={qb:"complete",Mb:"success",Ka:"error",Ja:"abort",Eb:"ready",Fb:"readystatechange",TIMEOUT:"timeout",Ab:"incrementaldata",Db:"progress",tb:"downloadprogress",Ub:"uploadprogress"};function pm(){}pm.prototype.h=null;function Sy(t){return t.h||(t.h=t.i())}function B1(){}var La={OPEN:"a",pb:"b",Ka:"c",Bb:"d"};function mm(){Ct.call(this,"d")}_t(mm,Ct);function gm(){Ct.call(this,"c")}_t(gm,Ct);var yf;function bc(){}_t(bc,pm);bc.prototype.g=function(){return new XMLHttpRequest};bc.prototype.i=function(){return{}};yf=new bc;function ba(t,e,n,r){this.l=t,this.j=e,this.m=n,this.X=r||1,this.V=new ea(this),this.P=jM,t=df?125:void 0,this.W=new Ac(t),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.Y=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.N=-1,this.I=!1,this.O=0,this.L=null,this.aa=this.J=this.$=this.U=!1,this.h=new z1}function z1(){this.i=null,this.g="",this.h=!1}var jM=45e3,wf={},Nu={};B=ba.prototype;B.setTimeout=function(t){this.P=t};function Sf(t,e,n){t.K=1,t.v=Mc(sr(e)),t.s=n,t.U=!0,j1(t,null)}function j1(t,e){t.F=Date.now(),Pa(t),t.A=sr(t.v);var n=t.A,r=t.X;Array.isArray(r)||(r=[String(r)]),Y1(n.h,"t",r),t.C=0,n=t.l.H,t.h=new z1,t.g=gE(t.l,n?e:null,!t.s),0<t.O&&(t.L=new UM(gt(t.Ia,t,t.g),t.O)),M1(t.V,t.g,"readystatechange",t.gb),e=t.H?E1(t.H):{},t.s?(t.u||(t.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",t.g.ea(t.A,t.u,t.s,e)):(t.u="GET",t.g.ea(t.A,t.u,null,e)),ta(1),VM(t.j,t.u,t.A,t.m,t.X,t.s)}B.gb=function(t){t=t.target;const e=this.L;e&&Yn(t)==3?e.l():this.Ia(t)};B.Ia=function(t){try{if(t==this.g)e:{const c=Yn(this.g);var e=this.g.Da();const h=this.g.ba();if(!(3>c)&&(c!=3||df||this.g&&(this.h.h||this.g.ga()||ky(this.g)))){this.I||c!=4||e==7||(e==8||0>=h?ta(3):ta(2)),Pc(this);var n=this.g.ba();this.N=n;t:if(H1(this)){var r=ky(this.g);t="";var i=r.length,s=Yn(this.g)==4;if(!this.h.i){if(typeof TextDecoder=="undefined"){ei(this),xo(this);var o="";break t}this.h.i=new te.TextDecoder}for(e=0;e<i;e++)this.h.h=!0,t+=this.h.i.decode(r[e],{stream:s&&e==i-1});r.splice(0,i),this.h.g+=t,this.C=0,o=this.h.g}else o=this.g.ga();if(this.i=n==200,FM(this.j,this.u,this.A,this.m,this.X,c,n),this.i){if(this.$&&!this.J){t:{if(this.g){var a,l=this.g;if((a=l.g?l.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Iu(a)){var u=a;break t}}u=null}if(n=u)Yi(this.j,this.m,n,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,_f(this,n);else{this.i=!1,this.o=3,Pt(12),ei(this),xo(this);break e}}this.U?(W1(this,c,o),df&&this.i&&c==3&&(M1(this.V,this.W,"tick",this.fb),this.W.start())):(Yi(this.j,this.m,o,null),_f(this,o)),c==4&&ei(this),this.i&&!this.I&&(c==4?dE(this.l,this):(this.i=!1,Pa(this)))}else n==400&&0<o.indexOf("Unknown SID")?(this.o=3,Pt(12)):(this.o=0,Pt(13)),ei(this),xo(this)}}}catch{}finally{}};function H1(t){return t.g?t.u=="GET"&&t.K!=2&&t.l.Ba:!1}function W1(t,e,n){let r=!0,i;for(;!t.I&&t.C<n.length;)if(i=HM(t,n),i==Nu){e==4&&(t.o=4,Pt(14),r=!1),Yi(t.j,t.m,null,"[Incomplete Response]");break}else if(i==wf){t.o=4,Pt(15),Yi(t.j,t.m,n,"[Invalid Chunk]"),r=!1;break}else Yi(t.j,t.m,i,null),_f(t,i);H1(t)&&i!=Nu&&i!=wf&&(t.h.g="",t.C=0),e!=4||n.length!=0||t.h.h||(t.o=1,Pt(16),r=!1),t.i=t.i&&r,r?0<n.length&&!t.aa&&(t.aa=!0,e=t.l,e.g==t&&e.$&&!e.L&&(e.h.info("Great, no buffering proxy detected. Bytes received: "+n.length),Rm(e),e.L=!0,Pt(11))):(Yi(t.j,t.m,n,"[Invalid Chunked Response]"),ei(t),xo(t))}B.fb=function(){if(this.g){var t=Yn(this.g),e=this.g.ga();this.C<e.length&&(Pc(this),W1(this,t,e),this.i&&t!=4&&Pa(this))}};function HM(t,e){var n=t.C,r=e.indexOf(`
`,n);return r==-1?Nu:(n=Number(e.substring(n,r)),isNaN(n)?wf:(r+=1,r+n>e.length?Nu:(e=e.substr(r,n),t.C=r+n,e)))}B.cancel=function(){this.I=!0,ei(this)};function Pa(t){t.Y=Date.now()+t.P,K1(t,t.P)}function K1(t,e){if(t.B!=null)throw Error("WatchDog timer not null");t.B=Da(gt(t.eb,t),e)}function Pc(t){t.B&&(te.clearTimeout(t.B),t.B=null)}B.eb=function(){this.B=null;const t=Date.now();0<=t-this.Y?(BM(this.j,this.A),this.K!=2&&(ta(3),Pt(17)),ei(this),this.o=2,xo(this)):K1(this,this.Y-t)};function xo(t){t.l.G==0||t.I||dE(t.l,t)}function ei(t){Pc(t);var e=t.L;e&&typeof e.na=="function"&&e.na(),t.L=null,dm(t.W),$1(t.V),t.g&&(e=t.g,t.g=null,e.abort(),e.na())}function _f(t,e){try{var n=t.l;if(n.G!=0&&(n.g==t||Ef(n.i,t))){if(n.I=t.N,!t.J&&Ef(n.i,t)&&n.G==3){try{var r=n.Ca.g.parse(e)}catch{r=null}if(Array.isArray(r)&&r.length==3){var i=r;if(i[0]==0){e:if(!n.u){if(n.g)if(n.g.F+3e3<t.F)Lu(n),Uc(n);else break e;km(n),Pt(18)}}else n.ta=i[1],0<n.ta-n.U&&37500>i[2]&&n.N&&n.A==0&&!n.v&&(n.v=Da(gt(n.ab,n),6e3));if(1>=Z1(n.i)&&n.ka){try{n.ka()}catch{}n.ka=void 0}}else ti(n,11)}else if((t.J||n.g==t)&&Lu(n),!Iu(e))for(i=n.Ca.g.parse(e),e=0;e<i.length;e++){let u=i[e];if(n.U=u[0],u=u[1],n.G==2)if(u[0]=="c"){n.J=u[1],n.la=u[2];const c=u[3];c!=null&&(n.ma=c,n.h.info("VER="+n.ma));const h=u[4];h!=null&&(n.za=h,n.h.info("SVER="+n.za));const d=u[5];d!=null&&typeof d=="number"&&0<d&&(r=1.5*d,n.K=r,n.h.info("backChannelRequestTimeoutMs_="+r)),r=n;const v=t.g;if(v){const p=v.g?v.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(p){var s=r.i;!s.g&&(Lt(p,"spdy")||Lt(p,"quic")||Lt(p,"h2"))&&(s.j=s.l,s.g=new Set,s.h&&(wm(s,s.h),s.h=null))}if(r.D){const _=v.g?v.g.getResponseHeader("X-HTTP-Session-Id"):null;_&&(r.sa=_,Ue(r.F,r.D,_))}}n.G=3,n.j&&n.j.xa(),n.$&&(n.O=Date.now()-t.F,n.h.info("Handshake RTT: "+n.O+"ms")),r=n;var o=t;if(r.oa=mE(r,r.H?r.la:null,r.W),o.J){eE(r.i,o);var a=o,l=r.K;l&&a.setTimeout(l),a.B&&(Pc(a),Pa(a)),r.g=o}else cE(r);0<n.l.length&&Vc(n)}else u[0]!="stop"&&u[0]!="close"||ti(n,7);else n.G==3&&(u[0]=="stop"||u[0]=="close"?u[0]=="stop"?ti(n,7):Tm(n):u[0]!="noop"&&n.j&&n.j.wa(u),n.A=0)}}ta(4)}catch{}}function WM(t){if(t.R&&typeof t.R=="function")return t.R();if(typeof t=="string")return t.split("");if(hf(t)){for(var e=[],n=t.length,r=0;r<n;r++)e.push(t[r]);return e}e=[],n=0;for(r in t)e[n++]=t[r];return e}function vm(t,e){if(t.forEach&&typeof t.forEach=="function")t.forEach(e,void 0);else if(hf(t)||typeof t=="string")_1(t,e,void 0);else{if(t.T&&typeof t.T=="function")var n=t.T();else if(t.R&&typeof t.R=="function")n=void 0;else if(hf(t)||typeof t=="string"){n=[];for(var r=t.length,i=0;i<r;i++)n.push(i)}else for(i in n=[],r=0,t)n[r++]=i;r=WM(t),i=r.length;for(var s=0;s<i;s++)e.call(void 0,r[s],n&&n[s],t)}}function $s(t,e){this.h={},this.g=[],this.i=0;var n=arguments.length;if(1<n){if(n%2)throw Error("Uneven number of arguments");for(var r=0;r<n;r+=2)this.set(arguments[r],arguments[r+1])}else if(t)if(t instanceof $s)for(n=t.T(),r=0;r<n.length;r++)this.set(n[r],t.get(n[r]));else for(r in t)this.set(r,t[r])}B=$s.prototype;B.R=function(){ym(this);for(var t=[],e=0;e<this.g.length;e++)t.push(this.h[this.g[e]]);return t};B.T=function(){return ym(this),this.g.concat()};function ym(t){if(t.i!=t.g.length){for(var e=0,n=0;e<t.g.length;){var r=t.g[e];vi(t.h,r)&&(t.g[n++]=r),e++}t.g.length=n}if(t.i!=t.g.length){var i={};for(n=e=0;e<t.g.length;)r=t.g[e],vi(i,r)||(t.g[n++]=r,i[r]=1),e++;t.g.length=n}}B.get=function(t,e){return vi(this.h,t)?this.h[t]:e};B.set=function(t,e){vi(this.h,t)||(this.i++,this.g.push(t)),this.h[t]=e};B.forEach=function(t,e){for(var n=this.T(),r=0;r<n.length;r++){var i=n[r],s=this.get(i);t.call(e,s,i,this)}};function vi(t,e){return Object.prototype.hasOwnProperty.call(t,e)}var q1=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function KM(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var r=t[n].indexOf("="),i=null;if(0<=r){var s=t[n].substring(0,r);i=t[n].substring(r+1)}else s=t[n];e(s,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}function yi(t,e){if(this.i=this.s=this.j="",this.m=null,this.o=this.l="",this.g=!1,t instanceof yi){this.g=e!==void 0?e:t.g,Au(this,t.j),this.s=t.s,xu(this,t.i),Du(this,t.m),this.l=t.l,e=t.h;var n=new na;n.i=e.i,e.g&&(n.g=new $s(e.g),n.h=e.h),_y(this,n),this.o=t.o}else t&&(n=String(t).match(q1))?(this.g=!!e,Au(this,n[1]||"",!0),this.s=Do(n[2]||""),xu(this,n[3]||"",!0),Du(this,n[4]),this.l=Do(n[5]||"",!0),_y(this,n[6]||"",!0),this.o=Do(n[7]||"")):(this.g=!!e,this.h=new na(null,this.g))}yi.prototype.toString=function(){var t=[],e=this.j;e&&t.push(mo(e,Ey,!0),":");var n=this.i;return(n||e=="file")&&(t.push("//"),(e=this.s)&&t.push(mo(e,Ey,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n=this.m,n!=null&&t.push(":",String(n))),(n=this.l)&&(this.i&&n.charAt(0)!="/"&&t.push("/"),t.push(mo(n,n.charAt(0)=="/"?XM:YM,!0))),(n=this.h.toString())&&t.push("?",n),(n=this.o)&&t.push("#",mo(n,ZM)),t.join("")};function sr(t){return new yi(t)}function Au(t,e,n){t.j=n?Do(e,!0):e,t.j&&(t.j=t.j.replace(/:$/,""))}function xu(t,e,n){t.i=n?Do(e,!0):e}function Du(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.m=e}else t.m=null}function _y(t,e,n){e instanceof na?(t.h=e,e$(t.h,t.g)):(n||(e=mo(e,JM)),t.h=new na(e,t.g))}function Ue(t,e,n){t.h.set(e,n)}function Mc(t){return Ue(t,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),t}function qM(t){return t instanceof yi?sr(t):new yi(t,void 0)}function GM(t,e,n,r){var i=new yi(null,void 0);return t&&Au(i,t),e&&xu(i,e),n&&Du(i,n),r&&(i.l=r),i}function Do(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function mo(t,e,n){return typeof t=="string"?(t=encodeURI(t).replace(e,QM),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function QM(t){return t=t.charCodeAt(0),"%"+(t>>4&15).toString(16)+(t&15).toString(16)}var Ey=/[#\/\?@]/g,YM=/[#\?:]/g,XM=/[#\?]/g,JM=/[#\?@]/g,ZM=/#/g;function na(t,e){this.h=this.g=null,this.i=t||null,this.j=!!e}function Wr(t){t.g||(t.g=new $s,t.h=0,t.i&&KM(t.i,function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)}))}B=na.prototype;B.add=function(t,e){Wr(this),this.i=null,t=Os(this,t);var n=this.g.get(t);return n||this.g.set(t,n=[]),n.push(e),this.h+=1,this};function G1(t,e){Wr(t),e=Os(t,e),vi(t.g.h,e)&&(t.i=null,t.h-=t.g.get(e).length,t=t.g,vi(t.h,e)&&(delete t.h[e],t.i--,t.g.length>2*t.i&&ym(t)))}function Q1(t,e){return Wr(t),e=Os(t,e),vi(t.g.h,e)}B.forEach=function(t,e){Wr(this),this.g.forEach(function(n,r){_1(n,function(i){t.call(e,i,r,this)},this)},this)};B.T=function(){Wr(this);for(var t=this.g.R(),e=this.g.T(),n=[],r=0;r<e.length;r++)for(var i=t[r],s=0;s<i.length;s++)n.push(e[r]);return n};B.R=function(t){Wr(this);var e=[];if(typeof t=="string")Q1(this,t)&&(e=dy(e,this.g.get(Os(this,t))));else{t=this.g.R();for(var n=0;n<t.length;n++)e=dy(e,t[n])}return e};B.set=function(t,e){return Wr(this),this.i=null,t=Os(this,t),Q1(this,t)&&(this.h-=this.g.get(t).length),this.g.set(t,[e]),this.h+=1,this};B.get=function(t,e){return t?(t=this.R(t),0<t.length?String(t[0]):e):e};function Y1(t,e,n){G1(t,e),0<n.length&&(t.i=null,t.g.set(Os(t,e),rm(n)),t.h+=n.length)}B.toString=function(){if(this.i)return this.i;if(!this.g)return"";for(var t=[],e=this.g.T(),n=0;n<e.length;n++){var r=e[n],i=encodeURIComponent(String(r));r=this.R(r);for(var s=0;s<r.length;s++){var o=i;r[s]!==""&&(o+="="+encodeURIComponent(String(r[s]))),t.push(o)}}return this.i=t.join("&")};function Os(t,e){return e=String(e),t.j&&(e=e.toLowerCase()),e}function e$(t,e){e&&!t.j&&(Wr(t),t.i=null,t.g.forEach(function(n,r){var i=r.toLowerCase();r!=i&&(G1(this,r),Y1(this,i,n))},t)),t.j=e}var t$=class{constructor(t,e){this.h=t,this.g=e}};function X1(t){this.l=t||n$,te.PerformanceNavigationTiming?(t=te.performance.getEntriesByType("navigation"),t=0<t.length&&(t[0].nextHopProtocol=="hq"||t[0].nextHopProtocol=="h2")):t=!!(te.g&&te.g.Ea&&te.g.Ea()&&te.g.Ea().Zb),this.j=t?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var n$=10;function J1(t){return t.h?!0:t.g?t.g.size>=t.j:!1}function Z1(t){return t.h?1:t.g?t.g.size:0}function Ef(t,e){return t.h?t.h==e:t.g?t.g.has(e):!1}function wm(t,e){t.g?t.g.add(e):t.h=e}function eE(t,e){t.h&&t.h==e?t.h=null:t.g&&t.g.has(e)&&t.g.delete(e)}X1.prototype.cancel=function(){if(this.i=tE(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const t of this.g.values())t.cancel();this.g.clear()}};function tE(t){if(t.h!=null)return t.i.concat(t.h.D);if(t.g!=null&&t.g.size!==0){let e=t.i;for(const n of t.g.values())e=e.concat(n.D);return e}return rm(t.i)}function Sm(){}Sm.prototype.stringify=function(t){return te.JSON.stringify(t,void 0)};Sm.prototype.parse=function(t){return te.JSON.parse(t,void 0)};function r$(){this.g=new Sm}function i$(t,e,n){const r=n||"";try{vm(t,function(i,s){let o=i;Aa(i)&&(o=cm(i)),e.push(r+s+"="+encodeURIComponent(o))})}catch(i){throw e.push(r+"type="+encodeURIComponent("_badmap")),i}}function s$(t,e){const n=new xc;if(te.Image){const r=new Image;r.onload=Sl(El,n,r,"TestLoadImage: loaded",!0,e),r.onerror=Sl(El,n,r,"TestLoadImage: error",!1,e),r.onabort=Sl(El,n,r,"TestLoadImage: abort",!1,e),r.ontimeout=Sl(El,n,r,"TestLoadImage: timeout",!1,e),te.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=t}else e(!1)}function El(t,e,n,r,i){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,i(r)}catch{}}function Ma(t){this.l=t.$b||null,this.j=t.ib||!1}_t(Ma,pm);Ma.prototype.g=function(){return new $c(this.l,this.j)};Ma.prototype.i=function(t){return function(){return t}}({});function $c(t,e){ct.call(this),this.D=t,this.u=e,this.m=void 0,this.readyState=_m,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}_t($c,ct);var _m=0;B=$c.prototype;B.open=function(t,e){if(this.readyState!=_m)throw this.abort(),Error("Error reopening a connection");this.C=t,this.B=e,this.readyState=1,ra(this)};B.send=function(t){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};t&&(e.body=t),(this.D||te).fetch(new Request(this.B,e)).then(this.Va.bind(this),this.ha.bind(this))};B.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted."),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,$a(this)),this.readyState=_m};B.Va=function(t){if(this.g&&(this.l=t,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=t.headers,this.readyState=2,ra(this)),this.g&&(this.readyState=3,ra(this),this.g)))if(this.responseType==="arraybuffer")t.arrayBuffer().then(this.Ta.bind(this),this.ha.bind(this));else if(typeof te.ReadableStream!="undefined"&&"body"in t){if(this.j=t.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;nE(this)}else t.text().then(this.Ua.bind(this),this.ha.bind(this))};function nE(t){t.j.read().then(t.Sa.bind(t)).catch(t.ha.bind(t))}B.Sa=function(t){if(this.g){if(this.u&&t.value)this.response.push(t.value);else if(!this.u){var e=t.value?t.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!t.done}))&&(this.response=this.responseText+=e)}t.done?$a(this):ra(this),this.readyState==3&&nE(this)}};B.Ua=function(t){this.g&&(this.response=this.responseText=t,$a(this))};B.Ta=function(t){this.g&&(this.response=t,$a(this))};B.ha=function(){this.g&&$a(this)};function $a(t){t.readyState=4,t.l=null,t.j=null,t.A=null,ra(t)}B.setRequestHeader=function(t,e){this.v.append(t,e)};B.getResponseHeader=function(t){return this.h&&this.h.get(t.toLowerCase())||""};B.getAllResponseHeaders=function(){if(!this.h)return"";const t=[],e=this.h.entries();for(var n=e.next();!n.done;)n=n.value,t.push(n[0]+": "+n[1]),n=e.next();return t.join(`\r
`)};function ra(t){t.onreadystatechange&&t.onreadystatechange.call(t)}Object.defineProperty($c.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(t){this.m=t?"include":"same-origin"}});var o$=te.JSON.parse;function Xe(t){ct.call(this),this.headers=new $s,this.u=t||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=rE,this.K=this.L=!1}_t(Xe,ct);var rE="",a$=/^https?$/i,l$=["POST","PUT"];B=Xe.prototype;B.ea=function(t,e,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+t);e=e?e.toUpperCase():"GET",this.H=t,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():yf.g(),this.C=this.u?Sy(this.u):Sy(yf),this.g.onreadystatechange=gt(this.Fa,this);try{this.F=!0,this.g.open(e,String(t),!0),this.F=!1}catch(s){Ty(this,s);return}t=n||"";const i=new $s(this.headers);r&&vm(r,function(s,o){i.set(o,s)}),r=wM(i.T()),n=te.FormData&&t instanceof te.FormData,!(0<=S1(l$,e))||r||n||i.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),i.forEach(function(s,o){this.g.setRequestHeader(o,s)},this),this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{oE(this),0<this.B&&((this.K=u$(this.g))?(this.g.timeout=this.B,this.g.ontimeout=gt(this.pa,this)):this.A=fm(this.pa,this.B,this)),this.v=!0,this.g.send(t),this.v=!1}catch(s){Ty(this,s)}};function u$(t){return Es&&kM()&&typeof t.timeout=="number"&&t.ontimeout!==void 0}function c$(t){return t.toLowerCase()=="content-type"}B.pa=function(){typeof nm!="undefined"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,vt(this,"timeout"),this.abort(8))};function Ty(t,e){t.h=!1,t.g&&(t.l=!0,t.g.abort(),t.l=!1),t.j=e,t.m=5,iE(t),Oc(t)}function iE(t){t.D||(t.D=!0,vt(t,"complete"),vt(t,"error"))}B.abort=function(t){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=t||7,vt(this,"complete"),vt(this,"abort"),Oc(this))};B.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),Oc(this,!0)),Xe.Z.M.call(this)};B.Fa=function(){this.s||(this.F||this.v||this.l?sE(this):this.cb())};B.cb=function(){sE(this)};function sE(t){if(t.h&&typeof nm!="undefined"&&(!t.C[1]||Yn(t)!=4||t.ba()!=2)){if(t.v&&Yn(t)==4)fm(t.Fa,0,t);else if(vt(t,"readystatechange"),Yn(t)==4){t.h=!1;try{const a=t.ba();e:switch(a){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var n;if(!(n=e)){var r;if(r=a===0){var i=String(t.H).match(q1)[1]||null;if(!i&&te.self&&te.self.location){var s=te.self.location.protocol;i=s.substr(0,s.length-1)}r=!a$.test(i?i.toLowerCase():"")}n=r}if(n)vt(t,"complete"),vt(t,"success");else{t.m=6;try{var o=2<Yn(t)?t.g.statusText:""}catch{o=""}t.j=o+" ["+t.ba()+"]",iE(t)}}finally{Oc(t)}}}}function Oc(t,e){if(t.g){oE(t);const n=t.g,r=t.C[0]?Ru:null;t.g=null,t.C=null,e||vt(t,"ready");try{n.onreadystatechange=r}catch{}}}function oE(t){t.g&&t.K&&(t.g.ontimeout=null),t.A&&(te.clearTimeout(t.A),t.A=null)}function Yn(t){return t.g?t.g.readyState:0}B.ba=function(){try{return 2<Yn(this)?this.g.status:-1}catch{return-1}};B.ga=function(){try{return this.g?this.g.responseText:""}catch{return""}};B.Qa=function(t){if(this.g){var e=this.g.responseText;return t&&e.indexOf(t)==0&&(e=e.substring(t.length)),o$(e)}};function ky(t){try{if(!t.g)return null;if("response"in t.g)return t.g.response;switch(t.J){case rE:case"text":return t.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in t.g)return t.g.mozResponseArrayBuffer}return null}catch{return null}}B.Da=function(){return this.m};B.La=function(){return typeof this.j=="string"?this.j:String(this.j)};function h$(t){let e="";return im(t,function(n,r){e+=r,e+=":",e+=n,e+=`\r
`}),e}function Em(t,e,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=h$(n),typeof t=="string"?n!=null&&encodeURIComponent(String(n)):Ue(t,e,n))}function lo(t,e,n){return n&&n.internalChannelParams&&n.internalChannelParams[t]||e}function aE(t){this.za=0,this.l=[],this.h=new xc,this.la=this.oa=this.F=this.W=this.g=this.sa=this.D=this.aa=this.o=this.P=this.s=null,this.Za=this.V=0,this.Xa=lo("failFast",!1,t),this.N=this.v=this.u=this.m=this.j=null,this.X=!0,this.I=this.ta=this.U=-1,this.Y=this.A=this.C=0,this.Pa=lo("baseRetryDelayMs",5e3,t),this.$a=lo("retryDelaySeedMs",1e4,t),this.Ya=lo("forwardChannelMaxRetries",2,t),this.ra=lo("forwardChannelRequestTimeoutMs",2e4,t),this.qa=t&&t.xmlHttpFactory||void 0,this.Ba=t&&t.Yb||!1,this.K=void 0,this.H=t&&t.supportsCrossDomainXhr||!1,this.J="",this.i=new X1(t&&t.concurrentRequestLimit),this.Ca=new r$,this.ja=t&&t.fastHandshake||!1,this.Ra=t&&t.Wb||!1,t&&t.Aa&&this.h.Aa(),t&&t.forceLongPolling&&(this.X=!1),this.$=!this.ja&&this.X&&t&&t.detectBufferingProxy||!1,this.ka=void 0,this.O=0,this.L=!1,this.B=null,this.Wa=!t||t.Xb!==!1}B=aE.prototype;B.ma=8;B.G=1;function Tm(t){if(lE(t),t.G==3){var e=t.V++,n=sr(t.F);Ue(n,"SID",t.J),Ue(n,"RID",e),Ue(n,"TYPE","terminate"),Oa(t,n),e=new ba(t,t.h,e,void 0),e.K=2,e.v=Mc(sr(n)),n=!1,te.navigator&&te.navigator.sendBeacon&&(n=te.navigator.sendBeacon(e.v.toString(),"")),!n&&te.Image&&(new Image().src=e.v,n=!0),n||(e.g=gE(e.l,null),e.g.ea(e.v)),e.F=Date.now(),Pa(e)}pE(t)}B.hb=function(t){try{this.h.info("Origin Trials invoked: "+t)}catch{}};function Uc(t){t.g&&(Rm(t),t.g.cancel(),t.g=null)}function lE(t){Uc(t),t.u&&(te.clearTimeout(t.u),t.u=null),Lu(t),t.i.cancel(),t.m&&(typeof t.m=="number"&&te.clearTimeout(t.m),t.m=null)}function Xh(t,e){t.l.push(new t$(t.Za++,e)),t.G==3&&Vc(t)}function Vc(t){J1(t.i)||t.m||(t.m=!0,hm(t.Ha,t),t.C=0)}function d$(t,e){return Z1(t.i)>=t.i.j-(t.m?1:0)?!1:t.m?(t.l=e.D.concat(t.l),!0):t.G==1||t.G==2||t.C>=(t.Xa?0:t.Ya)?!1:(t.m=Da(gt(t.Ha,t,e),fE(t,t.C)),t.C++,!0)}B.Ha=function(t){if(this.m)if(this.m=null,this.G==1){if(!t){this.V=Math.floor(1e5*Math.random()),t=this.V++;const i=new ba(this,this.h,t,void 0);let s=this.s;if(this.P&&(s?(s=E1(s),T1(s,this.P)):s=this.P),this.o===null&&(i.H=s),this.ja)e:{for(var e=0,n=0;n<this.l.length;n++){t:{var r=this.l[n];if("__data__"in r.g&&(r=r.g.__data__,typeof r=="string")){r=r.length;break t}r=void 0}if(r===void 0)break;if(e+=r,4096<e){e=n;break e}if(e===4096||n===this.l.length-1){e=n+1;break e}}e=1e3}else e=1e3;e=uE(this,i,e),n=sr(this.F),Ue(n,"RID",t),Ue(n,"CVER",22),this.D&&Ue(n,"X-HTTP-Session-Id",this.D),Oa(this,n),this.o&&s&&Em(n,this.o,s),wm(this.i,i),this.Ra&&Ue(n,"TYPE","init"),this.ja?(Ue(n,"$req",e),Ue(n,"SID","null"),i.$=!0,Sf(i,n,null)):Sf(i,n,e),this.G=2}}else this.G==3&&(t?Ry(this,t):this.l.length==0||J1(this.i)||Ry(this))};function Ry(t,e){var n;e?n=e.m:n=t.V++;const r=sr(t.F);Ue(r,"SID",t.J),Ue(r,"RID",n),Ue(r,"AID",t.U),Oa(t,r),t.o&&t.s&&Em(r,t.o,t.s),n=new ba(t,t.h,n,t.C+1),t.o===null&&(n.H=t.s),e&&(t.l=e.D.concat(t.l)),e=uE(t,n,1e3),n.setTimeout(Math.round(.5*t.ra)+Math.round(.5*t.ra*Math.random())),wm(t.i,n),Sf(n,r,e)}function Oa(t,e){t.j&&vm({},function(n,r){Ue(e,r,n)})}function uE(t,e,n){n=Math.min(t.l.length,n);var r=t.j?gt(t.j.Oa,t.j,t):null;e:{var i=t.l;let s=-1;for(;;){const o=["count="+n];s==-1?0<n?(s=i[0].h,o.push("ofs="+s)):s=0:o.push("ofs="+s);let a=!0;for(let l=0;l<n;l++){let u=i[l].h;const c=i[l].g;if(u-=s,0>u)s=Math.max(0,i[l].h-100),a=!1;else try{i$(c,o,"req"+u+"_")}catch{r&&r(c)}}if(a){r=o.join("&");break e}}}return t=t.l.splice(0,n),e.D=t,r}function cE(t){t.g||t.u||(t.Y=1,hm(t.Ga,t),t.A=0)}function km(t){return t.g||t.u||3<=t.A?!1:(t.Y++,t.u=Da(gt(t.Ga,t),fE(t,t.A)),t.A++,!0)}B.Ga=function(){if(this.u=null,hE(this),this.$&&!(this.L||this.g==null||0>=this.O)){var t=2*this.O;this.h.info("BP detection timer enabled: "+t),this.B=Da(gt(this.bb,this),t)}};B.bb=function(){this.B&&(this.B=null,this.h.info("BP detection timeout reached."),this.h.info("Buffering proxy detected and switch to long-polling!"),this.N=!1,this.L=!0,Pt(10),Uc(this),hE(this))};function Rm(t){t.B!=null&&(te.clearTimeout(t.B),t.B=null)}function hE(t){t.g=new ba(t,t.h,"rpc",t.Y),t.o===null&&(t.g.H=t.s),t.g.O=0;var e=sr(t.oa);Ue(e,"RID","rpc"),Ue(e,"SID",t.J),Ue(e,"CI",t.N?"0":"1"),Ue(e,"AID",t.U),Oa(t,e),Ue(e,"TYPE","xmlhttp"),t.o&&t.s&&Em(e,t.o,t.s),t.K&&t.g.setTimeout(t.K);var n=t.g;t=t.la,n.K=1,n.v=Mc(sr(e)),n.s=null,n.U=!0,j1(n,t)}B.ab=function(){this.v!=null&&(this.v=null,Uc(this),km(this),Pt(19))};function Lu(t){t.v!=null&&(te.clearTimeout(t.v),t.v=null)}function dE(t,e){var n=null;if(t.g==e){Lu(t),Rm(t),t.g=null;var r=2}else if(Ef(t.i,e))n=e.D,eE(t.i,e),r=1;else return;if(t.I=e.N,t.G!=0){if(e.i)if(r==1){n=e.s?e.s.length:0,e=Date.now()-e.F;var i=t.C;r=Dc(),vt(r,new V1(r,n,e,i)),Vc(t)}else cE(t);else if(i=e.o,i==3||i==0&&0<t.I||!(r==1&&d$(t,e)||r==2&&km(t)))switch(n&&0<n.length&&(e=t.i,e.i=e.i.concat(n)),i){case 1:ti(t,5);break;case 4:ti(t,10);break;case 3:ti(t,6);break;default:ti(t,2)}}}function fE(t,e){let n=t.Pa+Math.floor(Math.random()*t.$a);return t.j||(n*=2),n*e}function ti(t,e){if(t.h.info("Error code "+e),e==2){var n=null;t.j&&(n=null);var r=gt(t.jb,t);n||(n=new yi("//www.google.com/images/cleardot.gif"),te.location&&te.location.protocol=="http"||Au(n,"https"),Mc(n)),s$(n.toString(),r)}else Pt(2);t.G=0,t.j&&t.j.va(e),pE(t),lE(t)}B.jb=function(t){t?(this.h.info("Successfully pinged google.com"),Pt(2)):(this.h.info("Failed to ping google.com"),Pt(1))};function pE(t){t.G=0,t.I=-1,t.j&&((tE(t.i).length!=0||t.l.length!=0)&&(t.i.i.length=0,rm(t.l),t.l.length=0),t.j.ua())}function mE(t,e,n){let r=qM(n);if(r.i!="")e&&xu(r,e+"."+r.i),Du(r,r.m);else{const i=te.location;r=GM(i.protocol,e?e+"."+i.hostname:i.hostname,+i.port,n)}return t.aa&&im(t.aa,function(i,s){Ue(r,s,i)}),e=t.D,n=t.sa,e&&n&&Ue(r,e,n),Ue(r,"VER",t.ma),Oa(t,r),r}function gE(t,e,n){if(e&&!t.H)throw Error("Can't create secondary domain capable XhrIo object.");return e=n&&t.Ba&&!t.qa?new Xe(new Ma({ib:!0})):new Xe(t.qa),e.L=t.H,e}function vE(){}B=vE.prototype;B.xa=function(){};B.wa=function(){};B.va=function(){};B.ua=function(){};B.Oa=function(){};function bu(){if(Es&&!(10<=Number(RM)))throw Error("Environmental error: no available transport.")}bu.prototype.g=function(t,e){return new an(t,e)};function an(t,e){ct.call(this),this.g=new aE(e),this.l=t,this.h=e&&e.messageUrlParams||null,t=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(t?t["X-Client-Protocol"]="webchannel":t={"X-Client-Protocol":"webchannel"}),this.g.s=t,t=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(t?t["X-WebChannel-Content-Type"]=e.messageContentType:t={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.ya&&(t?t["X-WebChannel-Client-Profile"]=e.ya:t={"X-WebChannel-Client-Profile":e.ya}),this.g.P=t,(t=e&&e.httpHeadersOverwriteParam)&&!Iu(t)&&(this.g.o=t),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!Iu(e)&&(this.g.D=e,t=this.h,t!==null&&e in t&&(t=this.h,e in t&&delete t[e])),this.j=new Us(this)}_t(an,ct);an.prototype.m=function(){this.g.j=this.j,this.A&&(this.g.H=!0);var t=this.g,e=this.l,n=this.h||void 0;t.Wa&&(t.h.info("Origin Trials enabled."),hm(gt(t.hb,t,e))),Pt(0),t.W=e,t.aa=n||{},t.N=t.X,t.F=mE(t,null,t.W),Vc(t)};an.prototype.close=function(){Tm(this.g)};an.prototype.u=function(t){if(typeof t=="string"){var e={};e.__data__=t,Xh(this.g,e)}else this.v?(e={},e.__data__=cm(t),Xh(this.g,e)):Xh(this.g,t)};an.prototype.M=function(){this.g.j=null,delete this.j,Tm(this.g),delete this.g,an.Z.M.call(this)};function yE(t){mm.call(this);var e=t.__sm__;if(e){e:{for(const n in e){t=n;break e}t=void 0}(this.i=t)&&(t=this.i,e=e!==null&&t in e?e[t]:void 0),this.data=e}else this.data=t}_t(yE,mm);function wE(){gm.call(this),this.status=1}_t(wE,gm);function Us(t){this.g=t}_t(Us,vE);Us.prototype.xa=function(){vt(this.g,"a")};Us.prototype.wa=function(t){vt(this.g,new yE(t))};Us.prototype.va=function(t){vt(this.g,new wE(t))};Us.prototype.ua=function(){vt(this.g,"b")};bu.prototype.createWebChannel=bu.prototype.g;an.prototype.send=an.prototype.u;an.prototype.open=an.prototype.m;an.prototype.close=an.prototype.close;Lc.NO_ERROR=0;Lc.TIMEOUT=8;Lc.HTTP_ERROR=6;F1.COMPLETE="complete";B1.EventType=La;La.OPEN="a";La.CLOSE="b";La.ERROR="c";La.MESSAGE="d";ct.prototype.listen=ct.prototype.N;Xe.prototype.listenOnce=Xe.prototype.O;Xe.prototype.getLastError=Xe.prototype.La;Xe.prototype.getLastErrorCode=Xe.prototype.Da;Xe.prototype.getStatus=Xe.prototype.ba;Xe.prototype.getResponseJson=Xe.prototype.Qa;Xe.prototype.getResponseText=Xe.prototype.ga;Xe.prototype.send=Xe.prototype.ea;var f$=function(){return new bu},p$=function(){return Dc()},Jh=Lc,m$=F1,g$=xi,Iy={rb:0,ub:1,vb:2,Ob:3,Tb:4,Qb:5,Rb:6,Pb:7,Nb:8,Sb:9,PROXY:10,NOPROXY:11,Lb:12,Hb:13,Ib:14,Gb:15,Jb:16,Kb:17,nb:18,mb:19,ob:20},v$=Ma,Tl=B1,y$=Xe;const Cy="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bt{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Bt.UNAUTHENTICATED=new Bt(null),Bt.GOOGLE_CREDENTIALS=new Bt("google-credentials-uid"),Bt.FIRST_PARTY=new Bt("first-party-uid"),Bt.MOCK_USER=new Bt("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Vs="9.8.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wi=new Jp("@firebase/firestore");function Ny(){return wi.logLevel}function q(t,...e){if(wi.logLevel<=Se.DEBUG){const n=e.map(Im);wi.debug(`Firestore (${Vs}): ${t}`,...n)}}function Mr(t,...e){if(wi.logLevel<=Se.ERROR){const n=e.map(Im);wi.error(`Firestore (${Vs}): ${t}`,...n)}}function Ay(t,...e){if(wi.logLevel<=Se.WARN){const n=e.map(Im);wi.warn(`Firestore (${Vs}): ${t}`,...n)}}function Im(t){if(typeof t=="string")return t;try{return e=t,JSON.stringify(e)}catch{return t}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/var e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ie(t="Unexpected state"){const e=`FIRESTORE (${Vs}) INTERNAL ASSERTION FAILED: `+t;throw Mr(e),new Error(e)}function Ae(t,e){t||ie()}function ae(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const C={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class H extends Ai{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class er{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class w${constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class S${getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(Bt.UNAUTHENTICATED))}shutdown(){}}class _${constructor(e){this.t=e,this.currentUser=Bt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){let r=this.i;const i=l=>this.i!==r?(r=this.i,n(l)):Promise.resolve();let s=new er;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new er,e.enqueueRetryable(()=>i(this.currentUser))};const o=()=>{const l=s;e.enqueueRetryable(async()=>{await l.promise,await i(this.currentUser)})},a=l=>{q("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.auth.addAuthTokenListener(this.o),o()};this.t.onInit(l=>a(l)),setTimeout(()=>{if(!this.auth){const l=this.t.getImmediate({optional:!0});l?a(l):(q("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new er)}},0),o()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(q("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Ae(typeof r.accessToken=="string"),new w$(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return Ae(e===null||typeof e=="string"),new Bt(e)}}class E${constructor(e,n,r){this.type="FirstParty",this.user=Bt.FIRST_PARTY,this.headers=new Map,this.headers.set("X-Goog-AuthUser",n);const i=e.auth.getAuthHeaderValueForFirstParty([]);i&&this.headers.set("Authorization",i),r&&this.headers.set("X-Goog-Iam-Authorization-Token",r)}}class T${constructor(e,n,r){this.h=e,this.l=n,this.m=r}getToken(){return Promise.resolve(new E$(this.h,this.l,this.m))}start(e,n){e.enqueueRetryable(()=>n(Bt.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class k${constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class R${constructor(e){this.g=e,this.forceRefresh=!1,this.appCheck=null,this.p=null}start(e,n){const r=s=>{s.error!=null&&q("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const o=s.token!==this.p;return this.p=s.token,q("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable(()=>r(s))};const i=s=>{q("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.appCheck.addTokenListener(this.o)};this.g.onInit(s=>i(s)),setTimeout(()=>{if(!this.appCheck){const s=this.g.getImmediate({optional:!0});s?i(s):q("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(Ae(typeof n.token=="string"),this.p=n.token,new k$(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cm{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.I(r),this.T=r=>n.writeSequenceNumber(r))}I(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.T&&this.T(e),e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function I$(t){const e=typeof self!="undefined"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Cm.A=-1;class SE{static R(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const i=I$(40);for(let s=0;s<i.length;++s)r.length<20&&i[s]<n&&(r+=e.charAt(i[s]%e.length))}return r}}function _e(t,e){return t<e?-1:t>e?1:0}function Ts(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class it{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new H(C.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new H(C.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new H(C.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new H(C.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return it.fromMillis(Date.now())}static fromDate(e){return it.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*n));return new it(n,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?_e(this.nanoseconds,e.nanoseconds):_e(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ce{constructor(e){this.timestamp=e}static fromTimestamp(e){return new ce(e)}static min(){return new ce(new it(0,0))}static max(){return new ce(new it(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xy(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Di(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function _E(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ia{constructor(e,n,r){n===void 0?n=0:n>e.length&&ie(),r===void 0?r=e.length-n:r>e.length-n&&ie(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return ia.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof ia?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let i=0;i<r;i++){const s=e.get(i),o=n.get(i);if(s<o)return-1;if(s>o)return 1}return e.length<n.length?-1:e.length>n.length?1:0}}class Le extends ia{construct(e,n,r){return new Le(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new H(C.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new Le(n)}static emptyPath(){return new Le([])}}const C$=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Ht extends ia{construct(e,n,r){return new Ht(e,n,r)}static isValidIdentifier(e){return C$.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Ht.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new Ht(["__name__"])}static fromServerFormat(e){const n=[];let r="",i=0;const s=()=>{if(r.length===0)throw new H(C.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let o=!1;for(;i<e.length;){const a=e[i];if(a==="\\"){if(i+1===e.length)throw new H(C.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const l=e[i+1];if(l!=="\\"&&l!=="."&&l!=="`")throw new H(C.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=l,i+=2}else a==="`"?(o=!o,i++):a!=="."||o?(r+=a,i++):(s(),i++)}if(s(),o)throw new H(C.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Ht(n)}static emptyPath(){return new Ht([])}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sa{constructor(e){this.fields=e,e.sort(Ht.comparator)}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Ts(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class St{constructor(e){this.binaryString=e}static fromBase64String(e){const n=atob(e);return new St(n)}static fromUint8Array(e){const n=function(r){let i="";for(let s=0;s<r.length;++s)i+=String.fromCharCode(r[s]);return i}(e);return new St(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return e=this.binaryString,btoa(e);var e}toUint8Array(){return function(e){const n=new Uint8Array(e.length);for(let r=0;r<e.length;r++)n[r]=e.charCodeAt(r);return n}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return _e(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}St.EMPTY_BYTE_STRING=new St("");const N$=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function $r(t){if(Ae(!!t),typeof t=="string"){let e=0;const n=N$.exec(t);if(Ae(!!n),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Qe(t.seconds),nanos:Qe(t.nanos)}}function Qe(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function ks(t){return typeof t=="string"?St.fromBase64String(t):St.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function EE(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function TE(t){const e=t.mapValue.fields.__previous_value__;return EE(e)?TE(e):e}function oa(t){const e=$r(t.mapValue.fields.__local_write_time__.timestampValue);return new it(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class A${constructor(e,n,r,i,s,o,a,l){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=s,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.useFetchStreams=l}}class Rs{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new Rs("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof Rs&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fc(t){return t==null}function Pu(t){return t===0&&1/t==-1/0}function x$(t){return typeof t=="number"&&Number.isInteger(t)&&!Pu(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q{constructor(e){this.path=e}static fromPath(e){return new Q(Le.fromString(e))}static fromName(e){return new Q(Le.fromString(e).popFirst(5))}static empty(){return new Q(Le.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Le.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return Le.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Q(new Le(e.slice()))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kl={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function Si(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?EE(t)?4:D$(t)?9007199254740991:10:ie()}function On(t,e){if(t===e)return!0;const n=Si(t);if(n!==Si(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return oa(t).isEqual(oa(e));case 3:return function(r,i){if(typeof r.timestampValue=="string"&&typeof i.timestampValue=="string"&&r.timestampValue.length===i.timestampValue.length)return r.timestampValue===i.timestampValue;const s=$r(r.timestampValue),o=$r(i.timestampValue);return s.seconds===o.seconds&&s.nanos===o.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(r,i){return ks(r.bytesValue).isEqual(ks(i.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(r,i){return Qe(r.geoPointValue.latitude)===Qe(i.geoPointValue.latitude)&&Qe(r.geoPointValue.longitude)===Qe(i.geoPointValue.longitude)}(t,e);case 2:return function(r,i){if("integerValue"in r&&"integerValue"in i)return Qe(r.integerValue)===Qe(i.integerValue);if("doubleValue"in r&&"doubleValue"in i){const s=Qe(r.doubleValue),o=Qe(i.doubleValue);return s===o?Pu(s)===Pu(o):isNaN(s)&&isNaN(o)}return!1}(t,e);case 9:return Ts(t.arrayValue.values||[],e.arrayValue.values||[],On);case 10:return function(r,i){const s=r.mapValue.fields||{},o=i.mapValue.fields||{};if(xy(s)!==xy(o))return!1;for(const a in s)if(s.hasOwnProperty(a)&&(o[a]===void 0||!On(s[a],o[a])))return!1;return!0}(t,e);default:return ie()}}function aa(t,e){return(t.values||[]).find(n=>On(n,e))!==void 0}function Is(t,e){if(t===e)return 0;const n=Si(t),r=Si(e);if(n!==r)return _e(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return _e(t.booleanValue,e.booleanValue);case 2:return function(i,s){const o=Qe(i.integerValue||i.doubleValue),a=Qe(s.integerValue||s.doubleValue);return o<a?-1:o>a?1:o===a?0:isNaN(o)?isNaN(a)?0:-1:1}(t,e);case 3:return Dy(t.timestampValue,e.timestampValue);case 4:return Dy(oa(t),oa(e));case 5:return _e(t.stringValue,e.stringValue);case 6:return function(i,s){const o=ks(i),a=ks(s);return o.compareTo(a)}(t.bytesValue,e.bytesValue);case 7:return function(i,s){const o=i.split("/"),a=s.split("/");for(let l=0;l<o.length&&l<a.length;l++){const u=_e(o[l],a[l]);if(u!==0)return u}return _e(o.length,a.length)}(t.referenceValue,e.referenceValue);case 8:return function(i,s){const o=_e(Qe(i.latitude),Qe(s.latitude));return o!==0?o:_e(Qe(i.longitude),Qe(s.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return function(i,s){const o=i.values||[],a=s.values||[];for(let l=0;l<o.length&&l<a.length;++l){const u=Is(o[l],a[l]);if(u)return u}return _e(o.length,a.length)}(t.arrayValue,e.arrayValue);case 10:return function(i,s){if(i===kl.mapValue&&s===kl.mapValue)return 0;if(i===kl.mapValue)return 1;if(s===kl.mapValue)return-1;const o=i.fields||{},a=Object.keys(o),l=s.fields||{},u=Object.keys(l);a.sort(),u.sort();for(let c=0;c<a.length&&c<u.length;++c){const h=_e(a[c],u[c]);if(h!==0)return h;const d=Is(o[a[c]],l[u[c]]);if(d!==0)return d}return _e(a.length,u.length)}(t.mapValue,e.mapValue);default:throw ie()}}function Dy(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return _e(t,e);const n=$r(t),r=$r(e),i=_e(n.seconds,r.seconds);return i!==0?i:_e(n.nanos,r.nanos)}function os(t){return Tf(t)}function Tf(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(r){const i=$r(r);return`time(${i.seconds},${i.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?ks(t.bytesValue).toBase64():"referenceValue"in t?(n=t.referenceValue,Q.fromName(n).toString()):"geoPointValue"in t?`geo(${(e=t.geoPointValue).latitude},${e.longitude})`:"arrayValue"in t?function(r){let i="[",s=!0;for(const o of r.values||[])s?s=!1:i+=",",i+=Tf(o);return i+"]"}(t.arrayValue):"mapValue"in t?function(r){const i=Object.keys(r.fields||{}).sort();let s="{",o=!0;for(const a of i)o?o=!1:s+=",",s+=`${a}:${Tf(r.fields[a])}`;return s+"}"}(t.mapValue):ie();var e,n}function Ly(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function kf(t){return!!t&&"integerValue"in t}function Nm(t){return!!t&&"arrayValue"in t}function by(t){return!!t&&"nullValue"in t}function Py(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Ul(t){return!!t&&"mapValue"in t}function Lo(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return Di(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=Lo(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Lo(t.arrayValue.values[n]);return e}return Object.assign({},t)}function D$(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rn{constructor(e){this.value=e}static empty(){return new rn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!Ul(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Lo(n)}setAll(e){let n=Ht.emptyPath(),r={},i=[];e.forEach((o,a)=>{if(!n.isImmediateParentOf(a)){const l=this.getFieldsMap(n);this.applyChanges(l,r,i),r={},i=[],n=a.popLast()}o?r[a.lastSegment()]=Lo(o):i.push(a.lastSegment())});const s=this.getFieldsMap(n);this.applyChanges(s,r,i)}delete(e){const n=this.field(e.popLast());Ul(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return On(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];Ul(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){Di(n,(i,s)=>e[i]=s);for(const i of r)delete e[i]}clone(){return new rn(Lo(this.value))}}function kE(t){const e=[];return Di(t.fields,(n,r)=>{const i=new Ht([n]);if(Ul(r)){const s=kE(r.mapValue).fields;if(s.length===0)e.push(i);else for(const o of s)e.push(i.child(o))}else e.push(i)}),new sa(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class It{constructor(e,n,r,i,s,o){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.data=s,this.documentState=o}static newInvalidDocument(e){return new It(e,0,ce.min(),ce.min(),rn.empty(),0)}static newFoundDocument(e,n,r){return new It(e,1,n,ce.min(),r,0)}static newNoDocument(e,n){return new It(e,2,n,ce.min(),rn.empty(),0)}static newUnknownDocument(e,n){return new It(e,3,n,ce.min(),rn.empty(),2)}convertToFoundDocument(e,n){return this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=rn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=rn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof It&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new It(this.key,this.documentType,this.version,this.readTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}function L$(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=ce.fromTimestamp(r===1e9?new it(n+1,0):new it(n,r));return new _i(i,Q.empty(),e)}function b$(t){return new _i(t.readTime,t.key,-1)}class _i{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new _i(ce.min(),Q.empty(),-1)}static max(){return new _i(ce.max(),Q.empty(),-1)}}function P$(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=Q.comparator(t.documentKey,e.documentKey),n!==0?n:_e(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ht{constructor(e,n){this.comparator=e,this.root=n||pt.EMPTY}insert(e,n){return new ht(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,pt.BLACK,null,null))}remove(e){return new ht(this.comparator,this.root.remove(e,this.comparator).copy(null,null,pt.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Rl(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Rl(this.root,e,this.comparator,!1)}getReverseIterator(){return new Rl(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Rl(this.root,e,this.comparator,!0)}}class Rl{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=n?r(e.key,n):1,n&&i&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(s===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class pt{constructor(e,n,r,i,s){this.key=e,this.value=n,this.color=r!=null?r:pt.RED,this.left=i!=null?i:pt.EMPTY,this.right=s!=null?s:pt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,s){return new pt(e!=null?e:this.key,n!=null?n:this.value,r!=null?r:this.color,i!=null?i:this.left,s!=null?s:this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const s=r(e,i.key);return i=s<0?i.copy(null,null,null,i.left.insert(e,n,r),null):s===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return pt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return pt.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,pt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,pt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw ie();const e=this.left.check();if(e!==this.right.check())throw ie();return e+(this.isRed()?0:1)}}pt.EMPTY=null,pt.RED=!0,pt.BLACK=!1;pt.EMPTY=new class{constructor(){this.size=0}get key(){throw ie()}get value(){throw ie()}get color(){throw ie()}get left(){throw ie()}get right(){throw ie()}copy(t,e,n,r,i){return this}insert(t,e,n){return new pt(t,e)}remove(t,e){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yt{constructor(e){this.comparator=e,this.data=new ht(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new My(this.data.getIterator())}getIteratorFrom(e){return new My(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof yt)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(this.comparator(i,s)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new yt(this.comparator);return n.data=e,n}}class My{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class M${constructor(e,n=null,r=[],i=[],s=null,o=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=s,this.startAt=o,this.endAt=a,this.P=null}}function $y(t,e=null,n=[],r=[],i=null,s=null,o=null){return new M$(t,e,n,r,i,s,o)}function Am(t){const e=ae(t);if(e.P===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>{return(i=r).field.canonicalString()+i.op.toString()+os(i.value);var i}).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(i){return i.field.canonicalString()+i.dir}(r)).join(","),Fc(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>os(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>os(r)).join(",")),e.P=n}return e.P}function $$(t){let e=t.path.canonicalString();return t.collectionGroup!==null&&(e+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(e+=`, filters: [${t.filters.map(n=>{return`${(r=n).field.canonicalString()} ${r.op} ${os(r.value)}`;var r}).join(", ")}]`),Fc(t.limit)||(e+=", limit: "+t.limit),t.orderBy.length>0&&(e+=`, orderBy: [${t.orderBy.map(n=>function(r){return`${r.field.canonicalString()} (${r.dir})`}(n)).join(", ")}]`),t.startAt&&(e+=", startAt: ",e+=t.startAt.inclusive?"b:":"a:",e+=t.startAt.position.map(n=>os(n)).join(",")),t.endAt&&(e+=", endAt: ",e+=t.endAt.inclusive?"a:":"b:",e+=t.endAt.position.map(n=>os(n)).join(",")),`Target(${e})`}function xm(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let i=0;i<t.orderBy.length;i++)if(!H$(t.orderBy[i],e.orderBy[i]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let i=0;i<t.filters.length;i++)if(n=t.filters[i],r=e.filters[i],n.op!==r.op||!n.field.isEqual(r.field)||!On(n.value,r.value))return!1;var n,r;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!Uy(t.startAt,e.startAt)&&Uy(t.endAt,e.endAt)}function Rf(t){return Q.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}class Mt extends class{}{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.V(e,n,r):new O$(e,n,r):n==="array-contains"?new F$(e,r):n==="in"?new B$(e,r):n==="not-in"?new z$(e,r):n==="array-contains-any"?new j$(e,r):new Mt(e,n,r)}static V(e,n,r){return n==="in"?new U$(e,r):new V$(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&this.v(Is(n,this.value)):n!==null&&Si(this.value)===Si(n)&&this.v(Is(n,this.value))}v(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return ie()}}S(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}}class O$ extends Mt{constructor(e,n,r){super(e,n,r),this.key=Q.fromName(r.referenceValue)}matches(e){const n=Q.comparator(e.key,this.key);return this.v(n)}}class U$ extends Mt{constructor(e,n){super(e,"in",n),this.keys=RE("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class V$ extends Mt{constructor(e,n){super(e,"not-in",n),this.keys=RE("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function RE(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>Q.fromName(r.referenceValue))}class F$ extends Mt{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return Nm(n)&&aa(n.arrayValue,this.value)}}class B$ extends Mt{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&aa(this.value.arrayValue,n)}}class z$ extends Mt{constructor(e,n){super(e,"not-in",n)}matches(e){if(aa(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&!aa(this.value.arrayValue,n)}}class j$ extends Mt{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!Nm(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>aa(this.value.arrayValue,r))}}class Mu{constructor(e,n){this.position=e,this.inclusive=n}}class bo{constructor(e,n="asc"){this.field=e,this.dir=n}}function H$(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}function Oy(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){const s=e[i],o=t.position[i];if(s.field.isKeyField()?r=Q.comparator(Q.fromName(o.referenceValue),n.key):r=Is(o,n.data.field(s.field)),s.dir==="desc"&&(r*=-1),r!==0)break}return r}function Uy(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!On(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ua{constructor(e,n=null,r=[],i=[],s=null,o="F",a=null,l=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=s,this.limitType=o,this.startAt=a,this.endAt=l,this.D=null,this.C=null,this.startAt,this.endAt}}function W$(t,e,n,r,i,s,o,a){return new Ua(t,e,n,r,i,s,o,a)}function Bc(t){return new Ua(t)}function K$(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function IE(t){return t.explicitOrderBy.length>0?t.explicitOrderBy[0].field:null}function CE(t){for(const e of t.filters)if(e.S())return e.field;return null}function NE(t){return t.collectionGroup!==null}function la(t){const e=ae(t);if(e.D===null){e.D=[];const n=CE(e),r=IE(e);if(n!==null&&r===null)n.isKeyField()||e.D.push(new bo(n)),e.D.push(new bo(Ht.keyField(),"asc"));else{let i=!1;for(const s of e.explicitOrderBy)e.D.push(s),s.field.isKeyField()&&(i=!0);if(!i){const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e.D.push(new bo(Ht.keyField(),s))}}}return e.D}function Ei(t){const e=ae(t);if(!e.C)if(e.limitType==="F")e.C=$y(e.path,e.collectionGroup,la(e),e.filters,e.limit,e.startAt,e.endAt);else{const n=[];for(const s of la(e)){const o=s.dir==="desc"?"asc":"desc";n.push(new bo(s.field,o))}const r=e.endAt?new Mu(e.endAt.position,e.endAt.inclusive):null,i=e.startAt?new Mu(e.startAt.position,e.startAt.inclusive):null;e.C=$y(e.path,e.collectionGroup,n,e.filters,e.limit,r,i)}return e.C}function q$(t,e,n){return new Ua(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function zc(t,e){return xm(Ei(t),Ei(e))&&t.limitType===e.limitType}function AE(t){return`${Am(Ei(t))}|lt:${t.limitType}`}function If(t){return`Query(target=${$$(Ei(t))}; limitType=${t.limitType})`}function Dm(t,e){return e.isFoundDocument()&&function(n,r){const i=r.key.path;return n.collectionGroup!==null?r.key.hasCollectionId(n.collectionGroup)&&n.path.isPrefixOf(i):Q.isDocumentKey(n.path)?n.path.isEqual(i):n.path.isImmediateParentOf(i)}(t,e)&&function(n,r){for(const i of n.explicitOrderBy)if(!i.field.isKeyField()&&r.data.field(i.field)===null)return!1;return!0}(t,e)&&function(n,r){for(const i of n.filters)if(!i.matches(r))return!1;return!0}(t,e)&&function(n,r){return!(n.startAt&&!function(i,s,o){const a=Oy(i,s,o);return i.inclusive?a<=0:a<0}(n.startAt,la(n),r)||n.endAt&&!function(i,s,o){const a=Oy(i,s,o);return i.inclusive?a>=0:a>0}(n.endAt,la(n),r))}(t,e)}function G$(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function xE(t){return(e,n)=>{let r=!1;for(const i of la(t)){const s=Q$(i,e,n);if(s!==0)return s;r=r||i.field.isKeyField()}return 0}}function Q$(t,e,n){const r=t.field.isKeyField()?Q.comparator(e.key,n.key):function(i,s,o){const a=s.data.field(i),l=o.data.field(i);return a!==null&&l!==null?Is(a,l):ie()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return ie()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function DE(t,e){if(t.N){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Pu(e)?"-0":e}}function LE(t){return{integerValue:""+t}}function Y$(t,e){return x$(e)?LE(e):DE(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jc{constructor(){this._=void 0}}function X$(t,e,n){return t instanceof $u?function(r,i){const s={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:r.seconds,nanos:r.nanoseconds}}}};return i&&(s.fields.__previous_value__=i),{mapValue:s}}(n,e):t instanceof ua?PE(t,e):t instanceof ca?ME(t,e):function(r,i){const s=bE(r,i),o=Vy(s)+Vy(r.k);return kf(s)&&kf(r.k)?LE(o):DE(r.M,o)}(t,e)}function J$(t,e,n){return t instanceof ua?PE(t,e):t instanceof ca?ME(t,e):n}function bE(t,e){return t instanceof Ou?kf(n=e)||function(r){return!!r&&"doubleValue"in r}(n)?e:{integerValue:0}:null;var n}class $u extends jc{}class ua extends jc{constructor(e){super(),this.elements=e}}function PE(t,e){const n=$E(e);for(const r of t.elements)n.some(i=>On(i,r))||n.push(r);return{arrayValue:{values:n}}}class ca extends jc{constructor(e){super(),this.elements=e}}function ME(t,e){let n=$E(e);for(const r of t.elements)n=n.filter(i=>!On(i,r));return{arrayValue:{values:n}}}class Ou extends jc{constructor(e,n){super(),this.M=e,this.k=n}}function Vy(t){return Qe(t.integerValue||t.doubleValue)}function $E(t){return Nm(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function Z$(t,e){return t.field.isEqual(e.field)&&function(n,r){return n instanceof ua&&r instanceof ua||n instanceof ca&&r instanceof ca?Ts(n.elements,r.elements,On):n instanceof Ou&&r instanceof Ou?On(n.k,r.k):n instanceof $u&&r instanceof $u}(t.transform,e.transform)}class eO{constructor(e,n){this.version=e,this.transformResults=n}}class xr{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new xr}static exists(e){return new xr(void 0,e)}static updateTime(e){return new xr(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Vl(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class Hc{}function tO(t,e,n){t instanceof Wc?function(r,i,s){const o=r.value.clone(),a=zy(r.fieldTransforms,i,s.transformResults);o.setAll(a),i.convertToFoundDocument(s.version,o).setHasCommittedMutations()}(t,e,n):t instanceof Fs?function(r,i,s){if(!Vl(r.precondition,i))return void i.convertToUnknownDocument(s.version);const o=zy(r.fieldTransforms,i,s.transformResults),a=i.data;a.setAll(OE(r)),a.setAll(o),i.convertToFoundDocument(s.version,a).setHasCommittedMutations()}(t,e,n):function(r,i,s){i.convertToNoDocument(s.version).setHasCommittedMutations()}(0,e,n)}function Cf(t,e,n){t instanceof Wc?function(r,i,s){if(!Vl(r.precondition,i))return;const o=r.value.clone(),a=jy(r.fieldTransforms,s,i);o.setAll(a),i.convertToFoundDocument(By(i),o).setHasLocalMutations()}(t,e,n):t instanceof Fs?function(r,i,s){if(!Vl(r.precondition,i))return;const o=jy(r.fieldTransforms,s,i),a=i.data;a.setAll(OE(r)),a.setAll(o),i.convertToFoundDocument(By(i),a).setHasLocalMutations()}(t,e,n):function(r,i){Vl(r.precondition,i)&&i.convertToNoDocument(ce.min())}(t,e)}function nO(t,e){let n=null;for(const r of t.fieldTransforms){const i=e.data.field(r.field),s=bE(r.transform,i||null);s!=null&&(n==null&&(n=rn.empty()),n.set(r.field,s))}return n||null}function Fy(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(n,r){return n===void 0&&r===void 0||!(!n||!r)&&Ts(n,r,(i,s)=>Z$(i,s))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}function By(t){return t.isFoundDocument()?t.version:ce.min()}class Wc extends Hc{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}}class Fs extends Hc{constructor(e,n,r,i,s=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=s,this.type=1}}function OE(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function zy(t,e,n){const r=new Map;Ae(t.length===n.length);for(let i=0;i<n.length;i++){const s=t[i],o=s.transform,a=e.data.field(s.field);r.set(s.field,J$(o,a,n[i]))}return r}function jy(t,e,n){const r=new Map;for(const i of t){const s=i.transform,o=n.data.field(i.field);r.set(i.field,X$(s,o,e))}return r}class UE extends Hc{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}}class rO extends Hc{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iO{constructor(e){this.count=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ge,ge;function sO(t){switch(t){default:return ie();case C.CANCELLED:case C.UNKNOWN:case C.DEADLINE_EXCEEDED:case C.RESOURCE_EXHAUSTED:case C.INTERNAL:case C.UNAVAILABLE:case C.UNAUTHENTICATED:return!1;case C.INVALID_ARGUMENT:case C.NOT_FOUND:case C.ALREADY_EXISTS:case C.PERMISSION_DENIED:case C.FAILED_PRECONDITION:case C.ABORTED:case C.OUT_OF_RANGE:case C.UNIMPLEMENTED:case C.DATA_LOSS:return!0}}function VE(t){if(t===void 0)return Mr("GRPC error has no .code"),C.UNKNOWN;switch(t){case Ge.OK:return C.OK;case Ge.CANCELLED:return C.CANCELLED;case Ge.UNKNOWN:return C.UNKNOWN;case Ge.DEADLINE_EXCEEDED:return C.DEADLINE_EXCEEDED;case Ge.RESOURCE_EXHAUSTED:return C.RESOURCE_EXHAUSTED;case Ge.INTERNAL:return C.INTERNAL;case Ge.UNAVAILABLE:return C.UNAVAILABLE;case Ge.UNAUTHENTICATED:return C.UNAUTHENTICATED;case Ge.INVALID_ARGUMENT:return C.INVALID_ARGUMENT;case Ge.NOT_FOUND:return C.NOT_FOUND;case Ge.ALREADY_EXISTS:return C.ALREADY_EXISTS;case Ge.PERMISSION_DENIED:return C.PERMISSION_DENIED;case Ge.FAILED_PRECONDITION:return C.FAILED_PRECONDITION;case Ge.ABORTED:return C.ABORTED;case Ge.OUT_OF_RANGE:return C.OUT_OF_RANGE;case Ge.UNIMPLEMENTED:return C.UNIMPLEMENTED;case Ge.DATA_LOSS:return C.DATA_LOSS;default:return ie()}}(ge=Ge||(Ge={}))[ge.OK=0]="OK",ge[ge.CANCELLED=1]="CANCELLED",ge[ge.UNKNOWN=2]="UNKNOWN",ge[ge.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",ge[ge.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",ge[ge.NOT_FOUND=5]="NOT_FOUND",ge[ge.ALREADY_EXISTS=6]="ALREADY_EXISTS",ge[ge.PERMISSION_DENIED=7]="PERMISSION_DENIED",ge[ge.UNAUTHENTICATED=16]="UNAUTHENTICATED",ge[ge.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",ge[ge.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",ge[ge.ABORTED=10]="ABORTED",ge[ge.OUT_OF_RANGE=11]="OUT_OF_RANGE",ge[ge.UNIMPLEMENTED=12]="UNIMPLEMENTED",ge[ge.INTERNAL=13]="INTERNAL",ge[ge.UNAVAILABLE=14]="UNAVAILABLE",ge[ge.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bs{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[i,s]of r)if(this.equalsFn(i,e))return s}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],e))return void(i[s]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){Di(this.inner,(n,r)=>{for(const[i,s]of r)e(i,s)})}isEmpty(){return _E(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oO=new ht(Q.comparator);function Ti(){return oO}const aO=new ht(Q.comparator);function Nf(...t){let e=aO;for(const n of t)e=e.insert(n.key,n);return e}function Zh(){return new Bs(t=>t.toString(),(t,e)=>t.isEqual(e))}const lO=new ht(Q.comparator),uO=new yt(Q.comparator);function Pe(...t){let e=uO;for(const n of t)e=e.add(n);return e}const cO=new yt(_e);function FE(){return cO}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kc{constructor(e,n,r,i,s){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,n){const r=new Map;return r.set(e,Va.createSynthesizedTargetChangeForCurrentChange(e,n)),new Kc(ce.min(),r,FE(),Ti(),Pe())}}class Va{constructor(e,n,r,i,s){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,n){return new Va(St.EMPTY_BYTE_STRING,n,Pe(),Pe(),Pe())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fl{constructor(e,n,r,i){this.O=e,this.removedTargetIds=n,this.key=r,this.F=i}}class BE{constructor(e,n){this.targetId=e,this.$=n}}class zE{constructor(e,n,r=St.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}}class Hy{constructor(){this.B=0,this.L=Ky(),this.U=St.EMPTY_BYTE_STRING,this.q=!1,this.K=!0}get current(){return this.q}get resumeToken(){return this.U}get G(){return this.B!==0}get j(){return this.K}W(e){e.approximateByteSize()>0&&(this.K=!0,this.U=e)}H(){let e=Pe(),n=Pe(),r=Pe();return this.L.forEach((i,s)=>{switch(s){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:ie()}}),new Va(this.U,this.q,e,n,r)}J(){this.K=!1,this.L=Ky()}Y(e,n){this.K=!0,this.L=this.L.insert(e,n)}X(e){this.K=!0,this.L=this.L.remove(e)}Z(){this.B+=1}tt(){this.B-=1}et(){this.K=!0,this.q=!0}}class hO{constructor(e){this.nt=e,this.st=new Map,this.it=Ti(),this.rt=Wy(),this.ot=new yt(_e)}ut(e){for(const n of e.O)e.F&&e.F.isFoundDocument()?this.at(n,e.F):this.ct(n,e.key,e.F);for(const n of e.removedTargetIds)this.ct(n,e.key,e.F)}ht(e){this.forEachTarget(e,n=>{const r=this.lt(n);switch(e.state){case 0:this.ft(n)&&r.W(e.resumeToken);break;case 1:r.tt(),r.G||r.J(),r.W(e.resumeToken);break;case 2:r.tt(),r.G||this.removeTarget(n);break;case 3:this.ft(n)&&(r.et(),r.W(e.resumeToken));break;case 4:this.ft(n)&&(this.dt(n),r.W(e.resumeToken));break;default:ie()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.st.forEach((r,i)=>{this.ft(i)&&n(i)})}_t(e){const n=e.targetId,r=e.$.count,i=this.wt(n);if(i){const s=i.target;if(Rf(s))if(r===0){const o=new Q(s.path);this.ct(n,o,It.newNoDocument(o,ce.min()))}else Ae(r===1);else this.gt(n)!==r&&(this.dt(n),this.ot=this.ot.add(n))}}yt(e){const n=new Map;this.st.forEach((s,o)=>{const a=this.wt(o);if(a){if(s.current&&Rf(a.target)){const l=new Q(a.target.path);this.it.get(l)!==null||this.It(o,l)||this.ct(o,l,It.newNoDocument(l,e))}s.j&&(n.set(o,s.H()),s.J())}});let r=Pe();this.rt.forEach((s,o)=>{let a=!0;o.forEachWhile(l=>{const u=this.wt(l);return!u||u.purpose===2||(a=!1,!1)}),a&&(r=r.add(s))}),this.it.forEach((s,o)=>o.setReadTime(e));const i=new Kc(e,n,this.ot,this.it,r);return this.it=Ti(),this.rt=Wy(),this.ot=new yt(_e),i}at(e,n){if(!this.ft(e))return;const r=this.It(e,n.key)?2:0;this.lt(e).Y(n.key,r),this.it=this.it.insert(n.key,n),this.rt=this.rt.insert(n.key,this.Tt(n.key).add(e))}ct(e,n,r){if(!this.ft(e))return;const i=this.lt(e);this.It(e,n)?i.Y(n,1):i.X(n),this.rt=this.rt.insert(n,this.Tt(n).delete(e)),r&&(this.it=this.it.insert(n,r))}removeTarget(e){this.st.delete(e)}gt(e){const n=this.lt(e).H();return this.nt.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Z(e){this.lt(e).Z()}lt(e){let n=this.st.get(e);return n||(n=new Hy,this.st.set(e,n)),n}Tt(e){let n=this.rt.get(e);return n||(n=new yt(_e),this.rt=this.rt.insert(e,n)),n}ft(e){const n=this.wt(e)!==null;return n||q("WatchChangeAggregator","Detected inactive target",e),n}wt(e){const n=this.st.get(e);return n&&n.G?null:this.nt.Et(e)}dt(e){this.st.set(e,new Hy),this.nt.getRemoteKeysForTarget(e).forEach(n=>{this.ct(e,n,null)})}It(e,n){return this.nt.getRemoteKeysForTarget(e).has(n)}}function Wy(){return new ht(Q.comparator)}function Ky(){return new ht(Q.comparator)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dO=(()=>({asc:"ASCENDING",desc:"DESCENDING"}))(),fO=(()=>({"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"}))();class pO{constructor(e,n){this.databaseId=e,this.N=n}}function Uu(t,e){return t.N?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function jE(t,e){return t.N?e.toBase64():e.toUint8Array()}function mO(t,e){return Uu(t,e.toTimestamp())}function tr(t){return Ae(!!t),ce.fromTimestamp(function(e){const n=$r(e);return new it(n.seconds,n.nanos)}(t))}function Lm(t,e){return function(n){return new Le(["projects",n.projectId,"databases",n.database])}(t).child("documents").child(e).canonicalString()}function HE(t){const e=Le.fromString(t);return Ae(qE(e)),e}function Af(t,e){return Lm(t.databaseId,e.path)}function ed(t,e){const n=HE(e);if(n.get(1)!==t.databaseId.projectId)throw new H(C.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new H(C.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new Q(WE(n))}function xf(t,e){return Lm(t.databaseId,e)}function gO(t){const e=HE(t);return e.length===4?Le.emptyPath():WE(e)}function Df(t){return new Le(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function WE(t){return Ae(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function qy(t,e,n){return{name:Af(t,e),fields:n.value.mapValue.fields}}function vO(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(l){return l==="NO_CHANGE"?0:l==="ADD"?1:l==="REMOVE"?2:l==="CURRENT"?3:l==="RESET"?4:ie()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],s=function(l,u){return l.N?(Ae(u===void 0||typeof u=="string"),St.fromBase64String(u||"")):(Ae(u===void 0||u instanceof Uint8Array),St.fromUint8Array(u||new Uint8Array))}(t,e.targetChange.resumeToken),o=e.targetChange.cause,a=o&&function(l){const u=l.code===void 0?C.UNKNOWN:VE(l.code);return new H(u,l.message||"")}(o);n=new zE(r,i,s,a||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const i=ed(t,r.document.name),s=tr(r.document.updateTime),o=new rn({mapValue:{fields:r.document.fields}}),a=It.newFoundDocument(i,s,o),l=r.targetIds||[],u=r.removedTargetIds||[];n=new Fl(l,u,a.key,a)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const i=ed(t,r.document),s=r.readTime?tr(r.readTime):ce.min(),o=It.newNoDocument(i,s),a=r.removedTargetIds||[];n=new Fl([],a,o.key,o)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const i=ed(t,r.document),s=r.removedTargetIds||[];n=new Fl([],s,i,null)}else{if(!("filter"in e))return ie();{e.filter;const r=e.filter;r.targetId;const i=r.count||0,s=new iO(i),o=r.targetId;n=new BE(o,s)}}return n}function yO(t,e){let n;if(e instanceof Wc)n={update:qy(t,e.key,e.value)};else if(e instanceof UE)n={delete:Af(t,e.key)};else if(e instanceof Fs)n={update:qy(t,e.key,e.data),updateMask:NO(e.fieldMask)};else{if(!(e instanceof rO))return ie();n={verify:Af(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(i,s){const o=s.transform;if(o instanceof $u)return{fieldPath:s.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(o instanceof ua)return{fieldPath:s.field.canonicalString(),appendMissingElements:{values:o.elements}};if(o instanceof ca)return{fieldPath:s.field.canonicalString(),removeAllFromArray:{values:o.elements}};if(o instanceof Ou)return{fieldPath:s.field.canonicalString(),increment:o.k};throw ie()}(0,r))),e.precondition.isNone||(n.currentDocument=function(r,i){return i.updateTime!==void 0?{updateTime:mO(r,i.updateTime)}:i.exists!==void 0?{exists:i.exists}:ie()}(t,e.precondition)),n}function wO(t,e){return t&&t.length>0?(Ae(e!==void 0),t.map(n=>function(r,i){let s=r.updateTime?tr(r.updateTime):tr(i);return s.isEqual(ce.min())&&(s=tr(i)),new eO(s,r.transformResults||[])}(n,e))):[]}function SO(t,e){return{documents:[xf(t,e.path)]}}function _O(t,e){const n={structuredQuery:{}},r=e.path;e.collectionGroup!==null?(n.parent=xf(t,r),n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(n.parent=xf(t,r.popLast()),n.structuredQuery.from=[{collectionId:r.lastSegment()}]);const i=function(l){if(l.length===0)return;const u=l.map(c=>function(h){if(h.op==="=="){if(Py(h.value))return{unaryFilter:{field:$i(h.field),op:"IS_NAN"}};if(by(h.value))return{unaryFilter:{field:$i(h.field),op:"IS_NULL"}}}else if(h.op==="!="){if(Py(h.value))return{unaryFilter:{field:$i(h.field),op:"IS_NOT_NAN"}};if(by(h.value))return{unaryFilter:{field:$i(h.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:$i(h.field),op:RO(h.op),value:h.value}}}(c));return u.length===1?u[0]:{compositeFilter:{op:"AND",filters:u}}}(e.filters);i&&(n.structuredQuery.where=i);const s=function(l){if(l.length!==0)return l.map(u=>function(c){return{field:$i(c.field),direction:kO(c.dir)}}(u))}(e.orderBy);s&&(n.structuredQuery.orderBy=s);const o=function(l,u){return l.N||Fc(u)?u:{value:u}}(t,e.limit);var a;return o!==null&&(n.structuredQuery.limit=o),e.startAt&&(n.structuredQuery.startAt={before:(a=e.startAt).inclusive,values:a.position}),e.endAt&&(n.structuredQuery.endAt=function(l){return{before:!l.inclusive,values:l.position}}(e.endAt)),n}function EO(t){let e=gO(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){Ae(r===1);const c=n.from[0];c.allDescendants?i=c.collectionId:e=e.child(c.collectionId)}let s=[];n.where&&(s=KE(n.where));let o=[];n.orderBy&&(o=n.orderBy.map(c=>function(h){return new bo(Xi(h.field),function(d){switch(d){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(h.direction))}(c)));let a=null;n.limit&&(a=function(c){let h;return h=typeof c=="object"?c.value:c,Fc(h)?null:h}(n.limit));let l=null;n.startAt&&(l=function(c){const h=!!c.before,d=c.values||[];return new Mu(d,h)}(n.startAt));let u=null;return n.endAt&&(u=function(c){const h=!c.before,d=c.values||[];return new Mu(d,h)}(n.endAt)),W$(e,i,o,s,a,"F",l,u)}function TO(t,e){const n=function(r,i){switch(i){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return ie()}}(0,e.purpose);return n==null?null:{"goog-listen-tags":n}}function KE(t){return t?t.unaryFilter!==void 0?[CO(t)]:t.fieldFilter!==void 0?[IO(t)]:t.compositeFilter!==void 0?t.compositeFilter.filters.map(e=>KE(e)).reduce((e,n)=>e.concat(n)):ie():[]}function kO(t){return dO[t]}function RO(t){return fO[t]}function $i(t){return{fieldPath:t.canonicalString()}}function Xi(t){return Ht.fromServerFormat(t.fieldPath)}function IO(t){return Mt.create(Xi(t.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return ie()}}(t.fieldFilter.op),t.fieldFilter.value)}function CO(t){switch(t.unaryFilter.op){case"IS_NAN":const e=Xi(t.unaryFilter.field);return Mt.create(e,"==",{doubleValue:NaN});case"IS_NULL":const n=Xi(t.unaryFilter.field);return Mt.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const r=Xi(t.unaryFilter.field);return Mt.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const i=Xi(t.unaryFilter.field);return Mt.create(i,"!=",{nullValue:"NULL_VALUE"});default:return ie()}}function NO(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function qE(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AO="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class xO{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class b{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&ie(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new b((r,i)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(r,i)},this.catchCallback=s=>{this.wrapFailure(n,s).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof b?n:b.resolve(n)}catch(n){return b.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):b.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):b.reject(n)}static resolve(e){return new b((n,r)=>{n(e)})}static reject(e){return new b((n,r)=>{r(e)})}static waitFor(e){return new b((n,r)=>{let i=0,s=0,o=!1;e.forEach(a=>{++i,a.next(()=>{++s,o&&s===i&&n()},l=>r(l))}),o=!0,s===i&&n()})}static or(e){let n=b.resolve(!1);for(const r of e)n=n.next(i=>i?b.resolve(i):r());return n}static forEach(e,n){const r=[];return e.forEach((i,s)=>{r.push(n.call(this,i,s))}),this.waitFor(r)}}function Fa(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DO{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const s=this.mutations[i];s.key.isEqual(e.key)&&tO(s,e,r[i])}}applyToLocalView(e){for(const n of this.baseMutations)n.key.isEqual(e.key)&&Cf(n,e,this.localWriteTime);for(const n of this.mutations)n.key.isEqual(e.key)&&Cf(n,e,this.localWriteTime)}applyToLocalDocumentSet(e){this.mutations.forEach(n=>{const r=e.get(n.key),i=r;this.applyToLocalView(i),r.isValidDocument()||i.convertToNoDocument(ce.min())})}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),Pe())}isEqual(e){return this.batchId===e.batchId&&Ts(this.mutations,e.mutations,(n,r)=>Fy(n,r))&&Ts(this.baseMutations,e.baseMutations,(n,r)=>Fy(n,r))}}class bm{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){Ae(e.mutations.length===r.length);let i=lO;const s=e.mutations;for(let o=0;o<s.length;o++)i=i.insert(s[o].key,r[o].version);return new bm(e,n,r,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LO{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oi{constructor(e,n,r,i,s=ce.min(),o=ce.min(),a=St.EMPTY_BYTE_STRING){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a}withSequenceNumber(e){return new oi(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)}withResumeToken(e,n){return new oi(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e)}withLastLimboFreeSnapshotVersion(e){return new oi(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bO{constructor(e){this.Jt=e}}function PO(t){const e=EO({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?q$(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MO{constructor(){this.qe=new $O}addToCollectionParentIndex(e,n){return this.qe.add(n),b.resolve()}getCollectionParents(e,n){return b.resolve(this.qe.getEntries(n))}addFieldIndex(e,n){return b.resolve()}deleteFieldIndex(e,n){return b.resolve()}getDocumentsMatchingTarget(e,n){return b.resolve(null)}getIndexType(e,n){return b.resolve(0)}getFieldIndexes(e,n){return b.resolve([])}getNextCollectionGroupToUpdate(e){return b.resolve(null)}getMinOffset(e,n){return b.resolve(_i.min())}updateCollectionGroup(e,n,r){return b.resolve()}updateIndexEntries(e,n){return b.resolve()}}class $O{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new yt(Le.comparator),s=!i.has(r);return this.index[n]=i.add(r),s}has(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new yt(Le.comparator)).toArray()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cs{constructor(e){this.mn=e}next(){return this.mn+=2,this.mn}static gn(){return new Cs(0)}static yn(){return new Cs(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ba(t){if(t.code!==C.FAILED_PRECONDITION||t.message!==AO)throw t;q("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OO{constructor(){this.changes=new Bs(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,It.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?b.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UO{constructor(e,n,r){this.ds=e,this.Bs=n,this.indexManager=r}Ls(e,n){return this.Bs.getAllMutationBatchesAffectingDocumentKey(e,n).next(r=>this.Us(e,n,r))}Us(e,n,r){return this.ds.getEntry(e,n).next(i=>{for(const s of r)s.applyToLocalView(i);return i})}qs(e,n){e.forEach((r,i)=>{for(const s of n)s.applyToLocalView(i)})}Ks(e,n){return this.ds.getEntries(e,n).next(r=>this.Gs(e,r).next(()=>r))}Gs(e,n){return this.Bs.getAllMutationBatchesAffectingDocumentKeys(e,n).next(r=>this.qs(n,r))}Qs(e,n,r){return function(i){return Q.isDocumentKey(i.path)&&i.collectionGroup===null&&i.filters.length===0}(n)?this.js(e,n.path):NE(n)?this.Ws(e,n,r):this.zs(e,n,r)}js(e,n){return this.Ls(e,new Q(n)).next(r=>{let i=Nf();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}Ws(e,n,r){const i=n.collectionGroup;let s=Nf();return this.indexManager.getCollectionParents(e,i).next(o=>b.forEach(o,a=>{const l=function(u,c){return new Ua(c,null,u.explicitOrderBy.slice(),u.filters.slice(),u.limit,u.limitType,u.startAt,u.endAt)}(n,a.child(i));return this.zs(e,l,r).next(u=>{u.forEach((c,h)=>{s=s.insert(c,h)})})}).next(()=>s))}zs(e,n,r){let i;return this.ds.getAllFromCollection(e,n.path,r).next(s=>(i=s,this.Bs.getAllMutationBatchesAffectingQuery(e,n))).next(s=>{for(const o of s)for(const a of o.mutations){const l=a.key;let u=i.get(l);u==null&&(u=It.newInvalidDocument(l),i=i.insert(l,u)),Cf(a,u,o.localWriteTime),u.isFoundDocument()||(i=i.remove(l))}}).next(()=>(i.forEach((s,o)=>{Dm(n,o)||(i=i.remove(s))}),i))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pm{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.Hs=r,this.Js=i}static Ys(e,n){let r=Pe(),i=Pe();for(const s of n.docChanges)switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}return new Pm(e,n.fromCache,r,i)}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VO{constructor(){this.Xs=!1}initialize(e,n){this.Zs=e,this.indexManager=n,this.Xs=!0}Qs(e,n,r,i){return this.ti(e,n).next(s=>s||this.ei(e,n,i,r)).next(s=>s||this.ni(e,n))}ti(e,n){return b.resolve(null)}ei(e,n,r,i){return K$(n)||i.isEqual(ce.min())?this.ni(e,n):this.Zs.Ks(e,r).next(s=>{const o=this.si(n,s);return this.ii(n,o,r,i)?this.ni(e,n):(Ny()<=Se.DEBUG&&q("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),If(n)),this.ri(e,o,n,L$(i,-1)))})}si(e,n){let r=new yt(xE(e));return n.forEach((i,s)=>{Dm(e,s)&&(r=r.add(s))}),r}ii(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const s=e.limitType==="F"?n.last():n.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(i)>0)}ni(e,n){return Ny()<=Se.DEBUG&&q("QueryEngine","Using full collection scan to execute query:",If(n)),this.Zs.Qs(e,n,_i.min())}ri(e,n,r,i){return this.Zs.Qs(e,r,i).next(s=>(n.forEach(o=>{s=s.insert(o.key,o)}),s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FO{constructor(e,n,r,i){this.persistence=e,this.oi=n,this.M=i,this.ui=new ht(_e),this.ai=new Bs(s=>Am(s),xm),this.ci=new Map,this.hi=e.getRemoteDocumentCache(),this.fs=e.getTargetCache(),this._s=e.getBundleCache(),this.li(r)}li(e){this.indexManager=this.persistence.getIndexManager(e),this.Bs=this.persistence.getMutationQueue(e,this.indexManager),this.fi=new UO(this.hi,this.Bs,this.indexManager),this.hi.setIndexManager(this.indexManager),this.oi.initialize(this.fi,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.ui))}}function BO(t,e,n,r){return new FO(t,e,n,r)}async function GE(t,e){const n=ae(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.Bs.getAllMutationBatches(r).next(s=>(i=s,n.li(e),n.Bs.getAllMutationBatches(r))).next(s=>{const o=[],a=[];let l=Pe();for(const u of i){o.push(u.batchId);for(const c of u.mutations)l=l.add(c.key)}for(const u of s){a.push(u.batchId);for(const c of u.mutations)l=l.add(c.key)}return n.fi.Ks(r,l).next(u=>({di:u,removedBatchIds:o,addedBatchIds:a}))})})}function zO(t,e){const n=ae(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),s=n.hi.newChangeBuffer({trackRemovals:!0});return function(o,a,l,u){const c=l.batch,h=c.keys();let d=b.resolve();return h.forEach(v=>{d=d.next(()=>u.getEntry(a,v)).next(p=>{const _=l.docVersions.get(v);Ae(_!==null),p.version.compareTo(_)<0&&(c.applyToRemoteDocument(p,l),p.isValidDocument()&&(p.setReadTime(l.commitVersion),u.addEntry(p)))})}),d.next(()=>o.Bs.removeMutationBatch(a,c))}(n,r,e,s).next(()=>s.apply(r)).next(()=>n.Bs.performConsistencyCheck(r)).next(()=>n.fi.Ks(r,i))})}function QE(t){const e=ae(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.fs.getLastRemoteSnapshotVersion(n))}function jO(t,e){const n=ae(t),r=e.snapshotVersion;let i=n.ui;return n.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{const o=n.hi.newChangeBuffer({trackRemovals:!0});i=n.ui;const a=[];e.targetChanges.forEach((u,c)=>{const h=i.get(c);if(!h)return;a.push(n.fs.removeMatchingKeys(s,u.removedDocuments,c).next(()=>n.fs.addMatchingKeys(s,u.addedDocuments,c)));let d=h.withSequenceNumber(s.currentSequenceNumber);e.targetMismatches.has(c)?d=d.withResumeToken(St.EMPTY_BYTE_STRING,ce.min()).withLastLimboFreeSnapshotVersion(ce.min()):u.resumeToken.approximateByteSize()>0&&(d=d.withResumeToken(u.resumeToken,r)),i=i.insert(c,d),function(v,p,_){return v.resumeToken.approximateByteSize()===0||p.snapshotVersion.toMicroseconds()-v.snapshotVersion.toMicroseconds()>=3e8?!0:_.addedDocuments.size+_.modifiedDocuments.size+_.removedDocuments.size>0}(h,d,u)&&a.push(n.fs.updateTargetData(s,d))});let l=Ti();if(e.documentUpdates.forEach(u=>{e.resolvedLimboDocuments.has(u)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(s,u))}),a.push(HO(s,o,e.documentUpdates).next(u=>{l=u})),!r.isEqual(ce.min())){const u=n.fs.getLastRemoteSnapshotVersion(s).next(c=>n.fs.setTargetsMetadata(s,s.currentSequenceNumber,r));a.push(u)}return b.waitFor(a).next(()=>o.apply(s)).next(()=>n.fi.Gs(s,l)).next(()=>l)}).then(s=>(n.ui=i,s))}function HO(t,e,n){let r=Pe();return n.forEach(i=>r=r.add(i)),e.getEntries(t,r).next(i=>{let s=Ti();return n.forEach((o,a)=>{const l=i.get(o);a.isNoDocument()&&a.version.isEqual(ce.min())?(e.removeEntry(o,a.readTime),s=s.insert(o,a)):!l.isValidDocument()||a.version.compareTo(l.version)>0||a.version.compareTo(l.version)===0&&l.hasPendingWrites?(e.addEntry(a),s=s.insert(o,a)):q("LocalStore","Ignoring outdated watch update for ",o,". Current version:",l.version," Watch version:",a.version)}),s})}function WO(t,e){const n=ae(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=-1),n.Bs.getNextMutationBatchAfterBatchId(r,e)))}function KO(t,e){const n=ae(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.fs.getTargetData(r,e).next(s=>s?(i=s,b.resolve(i)):n.fs.allocateTargetId(r).next(o=>(i=new oi(e,o,0,r.currentSequenceNumber),n.fs.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=n.ui.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.ui=n.ui.insert(r.targetId,r),n.ai.set(e,r.targetId)),r})}async function Lf(t,e,n){const r=ae(t),i=r.ui.get(e),s=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",s,o=>r.persistence.referenceDelegate.removeTarget(o,i))}catch(o){if(!Fa(o))throw o;q("LocalStore",`Failed to update sequence numbers for target ${e}: ${o}`)}r.ui=r.ui.remove(e),r.ai.delete(i.target)}function Gy(t,e,n){const r=ae(t);let i=ce.min(),s=Pe();return r.persistence.runTransaction("Execute query","readonly",o=>function(a,l,u){const c=ae(a),h=c.ai.get(u);return h!==void 0?b.resolve(c.ui.get(h)):c.fs.getTargetData(l,u)}(r,o,Ei(e)).next(a=>{if(a)return i=a.lastLimboFreeSnapshotVersion,r.fs.getMatchingKeysForTargetId(o,a.targetId).next(l=>{s=l})}).next(()=>r.oi.Qs(o,e,n?i:ce.min(),n?s:Pe())).next(a=>(qO(r,G$(e),a),{documents:a,_i:s})))}function qO(t,e,n){let r=ce.min();n.forEach((i,s)=>{s.readTime.compareTo(r)>0&&(r=s.readTime)}),t.ci.set(e,r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GO{constructor(e){this.M=e,this.yi=new Map,this.pi=new Map}getBundleMetadata(e,n){return b.resolve(this.yi.get(n))}saveBundleMetadata(e,n){var r;return this.yi.set(n.id,{id:(r=n).id,version:r.version,createTime:tr(r.createTime)}),b.resolve()}getNamedQuery(e,n){return b.resolve(this.pi.get(n))}saveNamedQuery(e,n){return this.pi.set(n.name,function(r){return{name:r.name,query:PO(r.bundledQuery),readTime:tr(r.readTime)}}(n)),b.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QO{constructor(){this.overlays=new ht(Q.comparator),this.Ii=new Map}getOverlay(e,n){return b.resolve(this.overlays.get(n))}saveOverlays(e,n,r){return r.forEach((i,s)=>{this.Xt(e,n,s)}),b.resolve()}removeOverlaysForBatchId(e,n,r){const i=this.Ii.get(r);return i!==void 0&&(i.forEach(s=>this.overlays=this.overlays.remove(s)),this.Ii.delete(r)),b.resolve()}getOverlaysForCollection(e,n,r){const i=Zh(),s=n.length+1,o=new Q(n.child("")),a=this.overlays.getIteratorFrom(o);for(;a.hasNext();){const l=a.getNext().value,u=l.getKey();if(!n.isPrefixOf(u.path))break;u.path.length===s&&l.largestBatchId>r&&i.set(l.getKey(),l)}return b.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let s=new ht((u,c)=>u-c);const o=this.overlays.getIterator();for(;o.hasNext();){const u=o.getNext().value;if(u.getKey().getCollectionGroup()===n&&u.largestBatchId>r){let c=s.get(u.largestBatchId);c===null&&(c=Zh(),s=s.insert(u.largestBatchId,c)),c.set(u.getKey(),u)}}const a=Zh(),l=s.getIterator();for(;l.hasNext()&&(l.getNext().value.forEach((u,c)=>a.set(u,c)),!(a.size()>=i)););return b.resolve(a)}Xt(e,n,r){if(r===null)return;const i=this.overlays.get(r.key);if(i!==null){const o=this.Ii.get(i.largestBatchId).delete(r.key);this.Ii.set(i.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new LO(n,r));let s=this.Ii.get(n);s===void 0&&(s=Pe(),this.Ii.set(n,s)),this.Ii.set(n,s.add(r.key))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mm{constructor(){this.Ti=new yt(at.Ei),this.Ai=new yt(at.Ri)}isEmpty(){return this.Ti.isEmpty()}addReference(e,n){const r=new at(e,n);this.Ti=this.Ti.add(r),this.Ai=this.Ai.add(r)}bi(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.Pi(new at(e,n))}Vi(e,n){e.forEach(r=>this.removeReference(r,n))}vi(e){const n=new Q(new Le([])),r=new at(n,e),i=new at(n,e+1),s=[];return this.Ai.forEachInRange([r,i],o=>{this.Pi(o),s.push(o.key)}),s}Si(){this.Ti.forEach(e=>this.Pi(e))}Pi(e){this.Ti=this.Ti.delete(e),this.Ai=this.Ai.delete(e)}Di(e){const n=new Q(new Le([])),r=new at(n,e),i=new at(n,e+1);let s=Pe();return this.Ai.forEachInRange([r,i],o=>{s=s.add(o.key)}),s}containsKey(e){const n=new at(e,0),r=this.Ti.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class at{constructor(e,n){this.key=e,this.Ci=n}static Ei(e,n){return Q.comparator(e.key,n.key)||_e(e.Ci,n.Ci)}static Ri(e,n){return _e(e.Ci,n.Ci)||Q.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YO{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.Bs=[],this.xi=1,this.Ni=new yt(at.Ei)}checkEmpty(e){return b.resolve(this.Bs.length===0)}addMutationBatch(e,n,r,i){const s=this.xi;this.xi++,this.Bs.length>0&&this.Bs[this.Bs.length-1];const o=new DO(s,n,r,i);this.Bs.push(o);for(const a of i)this.Ni=this.Ni.add(new at(a.key,s)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return b.resolve(o)}lookupMutationBatch(e,n){return b.resolve(this.ki(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,i=this.Mi(r),s=i<0?0:i;return b.resolve(this.Bs.length>s?this.Bs[s]:null)}getHighestUnacknowledgedBatchId(){return b.resolve(this.Bs.length===0?-1:this.xi-1)}getAllMutationBatches(e){return b.resolve(this.Bs.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new at(n,0),i=new at(n,Number.POSITIVE_INFINITY),s=[];return this.Ni.forEachInRange([r,i],o=>{const a=this.ki(o.Ci);s.push(a)}),b.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new yt(_e);return n.forEach(i=>{const s=new at(i,0),o=new at(i,Number.POSITIVE_INFINITY);this.Ni.forEachInRange([s,o],a=>{r=r.add(a.Ci)})}),b.resolve(this.Oi(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1;let s=r;Q.isDocumentKey(s)||(s=s.child(""));const o=new at(new Q(s),0);let a=new yt(_e);return this.Ni.forEachWhile(l=>{const u=l.key.path;return!!r.isPrefixOf(u)&&(u.length===i&&(a=a.add(l.Ci)),!0)},o),b.resolve(this.Oi(a))}Oi(e){const n=[];return e.forEach(r=>{const i=this.ki(r);i!==null&&n.push(i)}),n}removeMutationBatch(e,n){Ae(this.Fi(n.batchId,"removed")===0),this.Bs.shift();let r=this.Ni;return b.forEach(n.mutations,i=>{const s=new at(i.key,n.batchId);return r=r.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.Ni=r})}_n(e){}containsKey(e,n){const r=new at(n,0),i=this.Ni.firstAfterOrEqual(r);return b.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.Bs.length,b.resolve()}Fi(e,n){return this.Mi(e)}Mi(e){return this.Bs.length===0?0:e-this.Bs[0].batchId}ki(e){const n=this.Mi(e);return n<0||n>=this.Bs.length?null:this.Bs[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XO{constructor(e){this.$i=e,this.docs=new ht(Q.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,i=this.docs.get(r),s=i?i.size:0,o=this.$i(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:o}),this.size+=o-s,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return b.resolve(r?r.document.mutableCopy():It.newInvalidDocument(n))}getEntries(e,n){let r=Ti();return n.forEach(i=>{const s=this.docs.get(i);r=r.insert(i,s?s.document.mutableCopy():It.newInvalidDocument(i))}),b.resolve(r)}getAllFromCollection(e,n,r){let i=Ti();const s=new Q(n.child("")),o=this.docs.getIteratorFrom(s);for(;o.hasNext();){const{key:a,value:{document:l}}=o.getNext();if(!n.isPrefixOf(a.path))break;a.path.length>n.length+1||P$(b$(l),r)<=0||(i=i.insert(l.key,l.mutableCopy()))}return b.resolve(i)}getAllFromCollectionGroup(e,n,r,i){ie()}Bi(e,n){return b.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new JO(this)}getSize(e){return b.resolve(this.size)}}class JO extends OO{constructor(e){super(),this.Kn=e}applyChanges(e){const n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.Kn.addEntry(e,i)):this.Kn.removeEntry(r)}),b.waitFor(n)}getFromCache(e,n){return this.Kn.getEntry(e,n)}getAllFromCache(e,n){return this.Kn.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZO{constructor(e){this.persistence=e,this.Li=new Bs(n=>Am(n),xm),this.lastRemoteSnapshotVersion=ce.min(),this.highestTargetId=0,this.Ui=0,this.qi=new Mm,this.targetCount=0,this.Ki=Cs.gn()}forEachTarget(e,n){return this.Li.forEach((r,i)=>n(i)),b.resolve()}getLastRemoteSnapshotVersion(e){return b.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return b.resolve(this.Ui)}allocateTargetId(e){return this.highestTargetId=this.Ki.next(),b.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.Ui&&(this.Ui=n),b.resolve()}Tn(e){this.Li.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.Ki=new Cs(n),this.highestTargetId=n),e.sequenceNumber>this.Ui&&(this.Ui=e.sequenceNumber)}addTargetData(e,n){return this.Tn(n),this.targetCount+=1,b.resolve()}updateTargetData(e,n){return this.Tn(n),b.resolve()}removeTargetData(e,n){return this.Li.delete(n.target),this.qi.vi(n.targetId),this.targetCount-=1,b.resolve()}removeTargets(e,n,r){let i=0;const s=[];return this.Li.forEach((o,a)=>{a.sequenceNumber<=n&&r.get(a.targetId)===null&&(this.Li.delete(o),s.push(this.removeMatchingKeysForTargetId(e,a.targetId)),i++)}),b.waitFor(s).next(()=>i)}getTargetCount(e){return b.resolve(this.targetCount)}getTargetData(e,n){const r=this.Li.get(n)||null;return b.resolve(r)}addMatchingKeys(e,n,r){return this.qi.bi(n,r),b.resolve()}removeMatchingKeys(e,n,r){this.qi.Vi(n,r);const i=this.persistence.referenceDelegate,s=[];return i&&n.forEach(o=>{s.push(i.markPotentiallyOrphaned(e,o))}),b.waitFor(s)}removeMatchingKeysForTargetId(e,n){return this.qi.vi(n),b.resolve()}getMatchingKeysForTargetId(e,n){const r=this.qi.Di(n);return b.resolve(r)}containsKey(e,n){return b.resolve(this.qi.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class e2{constructor(e,n){this.Gi={},this.overlays={},this.es=new Cm(0),this.ns=!1,this.ns=!0,this.referenceDelegate=e(this),this.fs=new ZO(this),this.indexManager=new MO,this.ds=function(r){return new XO(r)}(r=>this.referenceDelegate.Qi(r)),this.M=new bO(n),this._s=new GO(this.M)}start(){return Promise.resolve()}shutdown(){return this.ns=!1,Promise.resolve()}get started(){return this.ns}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new QO,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.Gi[e.toKey()];return r||(r=new YO(n,this.referenceDelegate),this.Gi[e.toKey()]=r),r}getTargetCache(){return this.fs}getRemoteDocumentCache(){return this.ds}getBundleCache(){return this._s}runTransaction(e,n,r){q("MemoryPersistence","Starting transaction:",e);const i=new t2(this.es.next());return this.referenceDelegate.ji(),r(i).next(s=>this.referenceDelegate.Wi(i).next(()=>s)).toPromise().then(s=>(i.raiseOnCommittedEvent(),s))}zi(e,n){return b.or(Object.values(this.Gi).map(r=>()=>r.containsKey(e,n)))}}class t2 extends xO{constructor(e){super(),this.currentSequenceNumber=e}}class $m{constructor(e){this.persistence=e,this.Hi=new Mm,this.Ji=null}static Yi(e){return new $m(e)}get Xi(){if(this.Ji)return this.Ji;throw ie()}addReference(e,n,r){return this.Hi.addReference(r,n),this.Xi.delete(r.toString()),b.resolve()}removeReference(e,n,r){return this.Hi.removeReference(r,n),this.Xi.add(r.toString()),b.resolve()}markPotentiallyOrphaned(e,n){return this.Xi.add(n.toString()),b.resolve()}removeTarget(e,n){this.Hi.vi(n.targetId).forEach(i=>this.Xi.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(s=>this.Xi.add(s.toString()))}).next(()=>r.removeTargetData(e,n))}ji(){this.Ji=new Set}Wi(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return b.forEach(this.Xi,r=>{const i=Q.fromPath(r);return this.Zi(e,i).next(s=>{s||n.removeEntry(i,ce.min())})}).next(()=>(this.Ji=null,n.apply(e)))}updateLimboDocument(e,n){return this.Zi(e,n).next(r=>{r?this.Xi.delete(n.toString()):this.Xi.add(n.toString())})}Qi(e){return 0}Zi(e,n){return b.or([()=>b.resolve(this.Hi.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.zi(e,n)])}}class Qy{constructor(){this.activeTargetIds=FE()}nr(e){this.activeTargetIds=this.activeTargetIds.add(e)}sr(e){this.activeTargetIds=this.activeTargetIds.delete(e)}er(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class n2{constructor(){this.Ur=new Qy,this.qr={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e){return this.Ur.nr(e),this.qr[e]||"not-current"}updateQueryState(e,n,r){this.qr[e]=n}removeLocalQueryTarget(e){this.Ur.sr(e)}isLocalQueryTarget(e){return this.Ur.activeTargetIds.has(e)}clearQueryState(e){delete this.qr[e]}getAllActiveQueryTargets(){return this.Ur.activeTargetIds}isActiveQueryTarget(e){return this.Ur.activeTargetIds.has(e)}start(){return this.Ur=new Qy,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class r2{Kr(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yy{constructor(){this.Gr=()=>this.Qr(),this.jr=()=>this.Wr(),this.zr=[],this.Hr()}Kr(e){this.zr.push(e)}shutdown(){window.removeEventListener("online",this.Gr),window.removeEventListener("offline",this.jr)}Hr(){window.addEventListener("online",this.Gr),window.addEventListener("offline",this.jr)}Qr(){q("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.zr)e(0)}Wr(){q("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.zr)e(1)}static vt(){return typeof window!="undefined"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const i2={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class s2{constructor(e){this.Jr=e.Jr,this.Yr=e.Yr}Xr(e){this.Zr=e}eo(e){this.no=e}onMessage(e){this.so=e}close(){this.Yr()}send(e){this.Jr(e)}io(){this.Zr()}ro(e){this.no(e)}oo(e){this.so(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class o2 extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http";this.uo=n+"://"+e.host,this.ao="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}co(e,n,r,i,s){const o=this.ho(e,n);q("RestConnection","Sending: ",o,r);const a={};return this.lo(a,i,s),this.fo(e,o,a,r).then(l=>(q("RestConnection","Received: ",l),l),l=>{throw Ay("RestConnection",`${e} failed with error: `,l,"url: ",o,"request:",r),l})}_o(e,n,r,i,s){return this.co(e,n,r,i,s)}lo(e,n,r){e["X-Goog-Api-Client"]="gl-js/ fire/"+Vs,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((i,s)=>e[s]=i),r&&r.headers.forEach((i,s)=>e[s]=i)}ho(e,n){const r=i2[e];return`${this.uo}/v1/${n}:${r}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams}fo(e,n,r,i){return new Promise((s,o)=>{const a=new y$;a.listenOnce(m$.COMPLETE,()=>{try{switch(a.getLastErrorCode()){case Jh.NO_ERROR:const u=a.getResponseJson();q("Connection","XHR received:",JSON.stringify(u)),s(u);break;case Jh.TIMEOUT:q("Connection",'RPC "'+e+'" timed out'),o(new H(C.DEADLINE_EXCEEDED,"Request time out"));break;case Jh.HTTP_ERROR:const c=a.getStatus();if(q("Connection",'RPC "'+e+'" failed with status:',c,"response text:",a.getResponseText()),c>0){const h=a.getResponseJson().error;if(h&&h.status&&h.message){const d=function(v){const p=v.toLowerCase().replace(/_/g,"-");return Object.values(C).indexOf(p)>=0?p:C.UNKNOWN}(h.status);o(new H(d,h.message))}else o(new H(C.UNKNOWN,"Server responded with status "+a.getStatus()))}else o(new H(C.UNAVAILABLE,"Connection failed."));break;default:ie()}}finally{q("Connection",'RPC "'+e+'" completed.')}});const l=JSON.stringify(i);a.send(n,"POST",l,r,15)})}wo(e,n,r){const i=[this.uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],s=f$(),o=p$(),a={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(a.xmlHttpFactory=new v$({})),this.lo(a.initMessageHeaders,n,r),c1()||d1()||Yb()||f1()||Xb()||h1()||(a.httpHeadersOverwriteParam="$httpHeaders");const l=i.join("");q("Connection","Creating WebChannel: "+l,a);const u=s.createWebChannel(l,a);let c=!1,h=!1;const d=new s2({Jr:p=>{h?q("Connection","Not sending because WebChannel is closed:",p):(c||(q("Connection","Opening WebChannel transport."),u.open(),c=!0),q("Connection","WebChannel sending:",p),u.send(p))},Yr:()=>u.close()}),v=(p,_,L)=>{p.listen(_,m=>{try{L(m)}catch(f){setTimeout(()=>{throw f},0)}})};return v(u,Tl.EventType.OPEN,()=>{h||q("Connection","WebChannel transport opened.")}),v(u,Tl.EventType.CLOSE,()=>{h||(h=!0,q("Connection","WebChannel transport closed"),d.ro())}),v(u,Tl.EventType.ERROR,p=>{h||(h=!0,Ay("Connection","WebChannel transport errored:",p),d.ro(new H(C.UNAVAILABLE,"The operation could not be completed")))}),v(u,Tl.EventType.MESSAGE,p=>{var _;if(!h){const L=p.data[0];Ae(!!L);const m=L,f=m.error||((_=m[0])===null||_===void 0?void 0:_.error);if(f){q("Connection","WebChannel received error:",f);const g=f.status;let E=function(A){const T=Ge[A];if(T!==void 0)return VE(T)}(g),k=f.message;E===void 0&&(E=C.INTERNAL,k="Unknown error status: "+g+" with message "+f.message),h=!0,d.ro(new H(E,k)),u.close()}else q("Connection","WebChannel received:",L),d.oo(L)}}),v(o,g$.STAT_EVENT,p=>{p.stat===Iy.PROXY?q("Connection","Detected buffering proxy"):p.stat===Iy.NOPROXY&&q("Connection","Detected no buffering proxy")}),setTimeout(()=>{d.io()},0),d}}function td(){return typeof document!="undefined"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qc(t){return new pO(t,!0)}class YE{constructor(e,n,r=1e3,i=1.5,s=6e4){this.Yn=e,this.timerId=n,this.mo=r,this.yo=i,this.po=s,this.Io=0,this.To=null,this.Eo=Date.now(),this.reset()}reset(){this.Io=0}Ao(){this.Io=this.po}Ro(e){this.cancel();const n=Math.floor(this.Io+this.bo()),r=Math.max(0,Date.now()-this.Eo),i=Math.max(0,n-r);i>0&&q("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.Io} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.To=this.Yn.enqueueAfterDelay(this.timerId,i,()=>(this.Eo=Date.now(),e())),this.Io*=this.yo,this.Io<this.mo&&(this.Io=this.mo),this.Io>this.po&&(this.Io=this.po)}Po(){this.To!==null&&(this.To.skipDelay(),this.To=null)}cancel(){this.To!==null&&(this.To.cancel(),this.To=null)}bo(){return(Math.random()-.5)*this.Io}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XE{constructor(e,n,r,i,s,o,a,l){this.Yn=e,this.Vo=r,this.vo=i,this.So=s,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=a,this.listener=l,this.state=0,this.Do=0,this.Co=null,this.xo=null,this.stream=null,this.No=new YE(e,n)}ko(){return this.state===1||this.state===5||this.Mo()}Mo(){return this.state===2||this.state===3}start(){this.state!==4?this.auth():this.Oo()}async stop(){this.ko()&&await this.close(0)}Fo(){this.state=0,this.No.reset()}$o(){this.Mo()&&this.Co===null&&(this.Co=this.Yn.enqueueAfterDelay(this.Vo,6e4,()=>this.Bo()))}Lo(e){this.Uo(),this.stream.send(e)}async Bo(){if(this.Mo())return this.close(0)}Uo(){this.Co&&(this.Co.cancel(),this.Co=null)}qo(){this.xo&&(this.xo.cancel(),this.xo=null)}async close(e,n){this.Uo(),this.qo(),this.No.cancel(),this.Do++,e!==4?this.No.reset():n&&n.code===C.RESOURCE_EXHAUSTED?(Mr(n.toString()),Mr("Using maximum backoff delay to prevent overloading the backend."),this.No.Ao()):n&&n.code===C.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.Ko(),this.stream.close(),this.stream=null),this.state=e,await this.listener.eo(n)}Ko(){}auth(){this.state=1;const e=this.Go(this.Do),n=this.Do;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.Do===n&&this.Qo(r,i)},r=>{e(()=>{const i=new H(C.UNKNOWN,"Fetching auth token failed: "+r.message);return this.jo(i)})})}Qo(e,n){const r=this.Go(this.Do);this.stream=this.Wo(e,n),this.stream.Xr(()=>{r(()=>(this.state=2,this.xo=this.Yn.enqueueAfterDelay(this.vo,1e4,()=>(this.Mo()&&(this.state=3),Promise.resolve())),this.listener.Xr()))}),this.stream.eo(i=>{r(()=>this.jo(i))}),this.stream.onMessage(i=>{r(()=>this.onMessage(i))})}Oo(){this.state=5,this.No.Ro(async()=>{this.state=0,this.start()})}jo(e){return q("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}Go(e){return n=>{this.Yn.enqueueAndForget(()=>this.Do===e?n():(q("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class a2 extends XE{constructor(e,n,r,i,s,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,o),this.M=s}Wo(e,n){return this.So.wo("Listen",e,n)}onMessage(e){this.No.reset();const n=vO(this.M,e),r=function(i){if(!("targetChange"in i))return ce.min();const s=i.targetChange;return s.targetIds&&s.targetIds.length?ce.min():s.readTime?tr(s.readTime):ce.min()}(e);return this.listener.zo(n,r)}Ho(e){const n={};n.database=Df(this.M),n.addTarget=function(i,s){let o;const a=s.target;return o=Rf(a)?{documents:SO(i,a)}:{query:_O(i,a)},o.targetId=s.targetId,s.resumeToken.approximateByteSize()>0?o.resumeToken=jE(i,s.resumeToken):s.snapshotVersion.compareTo(ce.min())>0&&(o.readTime=Uu(i,s.snapshotVersion.toTimestamp())),o}(this.M,e);const r=TO(this.M,e);r&&(n.labels=r),this.Lo(n)}Jo(e){const n={};n.database=Df(this.M),n.removeTarget=e,this.Lo(n)}}class l2 extends XE{constructor(e,n,r,i,s,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,o),this.M=s,this.Yo=!1}get Xo(){return this.Yo}start(){this.Yo=!1,this.lastStreamToken=void 0,super.start()}Ko(){this.Yo&&this.Zo([])}Wo(e,n){return this.So.wo("Write",e,n)}onMessage(e){if(Ae(!!e.streamToken),this.lastStreamToken=e.streamToken,this.Yo){this.No.reset();const n=wO(e.writeResults,e.commitTime),r=tr(e.commitTime);return this.listener.tu(r,n)}return Ae(!e.writeResults||e.writeResults.length===0),this.Yo=!0,this.listener.eu()}nu(){const e={};e.database=Df(this.M),this.Lo(e)}Zo(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>yO(this.M,r))};this.Lo(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class u2 extends class{}{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.So=r,this.M=i,this.su=!1}iu(){if(this.su)throw new H(C.FAILED_PRECONDITION,"The client has already been terminated.")}co(e,n,r){return this.iu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,s])=>this.So.co(e,n,r,i,s)).catch(i=>{throw i.name==="FirebaseError"?(i.code===C.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new H(C.UNKNOWN,i.toString())})}_o(e,n,r){return this.iu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,s])=>this.So._o(e,n,r,i,s)).catch(i=>{throw i.name==="FirebaseError"?(i.code===C.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new H(C.UNKNOWN,i.toString())})}terminate(){this.su=!0}}class c2{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.ru=0,this.ou=null,this.uu=!0}au(){this.ru===0&&(this.cu("Unknown"),this.ou=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.ou=null,this.hu("Backend didn't respond within 10 seconds."),this.cu("Offline"),Promise.resolve())))}lu(e){this.state==="Online"?this.cu("Unknown"):(this.ru++,this.ru>=1&&(this.fu(),this.hu(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.cu("Offline")))}set(e){this.fu(),this.ru=0,e==="Online"&&(this.uu=!1),this.cu(e)}cu(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}hu(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.uu?(Mr(n),this.uu=!1):q("OnlineStateTracker",n)}fu(){this.ou!==null&&(this.ou.cancel(),this.ou=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class h2{constructor(e,n,r,i,s){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.du=[],this._u=new Map,this.wu=new Set,this.mu=[],this.gu=s,this.gu.Kr(o=>{r.enqueueAndForget(async()=>{Li(this)&&(q("RemoteStore","Restarting streams for network reachability change."),await async function(a){const l=ae(a);l.wu.add(4),await za(l),l.yu.set("Unknown"),l.wu.delete(4),await Gc(l)}(this))})}),this.yu=new c2(r,i)}}async function Gc(t){if(Li(t))for(const e of t.mu)await e(!0)}async function za(t){for(const e of t.mu)await e(!1)}function JE(t,e){const n=ae(t);n._u.has(e.targetId)||(n._u.set(e.targetId,e),Vm(n)?Um(n):zs(n).Mo()&&Om(n,e))}function ZE(t,e){const n=ae(t),r=zs(n);n._u.delete(e),r.Mo()&&eT(n,e),n._u.size===0&&(r.Mo()?r.$o():Li(n)&&n.yu.set("Unknown"))}function Om(t,e){t.pu.Z(e.targetId),zs(t).Ho(e)}function eT(t,e){t.pu.Z(e),zs(t).Jo(e)}function Um(t){t.pu=new hO({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),Et:e=>t._u.get(e)||null}),zs(t).start(),t.yu.au()}function Vm(t){return Li(t)&&!zs(t).ko()&&t._u.size>0}function Li(t){return ae(t).wu.size===0}function tT(t){t.pu=void 0}async function d2(t){t._u.forEach((e,n)=>{Om(t,e)})}async function f2(t,e){tT(t),Vm(t)?(t.yu.lu(e),Um(t)):t.yu.set("Unknown")}async function p2(t,e,n){if(t.yu.set("Online"),e instanceof zE&&e.state===2&&e.cause)try{await async function(r,i){const s=i.cause;for(const o of i.targetIds)r._u.has(o)&&(await r.remoteSyncer.rejectListen(o,s),r._u.delete(o),r.pu.removeTarget(o))}(t,e)}catch(r){q("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),await Vu(t,r)}else if(e instanceof Fl?t.pu.ut(e):e instanceof BE?t.pu._t(e):t.pu.ht(e),!n.isEqual(ce.min()))try{const r=await QE(t.localStore);n.compareTo(r)>=0&&await function(i,s){const o=i.pu.yt(s);return o.targetChanges.forEach((a,l)=>{if(a.resumeToken.approximateByteSize()>0){const u=i._u.get(l);u&&i._u.set(l,u.withResumeToken(a.resumeToken,s))}}),o.targetMismatches.forEach(a=>{const l=i._u.get(a);if(!l)return;i._u.set(a,l.withResumeToken(St.EMPTY_BYTE_STRING,l.snapshotVersion)),eT(i,a);const u=new oi(l.target,a,1,l.sequenceNumber);Om(i,u)}),i.remoteSyncer.applyRemoteEvent(o)}(t,n)}catch(r){q("RemoteStore","Failed to raise snapshot:",r),await Vu(t,r)}}async function Vu(t,e,n){if(!Fa(e))throw e;t.wu.add(1),await za(t),t.yu.set("Offline"),n||(n=()=>QE(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{q("RemoteStore","Retrying IndexedDB access"),await n(),t.wu.delete(1),await Gc(t)})}function nT(t,e){return e().catch(n=>Vu(t,n,e))}async function Qc(t){const e=ae(t),n=Or(e);let r=e.du.length>0?e.du[e.du.length-1].batchId:-1;for(;m2(e);)try{const i=await WO(e.localStore,r);if(i===null){e.du.length===0&&n.$o();break}r=i.batchId,g2(e,i)}catch(i){await Vu(e,i)}rT(e)&&iT(e)}function m2(t){return Li(t)&&t.du.length<10}function g2(t,e){t.du.push(e);const n=Or(t);n.Mo()&&n.Xo&&n.Zo(e.mutations)}function rT(t){return Li(t)&&!Or(t).ko()&&t.du.length>0}function iT(t){Or(t).start()}async function v2(t){Or(t).nu()}async function y2(t){const e=Or(t);for(const n of t.du)e.Zo(n.mutations)}async function w2(t,e,n){const r=t.du.shift(),i=bm.from(r,e,n);await nT(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),await Qc(t)}async function S2(t,e){e&&Or(t).Xo&&await async function(n,r){if(i=r.code,sO(i)&&i!==C.ABORTED){const s=n.du.shift();Or(n).Fo(),await nT(n,()=>n.remoteSyncer.rejectFailedWrite(s.batchId,r)),await Qc(n)}var i}(t,e),rT(t)&&iT(t)}async function Xy(t,e){const n=ae(t);n.asyncQueue.verifyOperationInProgress(),q("RemoteStore","RemoteStore received new credentials");const r=Li(n);n.wu.add(3),await za(n),r&&n.yu.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.wu.delete(3),await Gc(n)}async function _2(t,e){const n=ae(t);e?(n.wu.delete(2),await Gc(n)):e||(n.wu.add(2),await za(n),n.yu.set("Unknown"))}function zs(t){return t.Iu||(t.Iu=function(e,n,r){const i=ae(e);return i.iu(),new a2(n,i.So,i.authCredentials,i.appCheckCredentials,i.M,r)}(t.datastore,t.asyncQueue,{Xr:d2.bind(null,t),eo:f2.bind(null,t),zo:p2.bind(null,t)}),t.mu.push(async e=>{e?(t.Iu.Fo(),Vm(t)?Um(t):t.yu.set("Unknown")):(await t.Iu.stop(),tT(t))})),t.Iu}function Or(t){return t.Tu||(t.Tu=function(e,n,r){const i=ae(e);return i.iu(),new l2(n,i.So,i.authCredentials,i.appCheckCredentials,i.M,r)}(t.datastore,t.asyncQueue,{Xr:v2.bind(null,t),eo:S2.bind(null,t),eu:y2.bind(null,t),tu:w2.bind(null,t)}),t.mu.push(async e=>{e?(t.Tu.Fo(),await Qc(t)):(await t.Tu.stop(),t.du.length>0&&(q("RemoteStore",`Stopping write stream with ${t.du.length} pending writes`),t.du=[]))})),t.Tu}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fm{constructor(e,n,r,i,s){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=s,this.deferred=new er,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}static createAndSchedule(e,n,r,i,s){const o=Date.now()+r,a=new Fm(e,n,o,i,s);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new H(C.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Bm(t,e){if(Mr("AsyncQueue",`${e}: ${t}`),Fa(t))return new H(C.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class as{constructor(e){this.comparator=e?(n,r)=>e(n,r)||Q.comparator(n.key,r.key):(n,r)=>Q.comparator(n.key,r.key),this.keyedMap=Nf(),this.sortedSet=new ht(this.comparator)}static emptySet(e){return new as(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof as)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(!i.isEqual(s))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new as;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jy{constructor(){this.Eu=new ht(Q.comparator)}track(e){const n=e.doc.key,r=this.Eu.get(n);r?e.type!==0&&r.type===3?this.Eu=this.Eu.insert(n,e):e.type===3&&r.type!==1?this.Eu=this.Eu.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.Eu=this.Eu.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.Eu=this.Eu.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.Eu=this.Eu.remove(n):e.type===1&&r.type===2?this.Eu=this.Eu.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.Eu=this.Eu.insert(n,{type:2,doc:e.doc}):ie():this.Eu=this.Eu.insert(n,e)}Au(){const e=[];return this.Eu.inorderTraversal((n,r)=>{e.push(r)}),e}}class Ns{constructor(e,n,r,i,s,o,a,l){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=s,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=l}static fromInitialDocuments(e,n,r,i){const s=[];return n.forEach(o=>{s.push({type:0,doc:o})}),new Ns(e,n,as.emptySet(n),s,r,i,!0,!1)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&zc(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class E2{constructor(){this.Ru=void 0,this.listeners=[]}}class T2{constructor(){this.queries=new Bs(e=>AE(e),zc),this.onlineState="Unknown",this.bu=new Set}}async function zm(t,e){const n=ae(t),r=e.query;let i=!1,s=n.queries.get(r);if(s||(i=!0,s=new E2),i)try{s.Ru=await n.onListen(r)}catch(o){const a=Bm(o,`Initialization of query '${If(e.query)}' failed`);return void e.onError(a)}n.queries.set(r,s),s.listeners.push(e),e.Pu(n.onlineState),s.Ru&&e.Vu(s.Ru)&&Hm(n)}async function jm(t,e){const n=ae(t),r=e.query;let i=!1;const s=n.queries.get(r);if(s){const o=s.listeners.indexOf(e);o>=0&&(s.listeners.splice(o,1),i=s.listeners.length===0)}if(i)return n.queries.delete(r),n.onUnlisten(r)}function k2(t,e){const n=ae(t);let r=!1;for(const i of e){const s=i.query,o=n.queries.get(s);if(o){for(const a of o.listeners)a.Vu(i)&&(r=!0);o.Ru=i}}r&&Hm(n)}function R2(t,e,n){const r=ae(t),i=r.queries.get(e);if(i)for(const s of i.listeners)s.onError(n);r.queries.delete(e)}function Hm(t){t.bu.forEach(e=>{e.next()})}class Wm{constructor(e,n,r){this.query=e,this.vu=n,this.Su=!1,this.Du=null,this.onlineState="Unknown",this.options=r||{}}Vu(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)i.type!==3&&r.push(i);e=new Ns(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0)}let n=!1;return this.Su?this.Cu(e)&&(this.vu.next(e),n=!0):this.xu(e,this.onlineState)&&(this.Nu(e),n=!0),this.Du=e,n}onError(e){this.vu.error(e)}Pu(e){this.onlineState=e;let n=!1;return this.Du&&!this.Su&&this.xu(this.Du,e)&&(this.Nu(this.Du),n=!0),n}xu(e,n){if(!e.fromCache)return!0;const r=n!=="Offline";return(!this.options.ku||!r)&&(!e.docs.isEmpty()||n==="Offline")}Cu(e){if(e.docChanges.length>0)return!0;const n=this.Du&&this.Du.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}Nu(e){e=Ns.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache),this.Su=!0,this.vu.next(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sT{constructor(e){this.key=e}}class oT{constructor(e){this.key=e}}class I2{constructor(e,n){this.query=e,this.Uu=n,this.qu=null,this.current=!1,this.Ku=Pe(),this.mutatedKeys=Pe(),this.Gu=xE(e),this.Qu=new as(this.Gu)}get ju(){return this.Uu}Wu(e,n){const r=n?n.zu:new Jy,i=n?n.Qu:this.Qu;let s=n?n.mutatedKeys:this.mutatedKeys,o=i,a=!1;const l=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,u=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((c,h)=>{const d=i.get(c),v=Dm(this.query,h)?h:null,p=!!d&&this.mutatedKeys.has(d.key),_=!!v&&(v.hasLocalMutations||this.mutatedKeys.has(v.key)&&v.hasCommittedMutations);let L=!1;d&&v?d.data.isEqual(v.data)?p!==_&&(r.track({type:3,doc:v}),L=!0):this.Hu(d,v)||(r.track({type:2,doc:v}),L=!0,(l&&this.Gu(v,l)>0||u&&this.Gu(v,u)<0)&&(a=!0)):!d&&v?(r.track({type:0,doc:v}),L=!0):d&&!v&&(r.track({type:1,doc:d}),L=!0,(l||u)&&(a=!0)),L&&(v?(o=o.add(v),s=_?s.add(c):s.delete(c)):(o=o.delete(c),s=s.delete(c)))}),this.query.limit!==null)for(;o.size>this.query.limit;){const c=this.query.limitType==="F"?o.last():o.first();o=o.delete(c.key),s=s.delete(c.key),r.track({type:1,doc:c})}return{Qu:o,zu:r,ii:a,mutatedKeys:s}}Hu(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r){const i=this.Qu;this.Qu=e.Qu,this.mutatedKeys=e.mutatedKeys;const s=e.zu.Au();s.sort((u,c)=>function(h,d){const v=p=>{switch(p){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return ie()}};return v(h)-v(d)}(u.type,c.type)||this.Gu(u.doc,c.doc)),this.Ju(r);const o=n?this.Yu():[],a=this.Ku.size===0&&this.current?1:0,l=a!==this.qu;return this.qu=a,s.length!==0||l?{snapshot:new Ns(this.query,e.Qu,i,s,e.mutatedKeys,a===0,l,!1),Xu:o}:{Xu:o}}Pu(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Qu:this.Qu,zu:new Jy,mutatedKeys:this.mutatedKeys,ii:!1},!1)):{Xu:[]}}Zu(e){return!this.Uu.has(e)&&!!this.Qu.has(e)&&!this.Qu.get(e).hasLocalMutations}Ju(e){e&&(e.addedDocuments.forEach(n=>this.Uu=this.Uu.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Uu=this.Uu.delete(n)),this.current=e.current)}Yu(){if(!this.current)return[];const e=this.Ku;this.Ku=Pe(),this.Qu.forEach(r=>{this.Zu(r.key)&&(this.Ku=this.Ku.add(r.key))});const n=[];return e.forEach(r=>{this.Ku.has(r)||n.push(new oT(r))}),this.Ku.forEach(r=>{e.has(r)||n.push(new sT(r))}),n}ta(e){this.Uu=e._i,this.Ku=Pe();const n=this.Wu(e.documents);return this.applyChanges(n,!0)}ea(){return Ns.fromInitialDocuments(this.query,this.Qu,this.mutatedKeys,this.qu===0)}}class C2{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class N2{constructor(e){this.key=e,this.na=!1}}class A2{constructor(e,n,r,i,s,o){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=s,this.maxConcurrentLimboResolutions=o,this.sa={},this.ia=new Bs(a=>AE(a),zc),this.ra=new Map,this.oa=new Set,this.ua=new ht(Q.comparator),this.aa=new Map,this.ca=new Mm,this.ha={},this.la=new Map,this.fa=Cs.yn(),this.onlineState="Unknown",this.da=void 0}get isPrimaryClient(){return this.da===!0}}async function x2(t,e){const n=F2(t);let r,i;const s=n.ia.get(e);if(s)r=s.targetId,n.sharedClientState.addLocalQueryTarget(r),i=s.view.ea();else{const o=await KO(n.localStore,Ei(e));n.isPrimaryClient&&JE(n.remoteStore,o);const a=n.sharedClientState.addLocalQueryTarget(o.targetId);r=o.targetId,i=await D2(n,e,r,a==="current")}return i}async function D2(t,e,n,r){t._a=(c,h,d)=>async function(v,p,_,L){let m=p.view.Wu(_);m.ii&&(m=await Gy(v.localStore,p.query,!1).then(({documents:E})=>p.view.Wu(E,m)));const f=L&&L.targetChanges.get(p.targetId),g=p.view.applyChanges(m,v.isPrimaryClient,f);return e0(v,p.targetId,g.Xu),g.snapshot}(t,c,h,d);const i=await Gy(t.localStore,e,!0),s=new I2(e,i._i),o=s.Wu(i.documents),a=Va.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline"),l=s.applyChanges(o,t.isPrimaryClient,a);e0(t,n,l.Xu);const u=new C2(e,n,s);return t.ia.set(e,u),t.ra.has(n)?t.ra.get(n).push(e):t.ra.set(n,[e]),l.snapshot}async function L2(t,e){const n=ae(t),r=n.ia.get(e),i=n.ra.get(r.targetId);if(i.length>1)return n.ra.set(r.targetId,i.filter(s=>!zc(s,e))),void n.ia.delete(e);n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(r.targetId),n.sharedClientState.isActiveQueryTarget(r.targetId)||await Lf(n.localStore,r.targetId,!1).then(()=>{n.sharedClientState.clearQueryState(r.targetId),ZE(n.remoteStore,r.targetId),bf(n,r.targetId)}).catch(Ba)):(bf(n,r.targetId),await Lf(n.localStore,r.targetId,!0))}async function b2(t,e,n){const r=B2(t);try{const i=await function(s,o){const a=ae(s),l=it.now(),u=o.reduce((h,d)=>h.add(d.key),Pe());let c;return a.persistence.runTransaction("Locally write mutations","readwrite",h=>a.fi.Ks(h,u).next(d=>{c=d;const v=[];for(const p of o){const _=nO(p,c.get(p.key));_!=null&&v.push(new Fs(p.key,_,kE(_.value.mapValue),xr.exists(!0)))}return a.Bs.addMutationBatch(h,l,v,o)})).then(h=>(h.applyToLocalDocumentSet(c),{batchId:h.batchId,changes:c}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(s,o,a){let l=s.ha[s.currentUser.toKey()];l||(l=new ht(_e)),l=l.insert(o,a),s.ha[s.currentUser.toKey()]=l}(r,i.batchId,n),await ja(r,i.changes),await Qc(r.remoteStore)}catch(i){const s=Bm(i,"Failed to persist write");n.reject(s)}}async function aT(t,e){const n=ae(t);try{const r=await jO(n.localStore,e);e.targetChanges.forEach((i,s)=>{const o=n.aa.get(s);o&&(Ae(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?o.na=!0:i.modifiedDocuments.size>0?Ae(o.na):i.removedDocuments.size>0&&(Ae(o.na),o.na=!1))}),await ja(n,r,e)}catch(r){await Ba(r)}}function Zy(t,e,n){const r=ae(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const i=[];r.ia.forEach((s,o)=>{const a=o.view.Pu(e);a.snapshot&&i.push(a.snapshot)}),function(s,o){const a=ae(s);a.onlineState=o;let l=!1;a.queries.forEach((u,c)=>{for(const h of c.listeners)h.Pu(o)&&(l=!0)}),l&&Hm(a)}(r.eventManager,e),i.length&&r.sa.zo(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function P2(t,e,n){const r=ae(t);r.sharedClientState.updateQueryState(e,"rejected",n);const i=r.aa.get(e),s=i&&i.key;if(s){let o=new ht(Q.comparator);o=o.insert(s,It.newNoDocument(s,ce.min()));const a=Pe().add(s),l=new Kc(ce.min(),new Map,new yt(_e),o,a);await aT(r,l),r.ua=r.ua.remove(s),r.aa.delete(e),Km(r)}else await Lf(r.localStore,e,!1).then(()=>bf(r,e,n)).catch(Ba)}async function M2(t,e){const n=ae(t),r=e.batch.batchId;try{const i=await zO(n.localStore,e);uT(n,r,null),lT(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await ja(n,i)}catch(i){await Ba(i)}}async function $2(t,e,n){const r=ae(t);try{const i=await function(s,o){const a=ae(s);return a.persistence.runTransaction("Reject batch","readwrite-primary",l=>{let u;return a.Bs.lookupMutationBatch(l,o).next(c=>(Ae(c!==null),u=c.keys(),a.Bs.removeMutationBatch(l,c))).next(()=>a.Bs.performConsistencyCheck(l)).next(()=>a.fi.Ks(l,u))})}(r.localStore,e);uT(r,e,n),lT(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await ja(r,i)}catch(i){await Ba(i)}}function lT(t,e){(t.la.get(e)||[]).forEach(n=>{n.resolve()}),t.la.delete(e)}function uT(t,e,n){const r=ae(t);let i=r.ha[r.currentUser.toKey()];if(i){const s=i.get(e);s&&(n?s.reject(n):s.resolve(),i=i.remove(e)),r.ha[r.currentUser.toKey()]=i}}function bf(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.ra.get(e))t.ia.delete(r),n&&t.sa.wa(r,n);t.ra.delete(e),t.isPrimaryClient&&t.ca.vi(e).forEach(r=>{t.ca.containsKey(r)||cT(t,r)})}function cT(t,e){t.oa.delete(e.path.canonicalString());const n=t.ua.get(e);n!==null&&(ZE(t.remoteStore,n),t.ua=t.ua.remove(e),t.aa.delete(n),Km(t))}function e0(t,e,n){for(const r of n)r instanceof sT?(t.ca.addReference(r.key,e),O2(t,r)):r instanceof oT?(q("SyncEngine","Document no longer in limbo: "+r.key),t.ca.removeReference(r.key,e),t.ca.containsKey(r.key)||cT(t,r.key)):ie()}function O2(t,e){const n=e.key,r=n.path.canonicalString();t.ua.get(n)||t.oa.has(r)||(q("SyncEngine","New document in limbo: "+n),t.oa.add(r),Km(t))}function Km(t){for(;t.oa.size>0&&t.ua.size<t.maxConcurrentLimboResolutions;){const e=t.oa.values().next().value;t.oa.delete(e);const n=new Q(Le.fromString(e)),r=t.fa.next();t.aa.set(r,new N2(n)),t.ua=t.ua.insert(n,r),JE(t.remoteStore,new oi(Ei(Bc(n.path)),r,2,Cm.A))}}async function ja(t,e,n){const r=ae(t),i=[],s=[],o=[];r.ia.isEmpty()||(r.ia.forEach((a,l)=>{o.push(r._a(l,e,n).then(u=>{if(u){r.isPrimaryClient&&r.sharedClientState.updateQueryState(l.targetId,u.fromCache?"not-current":"current"),i.push(u);const c=Pm.Ys(l.targetId,u);s.push(c)}}))}),await Promise.all(o),r.sa.zo(i),await async function(a,l){const u=ae(a);try{await u.persistence.runTransaction("notifyLocalViewChanges","readwrite",c=>b.forEach(l,h=>b.forEach(h.Hs,d=>u.persistence.referenceDelegate.addReference(c,h.targetId,d)).next(()=>b.forEach(h.Js,d=>u.persistence.referenceDelegate.removeReference(c,h.targetId,d)))))}catch(c){if(!Fa(c))throw c;q("LocalStore","Failed to update sequence numbers: "+c)}for(const c of l){const h=c.targetId;if(!c.fromCache){const d=u.ui.get(h),v=d.snapshotVersion,p=d.withLastLimboFreeSnapshotVersion(v);u.ui=u.ui.insert(h,p)}}}(r.localStore,s))}async function U2(t,e){const n=ae(t);if(!n.currentUser.isEqual(e)){q("SyncEngine","User change. New user:",e.toKey());const r=await GE(n.localStore,e);n.currentUser=e,function(i,s){i.la.forEach(o=>{o.forEach(a=>{a.reject(new H(C.CANCELLED,s))})}),i.la.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await ja(n,r.di)}}function V2(t,e){const n=ae(t),r=n.aa.get(e);if(r&&r.na)return Pe().add(r.key);{let i=Pe();const s=n.ra.get(e);if(!s)return i;for(const o of s){const a=n.ia.get(o);i=i.unionWith(a.view.ju)}return i}}function F2(t){const e=ae(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=aT.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=V2.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=P2.bind(null,e),e.sa.zo=k2.bind(null,e.eventManager),e.sa.wa=R2.bind(null,e.eventManager),e}function B2(t){const e=ae(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=M2.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=$2.bind(null,e),e}class z2{constructor(){this.synchronizeTabs=!1}async initialize(e){this.M=qc(e.databaseInfo.databaseId),this.sharedClientState=this.ga(e),this.persistence=this.ya(e),await this.persistence.start(),this.gcScheduler=this.pa(e),this.localStore=this.Ia(e)}pa(e){return null}Ia(e){return BO(this.persistence,new VO,e.initialUser,this.M)}ya(e){return new e2($m.Yi,this.M)}ga(e){return new n2}async terminate(){this.gcScheduler&&this.gcScheduler.stop(),await this.sharedClientState.shutdown(),await this.persistence.shutdown()}}class j2{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>Zy(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=U2.bind(null,this.syncEngine),await _2(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return new T2}createDatastore(e){const n=qc(e.databaseInfo.databaseId),r=(i=e.databaseInfo,new o2(i));var i;return function(s,o,a,l){return new u2(s,o,a,l)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return n=this.localStore,r=this.datastore,i=e.asyncQueue,s=a=>Zy(this.syncEngine,a,0),o=Yy.vt()?new Yy:new r2,new h2(n,r,i,s,o);var n,r,i,s,o}createSyncEngine(e,n){return function(r,i,s,o,a,l,u){const c=new A2(r,i,s,o,a,l);return u&&(c.da=!0),c}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}terminate(){return async function(e){const n=ae(e);q("RemoteStore","RemoteStore shutting down."),n.wu.add(5),await za(n),n.gu.shutdown(),n.yu.set("Unknown")}(this.remoteStore)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qm{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Ea(this.observer.next,e)}error(e){this.observer.error?this.Ea(this.observer.error,e):console.error("Uncaught Error in snapshot listener:",e)}Aa(){this.muted=!0}Ea(e,n){this.muted||setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class H2{constructor(e,n,r,i){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=Bt.UNAUTHENTICATED,this.clientId=SE.R(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,async s=>{q("FirestoreClient","Received user=",s.uid),await this.authCredentialListener(s),this.user=s}),this.appCheckCredentials.start(r,s=>(q("FirestoreClient","Received new app check token=",s),this.appCheckCredentialListener(s,this.user)))}async getConfiguration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new H(C.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){this.asyncQueue.enterRestrictedMode();const e=new er;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this.onlineComponents&&await this.onlineComponents.terminate(),this.offlineComponents&&await this.offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=Bm(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function W2(t,e){t.asyncQueue.verifyOperationInProgress(),q("FirestoreClient","Initializing OfflineComponentProvider");const n=await t.getConfiguration();await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async i=>{r.isEqual(i)||(await GE(e.localStore,i),r=i)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t.offlineComponents=e}async function K2(t,e){t.asyncQueue.verifyOperationInProgress();const n=await q2(t);q("FirestoreClient","Initializing OnlineComponentProvider");const r=await t.getConfiguration();await e.initialize(n,r),t.setCredentialChangeListener(i=>Xy(e.remoteStore,i)),t.setAppCheckTokenChangeListener((i,s)=>Xy(e.remoteStore,s)),t.onlineComponents=e}async function q2(t){return t.offlineComponents||(q("FirestoreClient","Using default OfflineComponentProvider"),await W2(t,new z2)),t.offlineComponents}async function hT(t){return t.onlineComponents||(q("FirestoreClient","Using default OnlineComponentProvider"),await K2(t,new j2)),t.onlineComponents}function G2(t){return hT(t).then(e=>e.syncEngine)}async function Fu(t){const e=await hT(t),n=e.eventManager;return n.onListen=x2.bind(null,e.syncEngine),n.onUnlisten=L2.bind(null,e.syncEngine),n}function Q2(t,e,n={}){const r=new er;return t.asyncQueue.enqueueAndForget(async()=>function(i,s,o,a,l){const u=new qm({next:h=>{s.enqueueAndForget(()=>jm(i,c));const d=h.docs.has(o);!d&&h.fromCache?l.reject(new H(C.UNAVAILABLE,"Failed to get document because the client is offline.")):d&&h.fromCache&&a&&a.source==="server"?l.reject(new H(C.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):l.resolve(h)},error:h=>l.reject(h)}),c=new Wm(Bc(o.path),u,{includeMetadataChanges:!0,ku:!0});return zm(i,c)}(await Fu(t),t.asyncQueue,e,n,r)),r.promise}function Y2(t,e,n={}){const r=new er;return t.asyncQueue.enqueueAndForget(async()=>function(i,s,o,a,l){const u=new qm({next:h=>{s.enqueueAndForget(()=>jm(i,c)),h.fromCache&&a.source==="server"?l.reject(new H(C.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):l.resolve(h)},error:h=>l.reject(h)}),c=new Wm(o,u,{includeMetadataChanges:!0,ku:!0});return zm(i,c)}(await Fu(t),t.asyncQueue,e,n,r)),r.promise}const t0=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dT(t,e,n){if(!n)throw new H(C.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function X2(t,e,n,r){if(e===!0&&r===!0)throw new H(C.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function n0(t){if(!Q.isDocumentKey(t))throw new H(C.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function r0(t){if(Q.isDocumentKey(t))throw new H(C.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function Yc(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(n){return n.constructor?n.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":ie()}function gn(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new H(C.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Yc(t);throw new H(C.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class i0{constructor(e){var n;if(e.host===void 0){if(e.ssl!==void 0)throw new H(C.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new H(C.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.useFetchStreams=!!e.useFetchStreams,X2("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling)}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gm{constructor(e,n,r){this._authCredentials=n,this._appCheckCredentials=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new i0({}),this._settingsFrozen=!1,e instanceof Rs?this._databaseId=e:(this._app=e,this._databaseId=function(i){if(!Object.prototype.hasOwnProperty.apply(i.options,["projectId"]))throw new H(C.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Rs(i.options.projectId)}(e))}get app(){if(!this._app)throw new H(C.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!==void 0}_setSettings(e){if(this._settingsFrozen)throw new H(C.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new i0(e),e.credentials!==void 0&&(this._authCredentials=function(n){if(!n)return new S$;switch(n.type){case"gapi":const r=n.client;return Ae(!(typeof r!="object"||r===null||!r.auth||!r.auth.getAuthHeaderValueForFirstParty)),new T$(r,n.sessionIndex||"0",n.iamToken||null);case"provider":return n.client;default:throw new H(C.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const n=t0.get(e);n&&(q("ComponentProvider","Removing Datastore"),t0.delete(e),n.terminate())}(this),Promise.resolve()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nt{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Dr(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Nt(this.firestore,e,this._key)}}class js{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new js(this.firestore,e,this._query)}}class Dr extends js{constructor(e,n,r){super(e,n,Bc(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Nt(this.firestore,null,new Q(e))}withConverter(e){return new Dr(this.firestore,e,this._path)}}function Ji(t,e,...n){if(t=Ot(t),dT("collection","path",e),t instanceof Gm){const r=Le.fromString(e,...n);return r0(r),new Dr(t,null,r)}{if(!(t instanceof Nt||t instanceof Dr))throw new H(C.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Le.fromString(e,...n));return r0(r),new Dr(t.firestore,null,r)}}function en(t,e,...n){if(t=Ot(t),arguments.length===1&&(e=SE.R()),dT("doc","path",e),t instanceof Gm){const r=Le.fromString(e,...n);return n0(r),new Nt(t,null,new Q(r))}{if(!(t instanceof Nt||t instanceof Dr))throw new H(C.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Le.fromString(e,...n));return n0(r),new Nt(t.firestore,t instanceof Dr?t.converter:null,new Q(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J2{constructor(){this.Fa=Promise.resolve(),this.$a=[],this.Ba=!1,this.La=[],this.Ua=null,this.qa=!1,this.Ka=!1,this.Ga=[],this.No=new YE(this,"async_queue_retry"),this.Qa=()=>{const n=td();n&&q("AsyncQueue","Visibility state changed to "+n.visibilityState),this.No.Po()};const e=td();e&&typeof e.addEventListener=="function"&&e.addEventListener("visibilitychange",this.Qa)}get isShuttingDown(){return this.Ba}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.ja(),this.Wa(e)}enterRestrictedMode(e){if(!this.Ba){this.Ba=!0,this.Ka=e||!1;const n=td();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.Qa)}}enqueue(e){if(this.ja(),this.Ba)return new Promise(()=>{});const n=new er;return this.Wa(()=>this.Ba&&this.Ka?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.$a.push(e),this.za()))}async za(){if(this.$a.length!==0){try{await this.$a[0](),this.$a.shift(),this.No.reset()}catch(e){if(!Fa(e))throw e;q("AsyncQueue","Operation failed with retryable error: "+e)}this.$a.length>0&&this.No.Ro(()=>this.za())}}Wa(e){const n=this.Fa.then(()=>(this.qa=!0,e().catch(r=>{this.Ua=r,this.qa=!1;const i=function(s){let o=s.message||"";return s.stack&&(o=s.stack.includes(s.message)?s.stack:s.message+`
`+s.stack),o}(r);throw Mr("INTERNAL UNHANDLED ERROR: ",i),r}).then(r=>(this.qa=!1,r))));return this.Fa=n,n}enqueueAfterDelay(e,n,r){this.ja(),this.Ga.indexOf(e)>-1&&(n=0);const i=Fm.createAndSchedule(this,e,n,r,s=>this.Ha(s));return this.La.push(i),i}ja(){this.Ua&&ie()}verifyOperationInProgress(){}async Ja(){let e;do e=this.Fa,await e;while(e!==this.Fa)}Ya(e){for(const n of this.La)if(n.timerId===e)return!0;return!1}Xa(e){return this.Ja().then(()=>{this.La.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.La)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Ja()})}Za(e){this.Ga.push(e)}Ha(e){const n=this.La.indexOf(e);this.La.splice(n,1)}}function s0(t){return function(e,n){if(typeof e!="object"||e===null)return!1;const r=e;for(const i of n)if(i in r&&typeof r[i]=="function")return!0;return!1}(t,["next","error","complete"])}class Ur extends Gm{constructor(e,n,r){super(e,n,r),this.type="firestore",this._queue=new J2,this._persistenceKey="name"in e?e.name:"[DEFAULT]"}_terminate(){return this._firestoreClient||fT(this),this._firestoreClient.terminate()}}function Z2(t=v1()){return tm(t,"firestore").getImmediate()}function Xc(t){return t._firestoreClient||fT(t),t._firestoreClient.verifyNotTerminated(),t._firestoreClient}function fT(t){var e;const n=t._freezeSettings(),r=function(i,s,o,a){return new A$(i,s,o,a.host,a.ssl,a.experimentalForceLongPolling,a.experimentalAutoDetectLongPolling,a.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,n);t._firestoreClient=new H2(t._authCredentials,t._appCheckCredentials,t._queue,r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jc{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new H(C.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Ht(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class As{constructor(e){this._byteString=e}static fromBase64String(e){try{return new As(St.fromBase64String(e))}catch(n){throw new H(C.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new As(St.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qm{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ym{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new H(C.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new H(C.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return _e(this._lat,e._lat)||_e(this._long,e._long)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eU=/^__.*__$/;class tU{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new Fs(e,this.data,this.fieldMask,n,this.fieldTransforms):new Wc(e,this.data,n,this.fieldTransforms)}}class pT{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new Fs(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function mT(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw ie()}}class Xm{constructor(e,n,r,i,s,o){this.settings=e,this.databaseId=n,this.M=r,this.ignoreUndefinedProperties=i,s===void 0&&this.tc(),this.fieldTransforms=s||[],this.fieldMask=o||[]}get path(){return this.settings.path}get ec(){return this.settings.ec}nc(e){return new Xm(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.M,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}sc(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.nc({path:r,ic:!1});return i.rc(e),i}oc(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.nc({path:r,ic:!1});return i.tc(),i}uc(e){return this.nc({path:void 0,ic:!0})}ac(e){return Bu(e,this.settings.methodName,this.settings.cc||!1,this.path,this.settings.hc)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}tc(){if(this.path)for(let e=0;e<this.path.length;e++)this.rc(this.path.get(e))}rc(e){if(e.length===0)throw this.ac("Document fields must not be empty");if(mT(this.ec)&&eU.test(e))throw this.ac('Document fields cannot begin and end with "__"')}}class nU{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.M=r||qc(e)}lc(e,n,r,i=!1){return new Xm({ec:e,methodName:n,hc:r,path:Ht.emptyPath(),ic:!1,cc:i},this.databaseId,this.M,this.ignoreUndefinedProperties)}}function Jm(t){const e=t._freezeSettings(),n=qc(t._databaseId);return new nU(t._databaseId,!!e.ignoreUndefinedProperties,n)}function rU(t,e,n,r,i,s={}){const o=t.lc(s.merge||s.mergeFields?2:0,e,n,i);Zm("Data must be an object, but it was:",o,r);const a=gT(r,o);let l,u;if(s.merge)l=new sa(o.fieldMask),u=o.fieldTransforms;else if(s.mergeFields){const c=[];for(const h of s.mergeFields){const d=Pf(e,h,n);if(!o.contains(d))throw new H(C.INVALID_ARGUMENT,`Field '${d}' is specified in your field mask but missing from your input data.`);yT(c,d)||c.push(d)}l=new sa(c),u=o.fieldTransforms.filter(h=>l.covers(h.field))}else l=null,u=o.fieldTransforms;return new tU(new rn(a),l,u)}class Zc extends Qm{_toFieldTransform(e){if(e.ec!==2)throw e.ec===1?e.ac(`${this._methodName}() can only appear at the top level of your update data`):e.ac(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Zc}}function iU(t,e,n,r){const i=t.lc(1,e,n);Zm("Data must be an object, but it was:",i,r);const s=[],o=rn.empty();Di(r,(l,u)=>{const c=eg(e,l,n);u=Ot(u);const h=i.oc(c);if(u instanceof Zc)s.push(c);else{const d=Ha(u,h);d!=null&&(s.push(c),o.set(c,d))}});const a=new sa(s);return new pT(o,a,i.fieldTransforms)}function sU(t,e,n,r,i,s){const o=t.lc(1,e,n),a=[Pf(e,r,n)],l=[i];if(s.length%2!=0)throw new H(C.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let d=0;d<s.length;d+=2)a.push(Pf(e,s[d])),l.push(s[d+1]);const u=[],c=rn.empty();for(let d=a.length-1;d>=0;--d)if(!yT(u,a[d])){const v=a[d];let p=l[d];p=Ot(p);const _=o.oc(v);if(p instanceof Zc)u.push(v);else{const L=Ha(p,_);L!=null&&(u.push(v),c.set(v,L))}}const h=new sa(u);return new pT(c,h,o.fieldTransforms)}function oU(t,e,n,r=!1){return Ha(n,t.lc(r?4:3,e))}function Ha(t,e){if(vT(t=Ot(t)))return Zm("Unsupported field value:",e,t),gT(t,e);if(t instanceof Qm)return function(n,r){if(!mT(r.ec))throw r.ac(`${n._methodName}() can only be used with update() and set()`);if(!r.path)throw r.ac(`${n._methodName}() is not currently supported inside arrays`);const i=n._toFieldTransform(r);i&&r.fieldTransforms.push(i)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.ic&&e.ec!==4)throw e.ac("Nested arrays are not supported");return function(n,r){const i=[];let s=0;for(const o of n){let a=Ha(o,r.uc(s));a==null&&(a={nullValue:"NULL_VALUE"}),i.push(a),s++}return{arrayValue:{values:i}}}(t,e)}return function(n,r){if((n=Ot(n))===null)return{nullValue:"NULL_VALUE"};if(typeof n=="number")return Y$(r.M,n);if(typeof n=="boolean")return{booleanValue:n};if(typeof n=="string")return{stringValue:n};if(n instanceof Date){const i=it.fromDate(n);return{timestampValue:Uu(r.M,i)}}if(n instanceof it){const i=new it(n.seconds,1e3*Math.floor(n.nanoseconds/1e3));return{timestampValue:Uu(r.M,i)}}if(n instanceof Ym)return{geoPointValue:{latitude:n.latitude,longitude:n.longitude}};if(n instanceof As)return{bytesValue:jE(r.M,n._byteString)};if(n instanceof Nt){const i=r.databaseId,s=n.firestore._databaseId;if(!s.isEqual(i))throw r.ac(`Document reference is for database ${s.projectId}/${s.database} but should be for database ${i.projectId}/${i.database}`);return{referenceValue:Lm(n.firestore._databaseId||r.databaseId,n._key.path)}}throw r.ac(`Unsupported field value: ${Yc(n)}`)}(t,e)}function gT(t,e){const n={};return _E(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Di(t,(r,i)=>{const s=Ha(i,e.sc(r));s!=null&&(n[r]=s)}),{mapValue:{fields:n}}}function vT(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof it||t instanceof Ym||t instanceof As||t instanceof Nt||t instanceof Qm)}function Zm(t,e,n){if(!vT(n)||!function(r){return typeof r=="object"&&r!==null&&(Object.getPrototypeOf(r)===Object.prototype||Object.getPrototypeOf(r)===null)}(n)){const r=Yc(n);throw r==="an object"?e.ac(t+" a custom object"):e.ac(t+" "+r)}}function Pf(t,e,n){if((e=Ot(e))instanceof Jc)return e._internalPath;if(typeof e=="string")return eg(t,e);throw Bu("Field path arguments must be of type string or ",t,!1,void 0,n)}const aU=new RegExp("[~\\*/\\[\\]]");function eg(t,e,n){if(e.search(aU)>=0)throw Bu(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new Jc(...e.split("."))._internalPath}catch{throw Bu(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function Bu(t,e,n,r,i){const s=r&&!r.isEmpty(),o=i!==void 0;let a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let l="";return(s||o)&&(l+=" (found",s&&(l+=` in field ${r}`),o&&(l+=` in document ${i}`),l+=")"),new H(C.INVALID_ARGUMENT,a+t+l)}function yT(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wT{constructor(e,n,r,i,s){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new Nt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new lU(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(tg("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class lU extends wT{data(){return super.data()}}function tg(t,e){return typeof e=="string"?eg(t,e):e instanceof Jc?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class go{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class ST extends wT{constructor(e,n,r,i,s,o){super(e,n,r,i,o),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Bl(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(tg("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class Bl extends ST{data(e={}){return super.data(e)}}class _T{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new go(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new Bl(this._firestore,this._userDataWriter,r.key,r,new go(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new H(C.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(r,i){if(r._snapshot.oldDocs.isEmpty()){let s=0;return r._snapshot.docChanges.map(o=>({type:"added",doc:new Bl(r._firestore,r._userDataWriter,o.doc.key,o.doc,new go(r._snapshot.mutatedKeys.has(o.doc.key),r._snapshot.fromCache),r.query.converter),oldIndex:-1,newIndex:s++}))}{let s=r._snapshot.oldDocs;return r._snapshot.docChanges.filter(o=>i||o.type!==3).map(o=>{const a=new Bl(r._firestore,r._userDataWriter,o.doc.key,o.doc,new go(r._snapshot.mutatedKeys.has(o.doc.key),r._snapshot.fromCache),r.query.converter);let l=-1,u=-1;return o.type!==0&&(l=s.indexOf(o.doc.key),s=s.delete(o.doc.key)),o.type!==1&&(s=s.add(o.doc),u=s.indexOf(o.doc.key)),{type:uU(o.type),doc:a,oldIndex:l,newIndex:u}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function uU(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return ie()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ET(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new H(C.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class cU{}function o0(t,...e){for(const n of e)t=n._apply(t);return t}class hU extends cU{constructor(e,n,r){super(),this._c=e,this.wc=n,this.mc=r,this.type="where"}_apply(e){const n=Jm(e.firestore),r=function(i,s,o,a,l,u,c){let h;if(l.isKeyField()){if(u==="array-contains"||u==="array-contains-any")throw new H(C.INVALID_ARGUMENT,`Invalid Query. You can't perform '${u}' queries on documentId().`);if(u==="in"||u==="not-in"){u0(c,u);const v=[];for(const p of c)v.push(l0(a,i,p));h={arrayValue:{values:v}}}else h=l0(a,i,c)}else u!=="in"&&u!=="not-in"&&u!=="array-contains-any"||u0(c,u),h=oU(o,s,c,u==="in"||u==="not-in");const d=Mt.create(l,u,h);return function(v,p){if(p.S()){const L=CE(v);if(L!==null&&!L.isEqual(p.field))throw new H(C.INVALID_ARGUMENT,`Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '${L.toString()}' and '${p.field.toString()}'`);const m=IE(v);m!==null&&dU(v,p.field,m)}const _=function(L,m){for(const f of L.filters)if(m.indexOf(f.op)>=0)return f.op;return null}(v,function(L){switch(L){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(p.op));if(_!==null)throw _===p.op?new H(C.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${p.op.toString()}' filter.`):new H(C.INVALID_ARGUMENT,`Invalid query. You cannot use '${p.op.toString()}' filters with '${_.toString()}' filters.`)}(i,d),d}(e._query,"where",n,e.firestore._databaseId,this._c,this.wc,this.mc);return new js(e.firestore,e.converter,function(i,s){const o=i.filters.concat([s]);return new Ua(i.path,i.collectionGroup,i.explicitOrderBy.slice(),o,i.limit,i.limitType,i.startAt,i.endAt)}(e._query,r))}}function a0(t,e,n){const r=e,i=tg("where",t);return new hU(i,r,n)}function l0(t,e,n){if(typeof(n=Ot(n))=="string"){if(n==="")throw new H(C.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!NE(e)&&n.indexOf("/")!==-1)throw new H(C.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(Le.fromString(n));if(!Q.isDocumentKey(r))throw new H(C.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return Ly(t,new Q(r))}if(n instanceof Nt)return Ly(t,n._key);throw new H(C.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Yc(n)}.`)}function u0(t,e){if(!Array.isArray(t)||t.length===0)throw new H(C.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`);if(t.length>10)throw new H(C.INVALID_ARGUMENT,`Invalid Query. '${e.toString()}' filters support a maximum of 10 elements in the value array.`)}function dU(t,e,n){if(!n.isEqual(e))throw new H(C.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${e.toString()}' and so you must also use '${e.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${n.toString()}' instead.`)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fU{convertValue(e,n="none"){switch(Si(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Qe(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(ks(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 10:return this.convertObject(e.mapValue,n);default:throw ie()}}convertObject(e,n){const r={};return Di(e.fields,(i,s)=>{r[i]=this.convertValue(s,n)}),r}convertGeoPoint(e){return new Ym(Qe(e.latitude),Qe(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=TE(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(oa(e));default:return null}}convertTimestamp(e){const n=$r(e);return new it(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=Le.fromString(e);Ae(qE(r));const i=new Rs(r.get(1),r.get(3)),s=new Q(r.popFirst(5));return i.isEqual(n)||Mr(`Document ${s} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pU(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hn(t){t=gn(t,Nt);const e=gn(t.firestore,Ur);return Q2(Xc(e),t._key).then(n=>kT(e,t,n))}class ng extends fU{constructor(e){super(),this.firestore=e}convertBytes(e){return new As(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Nt(this.firestore,null,n)}}function c0(t){t=gn(t,js);const e=gn(t.firestore,Ur),n=Xc(e),r=new ng(e);return ET(t._query),Y2(n,t._query).then(i=>new _T(e,r,t,i))}function rg(t,e,n){t=gn(t,Nt);const r=gn(t.firestore,Ur),i=pU(t.converter,e,n);return ig(r,[rU(Jm(r),"setDoc",t._key,i,t.converter!==null,n).toMutation(t._key,xr.none())])}function Oi(t,e,n,...r){t=gn(t,Nt);const i=gn(t.firestore,Ur),s=Jm(i);let o;return o=typeof(e=Ot(e))=="string"||e instanceof Jc?sU(s,"updateDoc",t._key,e,n,r):iU(s,"updateDoc",t._key,e),ig(i,[o.toMutation(t._key,xr.exists(!0))])}function TT(t){return ig(gn(t.firestore,Ur),[new UE(t._key,xr.none())])}function h0(t,...e){var n,r,i;t=Ot(t);let s={includeMetadataChanges:!1},o=0;typeof e[o]!="object"||s0(e[o])||(s=e[o],o++);const a={includeMetadataChanges:s.includeMetadataChanges};if(s0(e[o])){const h=e[o];e[o]=(n=h.next)===null||n===void 0?void 0:n.bind(h),e[o+1]=(r=h.error)===null||r===void 0?void 0:r.bind(h),e[o+2]=(i=h.complete)===null||i===void 0?void 0:i.bind(h)}let l,u,c;if(t instanceof Nt)u=gn(t.firestore,Ur),c=Bc(t._key.path),l={next:h=>{e[o]&&e[o](kT(u,t,h))},error:e[o+1],complete:e[o+2]};else{const h=gn(t,js);u=gn(h.firestore,Ur),c=h._query;const d=new ng(u);l={next:v=>{e[o]&&e[o](new _T(u,d,h,v))},error:e[o+1],complete:e[o+2]},ET(t._query)}return function(h,d,v,p){const _=new qm(p),L=new Wm(d,_,v);return h.asyncQueue.enqueueAndForget(async()=>zm(await Fu(h),L)),()=>{_.Aa(),h.asyncQueue.enqueueAndForget(async()=>jm(await Fu(h),L))}}(Xc(u),c,a,l)}function ig(t,e){return function(n,r){const i=new er;return n.asyncQueue.enqueueAndForget(async()=>b2(await G2(n),r,i)),i.promise}(Xc(t),e)}function kT(t,e,n){const r=n.docs.get(e._key),i=new ng(t);return new ST(t,i,e._key,r,new go(n.hasPendingWrites,n.fromCache),e.converter)}(function(t,e=!0){(function(n){Vs=n})(Na),_s(new mi("firestore",(n,{options:r})=>{const i=n.getProvider("app").getImmediate(),s=new Ur(i,new _$(n.getProvider("auth-internal")),new R$(n.getProvider("app-check-internal")));return r=Object.assign({useFetchStreams:e},r),s._setSettings(r),s},"PUBLIC")),Ar(Cy,"3.4.9",t),Ar(Cy,"3.4.9","esm2017")})();var mU="firebase",gU="9.8.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Ar(mU,gU,"app");function sg(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function RT(){return{["dependent-sdk-initialized-before-auth"]:"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const vU=RT,IT=new Ia("auth","Firebase",RT());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const d0=new Jp("@firebase/auth");function zl(t,...e){d0.logLevel<=Se.ERROR&&d0.error(`Auth (${Na}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Un(t,...e){throw og(t,...e)}function Pn(t,...e){return og(t,...e)}function CT(t,e,n){const r=Object.assign(Object.assign({},vU()),{[e]:n});return new Ia("auth","Firebase",r).create(e,{appName:t.name})}function yU(t,e,n){const r=n;if(!(e instanceof r))throw r.name!==e.constructor.name&&Un(t,"argument-error"),CT(t,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function og(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return IT.create(t,...e)}function re(t,e,...n){if(!t)throw og(e,...n)}function Xn(t){const e="INTERNAL ASSERTION FAILED: "+t;throw zl(e),new Error(e)}function or(t,e){t||Xn(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const f0=new Map;function Jn(t){or(t instanceof Function,"Expected a class definition");let e=f0.get(t);return e?(or(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,f0.set(t,e),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wU(t,e){const n=tm(t,"auth");if(n.isInitialized()){const i=n.getImmediate(),s=n.getOptions();if(Tu(s,e!=null?e:{}))return i;Un(i,"already-initialized")}return n.initialize({options:e})}function SU(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(Jn);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mf(){var t;return typeof self!="undefined"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function _U(){return p0()==="http:"||p0()==="https:"}function p0(){var t;return typeof self!="undefined"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function EU(){return typeof navigator!="undefined"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(_U()||h1()||"connection"in navigator)?navigator.onLine:!0}function TU(){if(typeof navigator=="undefined")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wa{constructor(e,n){this.shortDelay=e,this.longDelay=n,or(n>e,"Short delay should be less than long delay!"),this.isMobile=c1()||d1()}get(){return EU()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ag(t,e){or(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NT{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self!="undefined"&&"fetch"in self)return self.fetch;Xn("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self!="undefined"&&"Headers"in self)return self.Headers;Xn("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self!="undefined"&&"Response"in self)return self.Response;Xn("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kU={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RU=new Wa(3e4,6e4);function IU(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function eh(t,e,n,r,i={}){return AT(t,i,async()=>{let s={},o={};r&&(e==="GET"?o=r:s={body:JSON.stringify(r)});const a=Ca(Object.assign({key:t.config.apiKey},o)).slice(1),l=await t._getAdditionalHeaders();return l["Content-Type"]="application/json",t.languageCode&&(l["X-Firebase-Locale"]=t.languageCode),NT.fetch()(xT(t,t.config.apiHost,n,a),Object.assign({method:e,headers:l,referrerPolicy:"no-referrer"},s))})}async function AT(t,e,n){t._canInitEmulator=!1;const r=Object.assign(Object.assign({},kU),e);try{const i=new NU(t),s=await Promise.race([n(),i.promise]);i.clearNetworkTimeout();const o=await s.json();if("needConfirmation"in o)throw nd(t,"account-exists-with-different-credential",o);if(s.ok&&!("errorMessage"in o))return o;{const a=s.ok?o.errorMessage:o.error.message,[l,u]=a.split(" : ");if(l==="FEDERATED_USER_ID_ALREADY_LINKED")throw nd(t,"credential-already-in-use",o);if(l==="EMAIL_EXISTS")throw nd(t,"email-already-in-use",o);const c=r[l]||l.toLowerCase().replace(/[_\s]+/g,"-");if(u)throw CT(t,c,u);Un(t,c)}}catch(i){if(i instanceof Ai)throw i;Un(t,"network-request-failed")}}async function CU(t,e,n,r,i={}){const s=await eh(t,e,n,r,i);return"mfaPendingCredential"in s&&Un(t,"multi-factor-auth-required",{_serverResponse:s}),s}function xT(t,e,n,r){const i=`${e}${n}?${r}`;return t.config.emulator?ag(t.config,i):`${t.config.apiScheme}://${i}`}class NU{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(Pn(this.auth,"network-request-failed")),RU.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function nd(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=Pn(t,e,r);return i.customData._tokenResponse=n,i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function AU(t,e){return eh(t,"POST","/v1/accounts:delete",e)}async function xU(t,e){return eh(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Po(t){if(!!t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function DU(t,e=!1){const n=Ot(t),r=await n.getIdToken(e),i=lg(r);re(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const s=typeof i.firebase=="object"?i.firebase:void 0,o=s==null?void 0:s.sign_in_provider;return{claims:i,token:r,authTime:Po(rd(i.auth_time)),issuedAtTime:Po(rd(i.iat)),expirationTime:Po(rd(i.exp)),signInProvider:o||null,signInSecondFactor:(s==null?void 0:s.sign_in_second_factor)||null}}function rd(t){return Number(t)*1e3}function lg(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return zl("JWT malformed, contained fewer than 3 sections"),null;try{const i=Gb(n);return i?JSON.parse(i):(zl("Failed to decode base64 JWT payload"),null)}catch(i){return zl("Caught error parsing JWT payload as JSON",i),null}}function LU(t){const e=lg(t);return re(e,"internal-error"),re(typeof e.exp!="undefined","internal-error"),re(typeof e.iat!="undefined","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ha(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof Ai&&bU(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function bU({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PU{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){!this.isRunning||(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const i=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DT{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Po(this.lastLoginAt),this.creationTime=Po(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function zu(t){var e;const n=t.auth,r=await t.getIdToken(),i=await ha(t,xU(n,{idToken:r}));re(i==null?void 0:i.users.length,n,"internal-error");const s=i.users[0];t._notifyReloadListener(s);const o=!((e=s.providerUserInfo)===null||e===void 0)&&e.length?OU(s.providerUserInfo):[],a=$U(t.providerData,o),l=t.isAnonymous,u=!(t.email&&s.passwordHash)&&!(a!=null&&a.length),c=l?u:!1,h={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:a,metadata:new DT(s.createdAt,s.lastLoginAt),isAnonymous:c};Object.assign(t,h)}async function MU(t){const e=Ot(t);await zu(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function $U(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function OU(t){return t.map(e=>{var{providerId:n}=e,r=sg(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function UU(t,e){const n=await AT(t,{},async()=>{const r=Ca({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:s}=t.config,o=xT(t,i,"/v1/token",`key=${s}`),a=await t._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",NT.fetch()(o,{method:"POST",headers:a,body:r})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class da{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){re(e.idToken,"internal-error"),re(typeof e.idToken!="undefined","internal-error"),re(typeof e.refreshToken!="undefined","internal-error");const n="expiresIn"in e&&typeof e.expiresIn!="undefined"?Number(e.expiresIn):LU(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}async getToken(e,n=!1){return re(!this.accessToken||this.refreshToken,e,"user-token-expired"),!n&&this.accessToken&&!this.isExpired?this.accessToken:this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:i,expiresIn:s}=await UU(e,n);this.updateTokensAndExpiration(r,i,Number(s))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:i,expirationTime:s}=n,o=new da;return r&&(re(typeof r=="string","internal-error",{appName:e}),o.refreshToken=r),i&&(re(typeof i=="string","internal-error",{appName:e}),o.accessToken=i),s&&(re(typeof s=="number","internal-error",{appName:e}),o.expirationTime=s),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new da,this.toJSON())}_performRefresh(){return Xn("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hr(t,e){re(typeof t=="string"||typeof t=="undefined","internal-error",{appName:e})}class ai{constructor(e){var{uid:n,auth:r,stsTokenManager:i}=e,s=sg(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new PU(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new DT(s.createdAt||void 0,s.lastLoginAt||void 0)}async getIdToken(e){const n=await ha(this,this.stsTokenManager.getToken(this.auth,e));return re(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return DU(this,e)}reload(){return MU(this)}_assign(e){this!==e&&(re(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){return new ai(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}))}_onReload(e){re(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await zu(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){const e=await this.getIdToken();return await ha(this,AU(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,i,s,o,a,l,u,c;const h=(r=n.displayName)!==null&&r!==void 0?r:void 0,d=(i=n.email)!==null&&i!==void 0?i:void 0,v=(s=n.phoneNumber)!==null&&s!==void 0?s:void 0,p=(o=n.photoURL)!==null&&o!==void 0?o:void 0,_=(a=n.tenantId)!==null&&a!==void 0?a:void 0,L=(l=n._redirectEventId)!==null&&l!==void 0?l:void 0,m=(u=n.createdAt)!==null&&u!==void 0?u:void 0,f=(c=n.lastLoginAt)!==null&&c!==void 0?c:void 0,{uid:g,emailVerified:E,isAnonymous:k,providerData:A,stsTokenManager:T}=n;re(g&&T,e,"internal-error");const N=da.fromJSON(this.name,T);re(typeof g=="string",e,"internal-error"),hr(h,e.name),hr(d,e.name),re(typeof E=="boolean",e,"internal-error"),re(typeof k=="boolean",e,"internal-error"),hr(v,e.name),hr(p,e.name),hr(_,e.name),hr(L,e.name),hr(m,e.name),hr(f,e.name);const K=new ai({uid:g,auth:e,email:d,emailVerified:E,displayName:h,isAnonymous:k,photoURL:p,phoneNumber:v,tenantId:_,stsTokenManager:N,createdAt:m,lastLoginAt:f});return A&&Array.isArray(A)&&(K.providerData=A.map(V=>Object.assign({},V))),L&&(K._redirectEventId=L),K}static async _fromIdTokenResponse(e,n,r=!1){const i=new da;i.updateFromServerResponse(n);const s=new ai({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return await zu(s),s}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LT{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}LT.type="NONE";const m0=LT;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jl(t,e,n){return`firebase:${t}:${e}:${n}`}class ls{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:i,name:s}=this.auth;this.fullUserKey=jl(this.userKey,i.apiKey,s),this.fullPersistenceKey=jl("persistence",i.apiKey,s),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?ai._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new ls(Jn(m0),e,r);const i=(await Promise.all(n.map(async u=>{if(await u._isAvailable())return u}))).filter(u=>u);let s=i[0]||Jn(m0);const o=jl(r,e.config.apiKey,e.name);let a=null;for(const u of n)try{const c=await u._get(o);if(c){const h=ai._fromJSON(e,c);u!==s&&(a=h),s=u;break}}catch{}const l=i.filter(u=>u._shouldAllowMigration);return!s._shouldAllowMigration||!l.length?new ls(s,e,r):(s=l[0],a&&await s._set(o,a.toJSON()),await Promise.all(n.map(async u=>{if(u!==s)try{await u._remove(o)}catch{}})),new ls(s,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function g0(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(MT(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(bT(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(OT(e))return"Blackberry";if(UT(e))return"Webos";if(ug(e))return"Safari";if((e.includes("chrome/")||PT(e))&&!e.includes("edge/"))return"Chrome";if($T(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function bT(t=ut()){return/firefox\//i.test(t)}function ug(t=ut()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function PT(t=ut()){return/crios\//i.test(t)}function MT(t=ut()){return/iemobile/i.test(t)}function $T(t=ut()){return/android/i.test(t)}function OT(t=ut()){return/blackberry/i.test(t)}function UT(t=ut()){return/webos/i.test(t)}function th(t=ut()){return/iphone|ipad|ipod/i.test(t)}function VU(t=ut()){var e;return th(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function FU(){return f1()&&document.documentMode===10}function VT(t=ut()){return th(t)||$T(t)||UT(t)||OT(t)||/windows phone/i.test(t)||MT(t)}function BU(){try{return!!(window&&window!==window.top)}catch{return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function FT(t,e=[]){let n;switch(t){case"Browser":n=g0(ut());break;case"Worker":n=`${g0(ut())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Na}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zU{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=s=>new Promise((o,a)=>{try{const l=e(s);o(l)}catch(l){a(l)}});r.onAbort=n,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r.message})}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jU{constructor(e,n,r){this.app=e,this.heartbeatServiceProvider=n,this.config=r,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new v0(this),this.idTokenSubscription=new v0(this),this.beforeStateQueue=new zU(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=IT,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=r.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Jn(n)),this._initializationPromise=this.queue(async()=>{var r,i;if(!this._deleted&&(this.persistenceManager=await ls.create(this,e),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((i=this.currentUser)===null||i===void 0?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUser(e){var n;const r=await this.assertedPersistence.getCurrentUser();let i=r,s=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const o=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,a=i==null?void 0:i._redirectEventId,l=await this.tryRedirectSignIn(e);(!o||o===a)&&(l==null?void 0:l.user)&&(i=l.user,s=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(s)try{await this.beforeStateQueue.runMiddleware(i)}catch(o){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return re(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await zu(e)}catch(n){if(n.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=TU()}async _delete(){this._deleted=!0}async updateCurrentUser(e){const n=e?Ot(e):null;return n&&re(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&re(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0)}setPersistence(e){return this.queue(async()=>{await this.assertedPersistence.setPersistence(Jn(e))})}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new Ia("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&Jn(e)||this._popupRedirectResolver;re(n,this,"argument-error"),this.redirectPersistenceManager=await ls.create(this,[Jn(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};const s=typeof n=="function"?n:n.next.bind(n),o=this._isInitialized?Promise.resolve():this._initializationPromise;return re(o,this,"internal-error"),o.then(()=>s(this.currentUser)),typeof n=="function"?e.addObserver(n,r,i):e.addObserver(n)}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&(this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh()),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return re(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=FT(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={["X-Client-Version"]:this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());return r&&(n["X-Firebase-Client"]=r),n}}function cg(t){return Ot(t)}class v0{constructor(e){this.auth=e,this.observer=null,this.addObserver=iP(n=>this.observer=n)}get next(){return re(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BT{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return Xn("not implemented")}_getIdTokenResponse(e){return Xn("not implemented")}_linkToIdToken(e,n){return Xn("not implemented")}_getReauthenticationResolver(e){return Xn("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function us(t,e){return CU(t,"POST","/v1/accounts:signInWithIdp",IU(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HU="http://localhost";class ki extends BT{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new ki(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):Un("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i}=n,s=sg(n,["providerId","signInMethod"]);if(!r||!i)return null;const o=new ki(r,i);return o.idToken=s.idToken||void 0,o.accessToken=s.accessToken||void 0,o.secret=s.secret,o.nonce=s.nonce,o.pendingToken=s.pendingToken||null,o}_getIdTokenResponse(e){const n=this.buildRequest();return us(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,us(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,us(e,n)}buildRequest(){const e={requestUri:HU,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=Ca(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hg{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ka extends hg{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vr extends Ka{constructor(){super("facebook.com")}static credential(e){return ki._fromParams({providerId:vr.PROVIDER_ID,signInMethod:vr.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return vr.credentialFromTaggedObject(e)}static credentialFromError(e){return vr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return vr.credential(e.oauthAccessToken)}catch{return null}}}vr.FACEBOOK_SIGN_IN_METHOD="facebook.com";vr.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kn extends Ka{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return ki._fromParams({providerId:Kn.PROVIDER_ID,signInMethod:Kn.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return Kn.credentialFromTaggedObject(e)}static credentialFromError(e){return Kn.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return Kn.credential(n,r)}catch{return null}}}Kn.GOOGLE_SIGN_IN_METHOD="google.com";Kn.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yr extends Ka{constructor(){super("github.com")}static credential(e){return ki._fromParams({providerId:yr.PROVIDER_ID,signInMethod:yr.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return yr.credentialFromTaggedObject(e)}static credentialFromError(e){return yr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return yr.credential(e.oauthAccessToken)}catch{return null}}}yr.GITHUB_SIGN_IN_METHOD="github.com";yr.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wr extends Ka{constructor(){super("twitter.com")}static credential(e,n){return ki._fromParams({providerId:wr.PROVIDER_ID,signInMethod:wr.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return wr.credentialFromTaggedObject(e)}static credentialFromError(e){return wr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return wr.credential(n,r)}catch{return null}}}wr.TWITTER_SIGN_IN_METHOD="twitter.com";wr.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xs{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,i=!1){const s=await ai._fromIdTokenResponse(e,r,i),o=y0(r);return new xs({user:s,providerId:o,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const i=y0(r);return new xs({user:e,providerId:i,_tokenResponse:r,operationType:n})}}function y0(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ju extends Ai{constructor(e,n,r,i){var s;super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,ju.prototype),this.customData={appName:e.name,tenantId:(s=e.tenantId)!==null&&s!==void 0?s:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new ju(e,n,r,i)}}function zT(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(s=>{throw s.code==="auth/multi-factor-auth-required"?ju._fromErrorAndOperation(t,s,e,r):s})}async function WU(t,e,n=!1){const r=await ha(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return xs._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function KU(t,e,n=!1){const{auth:r}=t,i="reauthenticate";try{const s=await ha(t,zT(r,i,e,t),n);re(s.idToken,r,"internal-error");const o=lg(s.idToken);re(o,r,"internal-error");const{sub:a}=o;return re(t.uid===a,r,"user-mismatch"),xs._forOperation(t,i,s)}catch(s){throw(s==null?void 0:s.code)==="auth/user-not-found"&&Un(r,"user-mismatch"),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function qU(t,e,n=!1){const r="signIn",i=await zT(t,r,e),s=await xs._fromIdTokenResponse(t,r,i);return n||await t._updateCurrentUser(s.user),s}function GU(t){return Ot(t).signOut()}const Hu="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jT{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Hu,"1"),this.storage.removeItem(Hu),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function QU(){const t=ut();return ug(t)||th(t)}const YU=1e3,XU=10;class HT extends jT{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=QU()&&BU(),this.fallbackToPolling=VT(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),i=this.localCache[n];r!==i&&e(n,i,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((o,a,l)=>{this.notifyListeners(o,l)});return}const r=e.key;if(n?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const o=this.storage.getItem(r);if(e.newValue!==o)e.newValue!==null?this.storage.setItem(r,e.newValue):this.storage.removeItem(r);else if(this.localCache[r]===e.newValue&&!n)return}const i=()=>{const o=this.storage.getItem(r);!n&&this.localCache[r]===o||this.notifyListeners(r,o)},s=this.storage.getItem(r);FU()&&s!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,XU):i()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},YU)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}HT.type="LOCAL";const JU=HT;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WT extends jT{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}WT.type="SESSION";const KT=WT;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ZU(t){return Promise.all(t.map(async e=>{try{const n=await e;return{fulfilled:!0,value:n}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nh{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(i=>i.isListeningto(e));if(n)return n;const r=new nh(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:i,data:s}=n.data,o=this.handlersMap[i];if(!(o!=null&&o.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:i});const a=Array.from(o).map(async u=>u(n.origin,s)),l=await ZU(a);n.ports[0].postMessage({status:"done",eventId:r,eventType:i,response:l})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}nh.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dg(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eV{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const i=typeof MessageChannel!="undefined"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let s,o;return new Promise((a,l)=>{const u=dg("",20);i.port1.start();const c=setTimeout(()=>{l(new Error("unsupported_event"))},r);o={messageChannel:i,onMessage(h){const d=h;if(d.data.eventId===u)switch(d.data.status){case"ack":clearTimeout(c),s=setTimeout(()=>{l(new Error("timeout"))},3e3);break;case"done":clearTimeout(s),a(d.data.response);break;default:clearTimeout(c),clearTimeout(s),l(new Error("invalid_response"));break}}},this.handlers.add(o),i.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:u,data:n},[i.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mn(){return window}function tV(t){Mn().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qT(){return typeof Mn().WorkerGlobalScope!="undefined"&&typeof Mn().importScripts=="function"}async function nV(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function rV(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function iV(){return qT()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GT="firebaseLocalStorageDb",sV=1,Wu="firebaseLocalStorage",QT="fbase_key";class qa{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function rh(t,e){return t.transaction([Wu],e?"readwrite":"readonly").objectStore(Wu)}function oV(){const t=indexedDB.deleteDatabase(GT);return new qa(t).toPromise()}function $f(){const t=indexedDB.open(GT,sV);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(Wu,{keyPath:QT})}catch(i){n(i)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(Wu)?e(r):(r.close(),await oV(),e(await $f()))})})}async function w0(t,e,n){const r=rh(t,!0).put({[QT]:e,value:n});return new qa(r).toPromise()}async function aV(t,e){const n=rh(t,!1).get(e),r=await new qa(n).toPromise();return r===void 0?null:r.value}function S0(t,e){const n=rh(t,!0).delete(e);return new qa(n).toPromise()}const lV=800,uV=3;class YT{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await $f(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>uV)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return qT()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=nh._getInstance(iV()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await nV(),!this.activeServiceWorker)return;this.sender=new eV(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);!r||((e=r[0])===null||e===void 0?void 0:e.fulfilled)&&((n=r[0])===null||n===void 0?void 0:n.value.includes("keyChanged"))&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||rV()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await $f();return await w0(e,Hu,"1"),await S0(e,Hu),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>w0(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>aV(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>S0(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const s=rh(i,!1).getAll();return new qa(s).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;for(const{fbase_key:i,value:s}of e)r.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(s)&&(this.notifyListeners(i,s),n.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!r.has(i)&&(this.notifyListeners(i,null),n.push(i));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),lV)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}YT.type="LOCAL";const cV=YT;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hV(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}function dV(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{const s=Pn("internal-error");s.customData=i,n(s)},r.type="text/javascript",r.charset="UTF-8",hV().appendChild(r)})}function fV(t){return`__${t}${Math.floor(Math.random()*1e6)}`}new Wa(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function XT(t,e){return e?Jn(e):(re(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fg extends BT{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return us(e,this._buildIdpRequest())}_linkToIdToken(e,n){return us(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return us(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function pV(t){return qU(t.auth,new fg(t),t.bypassAuthState)}function mV(t){const{auth:e,user:n}=t;return re(n,e,"internal-error"),KU(n,new fg(t),t.bypassAuthState)}async function gV(t){const{auth:e,user:n}=t;return re(n,e,"internal-error"),WU(n,new fg(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JT{constructor(e,n,r,i,s=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:i,tenantId:s,error:o,type:a}=e;if(o){this.reject(o);return}const l={auth:this.auth,requestUri:n,sessionId:r,tenantId:s||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(a)(l))}catch(u){this.reject(u)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return pV;case"linkViaPopup":case"linkViaRedirect":return gV;case"reauthViaPopup":case"reauthViaRedirect":return mV;default:Un(this.auth,"internal-error")}}resolve(e){or(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){or(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vV=new Wa(2e3,1e4);async function yV(t,e,n){const r=cg(t);yU(t,e,hg);const i=XT(r,n);return new ni(r,"signInViaPopup",e,i).executeNotNull()}class ni extends JT{constructor(e,n,r,i,s){super(e,n,i,s),this.provider=r,this.authWindow=null,this.pollId=null,ni.currentPopupAction&&ni.currentPopupAction.cancel(),ni.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return re(e,this.auth,"internal-error"),e}async onExecution(){or(this.filter.length===1,"Popup operations only handle one event");const e=dg();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Pn(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(Pn(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,ni.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if(!((r=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Pn(this.auth,"popup-closed-by-user"))},2e3);return}this.pollId=window.setTimeout(e,vV.get())};e()}}ni.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wV="pendingRedirect",Hl=new Map;class SV extends JT{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=Hl.get(this.auth._key());if(!e){try{const r=await _V(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}Hl.set(this.auth._key(),e)}return this.bypassAuthState||Hl.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function _V(t,e){const n=kV(e),r=TV(t);if(!await r._isAvailable())return!1;const i=await r._get(n)==="true";return await r._remove(n),i}function EV(t,e){Hl.set(t._key(),e)}function TV(t){return Jn(t._redirectPersistence)}function kV(t){return jl(wV,t.config.apiKey,t.name)}async function RV(t,e,n=!1){const r=cg(t),i=XT(r,e),o=await new SV(r,i,n).execute();return o&&!n&&(delete o.user._redirectEventId,await r._persistUserIfCurrent(o.user),await r._setRedirectUser(null,e)),o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IV=10*60*1e3;class CV{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!NV(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!ZT(e)){const i=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(Pn(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=IV&&this.cachedEventUids.clear(),this.cachedEventUids.has(_0(e))}saveEventToCache(e){this.cachedEventUids.add(_0(e)),this.lastProcessedEventTime=Date.now()}}function _0(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function ZT({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function NV(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return ZT(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function AV(t,e={}){return eh(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xV=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,DV=/^https?/;async function LV(t){if(t.config.emulator)return;const{authorizedDomains:e}=await AV(t);for(const n of e)try{if(bV(n))return}catch{}Un(t,"unauthorized-domain")}function bV(t){const e=Mf(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const o=new URL(t);return o.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&o.hostname===r}if(!DV.test(n))return!1;if(xV.test(t))return r===t;const i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PV=new Wa(3e4,6e4);function E0(){const t=Mn().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function MV(t){return new Promise((e,n)=>{var r,i,s;function o(){E0(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{E0(),n(Pn(t,"network-request-failed"))},timeout:PV.get()})}if(!((i=(r=Mn().gapi)===null||r===void 0?void 0:r.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((s=Mn().gapi)===null||s===void 0)&&s.load)o();else{const a=fV("iframefcb");return Mn()[a]=()=>{gapi.load?o():n(Pn(t,"network-request-failed"))},dV(`https://apis.google.com/js/api.js?onload=${a}`).catch(l=>n(l))}}).catch(e=>{throw Wl=null,e})}let Wl=null;function $V(t){return Wl=Wl||MV(t),Wl}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OV=new Wa(5e3,15e3),UV="__/auth/iframe",VV="emulator/auth/iframe",FV={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},BV=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function zV(t){const e=t.config;re(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?ag(e,VV):`https://${t.config.authDomain}/${UV}`,r={apiKey:e.apiKey,appName:t.name,v:Na},i=BV.get(t.config.apiHost);i&&(r.eid=i);const s=t._getFrameworks();return s.length&&(r.fw=s.join(",")),`${n}?${Ca(r).slice(1)}`}async function jV(t){const e=await $V(t),n=Mn().gapi;return re(n,t,"internal-error"),e.open({where:document.body,url:zV(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:FV,dontclear:!0},r=>new Promise(async(i,s)=>{await r.restyle({setHideOnLeave:!1});const o=Pn(t,"network-request-failed"),a=Mn().setTimeout(()=>{s(o)},OV.get());function l(){Mn().clearTimeout(a),i(r)}r.ping(l).then(l,()=>{s(o)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HV={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},WV=500,KV=600,qV="_blank",GV="http://localhost";class T0{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function QV(t,e,n,r=WV,i=KV){const s=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString();let a="";const l=Object.assign(Object.assign({},HV),{width:r.toString(),height:i.toString(),top:s,left:o}),u=ut().toLowerCase();n&&(a=PT(u)?qV:n),bT(u)&&(e=e||GV,l.scrollbars="yes");const c=Object.entries(l).reduce((d,[v,p])=>`${d}${v}=${p},`,"");if(VU(u)&&a!=="_self")return YV(e||"",a),new T0(null);const h=window.open(e||"",a,c);re(h,t,"popup-blocked");try{h.focus()}catch{}return new T0(h)}function YV(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XV="__/auth/handler",JV="emulator/auth/handler";function k0(t,e,n,r,i,s){re(t.config.authDomain,t,"auth-domain-config-required"),re(t.config.apiKey,t,"invalid-api-key");const o={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:Na,eventId:i};if(e instanceof hg){e.setDefaultLanguage(t.languageCode),o.providerId=e.providerId||"",rP(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(const[l,u]of Object.entries(s||{}))o[l]=u}if(e instanceof Ka){const l=e.getScopes().filter(u=>u!=="");l.length>0&&(o.scopes=l.join(","))}t.tenantId&&(o.tid=t.tenantId);const a=o;for(const l of Object.keys(a))a[l]===void 0&&delete a[l];return`${ZV(t)}?${Ca(a).slice(1)}`}function ZV({config:t}){return t.emulator?ag(t,JV):`https://${t.authDomain}/${XV}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const id="webStorageSupport";class eF{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=KT,this._completeRedirectFn=RV,this._overrideRedirectResult=EV}async _openPopup(e,n,r,i){var s;or((s=this.eventManagers[e._key()])===null||s===void 0?void 0:s.manager,"_initialize() not called before _openPopup()");const o=k0(e,n,r,Mf(),i);return QV(e,o,dg())}async _openRedirect(e,n,r,i){return await this._originValidation(e),tV(k0(e,n,r,Mf(),i)),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:i,promise:s}=this.eventManagers[n];return i?Promise.resolve(i):(or(s,"If manager is not set, promise should be"),s)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await jV(e),r=new CV(e);return n.register("authEvent",i=>(re(i==null?void 0:i.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(id,{type:id},i=>{var s;const o=(s=i==null?void 0:i[0])===null||s===void 0?void 0:s[id];o!==void 0&&n(!!o),Un(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=LV(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return VT()||ug()||th()}}const tF=eF;var R0="@firebase/auth",I0="0.20.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nF{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{var i;e(((i=r)===null||i===void 0?void 0:i.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);!n||(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){re(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rF(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}function iF(t){_s(new mi("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),{apiKey:s,authDomain:o}=r.options;return((a,l)=>{re(s&&!s.includes(":"),"invalid-api-key",{appName:a.name}),re(!(o!=null&&o.includes(":")),"argument-error",{appName:a.name});const u={apiKey:s,authDomain:o,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:FT(t)},c=new jU(a,l,u);return SU(c,n),c})(r,i)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),_s(new mi("auth-internal",e=>{const n=cg(e.getProvider("auth").getImmediate());return(r=>new nF(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Ar(R0,I0,rF(t)),Ar(R0,I0,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sF(t=v1()){const e=tm(t,"auth");return e.isInitialized()?e.getImmediate():wU(t,{popupRedirectResolver:tF,persistence:[cV,JU,KT]})}iF("Browser");const oF={apiKey:"AIzaSyAU6p_V8CJ69QegoN0zlgnNpc7NIICs0JA",authDomain:"quasar-73bd6.firebaseapp.com",projectId:"quasar-73bd6",storageBucket:"quasar-73bd6.appspot.com",messagingSenderId:"211126134976",appId:"1:211126134976:web:8b653c5b8b931914dfe525",measurementId:"G-5CC44JH7WR"};rM(oF);const ek=new Kn;ek.setCustomParameters({prompt:"select_account"});const tk=sF(),tn=Z2(),aF=async t=>{let e=await yV(tk,ek);if(e.user){t({loggedIn:!0,currentUser:{name:e.user.displayName,id:e.user.uid,imageUrl:e.user.photoURL}}),Ji(tn,"users");const n=en(tn,"users",e.user.uid);return(await Hn(n)).exists()||await rg(n,{name:e.user.displayName,id:e.user.uid,imageUrl:e.user.photoURL,decks:[]}),!0}return!1},lF=async t=>{console.log("Trying to sign out."),await GU(tk),t({loggedIn:!1,currentUser:{name:"",id:"",imageUrl:""}})};function Kl(t,e){j.exports.useEffect(()=>{function n(r){t.current&&!t.current.contains(r.target)&&e()}return document.addEventListener("mousedown",n),()=>{document.removeEventListener("mousedown",n)}},[t])}var pg={exports:{}},ih={};/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var uF=j.exports,cF=Symbol.for("react.element"),hF=Symbol.for("react.fragment"),dF=Object.prototype.hasOwnProperty,fF=uF.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,pF={key:!0,ref:!0,__self:!0,__source:!0};function nk(t,e,n){var r,i={},s=null,o=null;n!==void 0&&(s=""+n),e.key!==void 0&&(s=""+e.key),e.ref!==void 0&&(o=e.ref);for(r in e)dF.call(e,r)&&!pF.hasOwnProperty(r)&&(i[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)i[r]===void 0&&(i[r]=e[r]);return{$$typeof:cF,type:t,key:s,ref:o,props:i,_owner:fF.current}}ih.Fragment=hF;ih.jsx=nk;ih.jsxs=nk;pg.exports=ih;const P=pg.exports.jsx,ke=pg.exports.jsxs;function mF({setActive:t,selectedDeckRef:e,setInAModal:n,inAModal:r}){const[i,s]=j.exports.useState(""),[o,a]=j.exports.useState(""),[l,u]=j.exports.useState(!1),c=j.exports.useRef();return Kl(c,()=>{u(!1),n(!1)}),ke("div",{className:"w-100 min-h-[4rem] bg-zinc-700 flex border-t-[2px] border-zinc-600 text-zinc-300 text-center",children:[P("div",{className:"flex-1 flex justify-center items-center",onClick:()=>t("due"),children:"Scadenta astazi"}),P("div",{ref:c,id:"defaultModal","aria-hidden":"true",className:`${l?"scale-100":"scale-0"} transition-all duration-300 overflow-x-hidden absolute top-[50%] left-[50%] z-50 w-3/4 h-1/2 translate-x-[-50%] translate-y-[-50%] max-w-lg max-h-[24rem] bg-zinc-700 rounded-lg shadow-2xl`,onClick:()=>n(!0),children:ke("div",{className:"relative p-4 w-full max-w-2xl h-full flex flex-col",children:[P("div",{className:"relative w-full text-center border-b-2 pb-2 border-b-zinc-500",children:"Adaugati un card nou"}),ke("div",{className:"relative flex flex-col flex-1",children:[P("textarea",{value:i,onChange:h=>s(h.target.value),placeholder:"Fata",className:"resize-none flex-1 my-2 p-2 rounded-sm bg-zinc-800 focus:outline-none text-sm"}),P("textarea",{value:o,onChange:h=>a(h.target.value),placeholder:"Spate",className:"resize-none flex-1 my-2 p-2 rounded-sm bg-zinc-800 focus:outline-none text-sm"})]}),P("div",{className:"flex justify-center items-center",children:P("button",{onClick:async()=>{if(e!=null){const h=en(Ji(e,"cards"));await rg(h,{level:0,front:i,back:o,dueOn:it.fromDate(new Date(Date.now())),id:h.id,deck:e})}s(""),a(""),u(!1),n(!1)},className:"relative inline-flex items-center justify-center p-0.5 overflow-hidden text-sm font-medium text-gray-900 rounded-lg group bg-gradient-to-br from-pink-500 to-orange-400 group-hover:from-pink-500 group-hover:to-orange-400 hover:text-white dark:text-white focus:ring-4 focus:outline-none focus:ring-pink-200 dark:focus:ring-pink-800",children:P("span",{className:"relative px-5 py-2.5 transition-all ease-in duration-75 bg-zinc-700 rounded-md group-hover:bg-opacity-0",children:"Adaugati cardul"})})})]})}),P("div",{className:"flex-1 flex justify-center items-center",type:"button",onClick:()=>{e!==null&&!r&&(u(!0),n(!0))},children:"+"}),P("div",{className:"flex-1 flex justify-center items-center",onClick:()=>t("new"),children:"Carduri noi"})]})}const rk=Hb({key:"user",default:{loggedIn:!1,currentUser:{name:"",id:"",imageUrl:""}}});function vo({highlighted:t,colour:e,children:n,onClick:r}){return t?P("div",{children:"no"}):P("button",{type:"button",className:`scale-[95%] border-[3px] m-0
      ${e==="red"&&"text-red-700 hover:text-white border-red-700 hover:bg-red-800 focus:ring-4 focus:outline-none focus:ring-red-300 font-medium rounded-lg text-sm px-5 py-2.5 text-center dark:border-red-500 dark:text-red-500 dark:hover:text-white dark:hover:bg-red-600 dark:focus:ring-red-900"||e==="green"&&"text-green-700 hover:text-white border-green-700 hover:bg-green-800 focus:ring-4 focus:outline-none focus:ring-green-300 font-medium rounded-lg text-sm px-5 py-2.5 text-center dark:border-green-500 dark:text-green-500 dark:hover:text-white dark:hover:bg-green-600 dark:focus:ring-green-800"||e==="blue"&&"text-blue-700 hover:text-white border-blue-700 hover:bg-blue-800 focus:ring-4 focus:outline-none focus:ring-blue-300 font-medium rounded-lg text-sm px-5 py-2.5 text-center dark:border-blue-500 dark:text-blue-500 dark:hover:text-white dark:hover:bg-blue-600 dark:focus:ring-blue-800"}`,onClick:r,children:n})}function gF({sidebarRef:t,sidebarOpen:e,activeTab:n,setActiveTab:r,decks:i,selectedDeckId:s,setSelectedDeckId:o,signOutUser:a,inAModal:l,setInAModal:u,setShowDeckModal:c,setSidebarOpen:h,user:d,setUser:v}){return P("div",{ref:t,className:`${e?"w-[85%]":"w-0"} bg-gradient-to-r from-zinc-800 to-zinc-900 h-screen absolute z-10 top-0 left-0 overflow-x-hidden transition-all duration-300 flex flex-col`,children:ke("div",{className:"text-zinc-200",children:[ke("div",{className:"flex items-center justify-between border-b-[1px] border-b-zinc-700 p-4",children:[P("h1",{className:"",children:d.currentUser.name}),P(vo,{highlighted:!1,colour:"red",onClick:()=>a(v),children:"Iesi din cont"})]}),ke("div",{className:"pt-4",children:[P("h1",{className:"px-4 text-xs font-medium text-zinc-400 pb-2",children:"PAGINI"}),ke("div",{className:`px-8 py-2 w-full transition-all duration-[125ms] ${n=="dashboard"?"bg-zinc-700":""}`,onClick:()=>r("dashboard"),children:[P("img",{className:""}),P("h1",{className:"text-sm",children:"Dashboard"})]}),ke("div",{className:`px-8 py-2 w-full transition-all duration-[125ms] ${n=="due"?"bg-zinc-700":""}`,onClick:()=>r("due"),children:[P("img",{className:""}),P("h1",{className:"text-sm",children:"Scadenta astazi"})]}),ke("div",{className:`px-8 py-2 w-full transition-all duration-[125ms] ${n=="new"?"bg-zinc-700":""}`,onClick:()=>r("new"),children:[P("img",{className:""}),P("h1",{className:"text-sm",children:"Carduri noi"})]})]}),ke("div",{className:"mt-8",children:[P("h1",{className:"px-4 text-xs font-medium text-zinc-400",children:"DECKS"}),i.map(p=>ke("div",{className:`px-8 py-2 w-full flex justify-between transition-all duration-[125ms] ${s==p.id?"bg-zinc-700":""}`,children:[P("span",{onClick:()=>o(p.id),children:p.name}),P("span",{className:"text-red-500 pl-4",onClick:async()=>{const _=en(tn,"users",d.currentUser.id),L=await Hn(_);await Oi(_,{decks:L.data().decks.filter(m=>m.id!==p.id)}),await TT(en(tn,"decks",p.id)),r(null)},children:"X"})]},p.id)),P("div",{className:"px-8 py-2 w-full transition-all duration-[125ms]",onClick:()=>{l||(u(!0),c(!0),h(!1))},children:"+ Adauagati un pachet"})]})]})})}var vF="/Quasar/assets/menu-icon.1ec808b8.svg";function yF({sidebarOpen:t,activeTab:e,dueCards:n,newCards:r,selectedDeckIndex:i,setSidebarOpen:s,decks:o}){return ke("div",{className:"w-100 min-h-[4rem] flex items-center justify-between px-4 border-b-4 border-b-zinc-600",children:[P("div",{className:"flex-1",children:P("img",{onClick:()=>s(!t),src:vF,className:"max-h-[2rem] scale-75"})}),ke("div",{className:"flex-1 text-center",children:[e=="due"&&ke("div",{children:[n.length," carduri cu scadenta astazi"]}),e=="new"&&ke("div",{children:[r.length," carduri noi"]}),e=="dashboard"&&P("div",{children:"Dashboard"}),e=="deck"&&i!==-1&&o.length>0&&P("div",{children:o[i].name})]}),P("div",{className:"flex-1"})]})}function wF({cards:t,inAModal:e,setSelectedCardId:n,setSelectedCard:r,setShowCardModal:i,setInAModal:s}){return P("div",{className:"h-full flex flex-col",children:P("div",{className:"flex-1 grid grid-cols-1 gap-3 pt-4 overflow-y-scroll",children:t.map(o=>P("div",{onClick:()=>{e||(n(o.id),r(o),i(!0),s(!0))},className:"w-full h-full max-h-32 bg-zinc-700 rounded-md min-h-[100px] p-3 break-all",children:o.front},o.id))})})}function SF({newCards:t,inAModal:e,sidebarOpen:n,setSelectedCardId:r,setSelectedCard:i,setShowCardModal:s,setInAModal:o}){return P("div",{className:"grid grid-cols-1 gap-3 pt-4 break-all",children:t.map(a=>P("div",{onClick:()=>{!e&&!n&&(r(a.id),i(a),s(!0),o(!0))},className:"w-full h-full max-h-32 bg-zinc-700 rounded-md min-h-[100px] p-3 break-all",children:a.front},a.id))})}function _F({dueCards:t,inAModal:e,sidebarOpen:n,setSelectedCardId:r,setSelectedCard:i,setShowCardModal:s,setInAModal:o}){return P("div",{className:"grid grid-cols-1 gap-3 pt-4 break-all",children:t.map(a=>P("div",{onClick:()=>{!e&&!n&&(r(a.id),i(a),s(!0),o(!0))},className:"w-full h-full max-h-32 bg-zinc-700 rounded-md min-h-[100px] p-3 break-all",children:a.front},a.id))})}function EF(){const[t,e]=o1(rk),[n,r]=j.exports.useState("due"),[i,s]=j.exports.useState(!1),o=j.exports.useRef(null);Kl(o,()=>{K||s(!1)});const[a,l]=j.exports.useState([]),[u,c]=j.exports.useState([]),[h,d]=j.exports.useState(null),[v,p]=j.exports.useState(-1),[_,L]=j.exports.useState(null),[m,f]=j.exports.useState([]),[g,E]=j.exports.useState(null),[k,A]=j.exports.useState(null),[T,N]=j.exports.useState(null),[K,V]=j.exports.useState(!1),[ye,Me]=j.exports.useState(!1),le=j.exports.useRef(),[Ee,xt]=j.exports.useState(!1),Je=j.exports.useRef(),[Ze,M]=j.exports.useState(""),[Y,X]=j.exports.useState(""),[we,S]=j.exports.useState(""),R=VS();let I=()=>"";const W=async()=>{let ue=-1;for(let pe=0;pe<m.length;pe++)if(m[pe].id===g){ue=pe;break}ue!=-1&&await TT(en(tn,"decks",h,"cards",g)),Me(!1),V(!1)},[$,ne]=j.exports.useState([]),se=async()=>{const ue=[],pe=en(tn,"users",t.currentUser.id),Zt=(await Hn(pe)).data().decks;for(const wn of Zt){const Bn=Ji(wn,"cards"),zn=o0(Bn,a0("level","==",0)),Kr=(await c0(zn)).docs;for(const Hs of Kr){const ur=Hs.data(),Ws=(await Hn(ur.deck)).data();(fe==null||Ws.id===fe.id)&&ue.push(ur)}}ne(ue)},[G,Ce]=j.exports.useState([]),We=async()=>{const ue=[],pe=en(tn,"users",t.currentUser.id),Zt=(await Hn(pe)).data().decks;for(const wn of Zt){const Bn=Ji(wn,"cards"),zn=o0(Bn,a0("dueOn","<",new Date(Date.now()))),Kr=(await c0(zn)).docs;for(const Hs of Kr){const ur=Hs.data(),Ws=(await Hn(ur.deck)).data();ur.level>0&&(fe==null||Ws.id===fe.id)&&ue.push(ur)}}Ce(ue)},[fe,Re]=j.exports.useState(null),[Xt,Jt]=j.exports.useState(!1),Et=async()=>{const ue=en(tn,"decks",T.deckData.id,"cards",k.id);if(n==="new")await Oi(ue,{level:1}),se();else if(n==="due"){let pe=1;switch(k.level){case 1:pe=1;break;case 2:pe=3;break;case 3:pe=7;break;case 4:pe=15;break;case 5:pe=30;break;case 6:pe=90;break;case 7:pe=180;break;default:pe=200}await Oi(ue,{dueOn:it.fromDate(new Date(Date.now()+pe*24*60*60*1e3))}),We()}Me(!1),V(!1)},st=async()=>{if(n==="due"){const ue=en(tn,"decks",T.deckData.id,"cards",k.id);await Oi(ue,{level:1,dueOn:it.fromDate(new Date(Date.now()+24*60*60*1e3))})}Me(!1),V(!1)};return Kl(le,()=>{Me(!1),V(!1)}),Kl(Je,()=>{xt(!1),V(!1)}),j.exports.useEffect(()=>{if(!t.loggedIn)return R("/auth"),()=>{};const ue=h0(en(tn,"users",t.currentUser.id),async pe=>{const Zt=pe.data().decks,wn=[];for(let Bn=0;Bn<Zt.length;Bn++){const zn=await Hn(Zt[Bn]);wn.push(zn.data())}c(Zt),l(wn)});return()=>{ue!=null&&ue()}},[]),j.exports.useEffect(()=>{(async()=>{if(h!=null){let pe=-1;for(let xe=0;xe<a.length;xe++)if(a[xe].id===h){pe=xe;break}I(),I=h0(Ji(u[pe],"cards"),async xe=>{if(xe!=null){const Zt=[];xe.forEach(wn=>{Zt.push(wn.data())}),f(Zt)}}),r("deck"),p(pe),L(u[pe]),s(!1)}})()},[h]),j.exports.useEffect(()=>{(async()=>{n!=null&&n!="deck"&&(d(null),L(null),s(!1),n=="new"?await se():n=="due"&&await We())})()},[n]),j.exports.useEffect(()=>{(async()=>{if(k!=null){const pe=(await Hn(k.deck)).data(),xe=dt(et({},k),{deckData:pe});N(xe)}})()},[k]),j.exports.useEffect(()=>{(async()=>{n=="new"?await se():n=="due"&&await We()})()},[fe]),j.exports.useEffect(()=>{(async()=>{if(ye)M(k.front),X(k.back);else if(n!=="due"&&n!=="new"){let pe=-1;for(let xe=0;xe<m.length;xe++)if(m[xe].id===g){pe=xe;break}if(pe!==-1){const xe=en(tn,"decks",h,"cards",g);await Oi(xe,{front:Ze,back:Y})}}})()},[ye]),ke("div",{className:"bg-zinc-800 h-screen w-100 text-zinc-200 flex flex-col",children:[!t.loggedIn&&P(FS,{to:"/auth"}),P("div",{ref:Je,id:"defaultModal","aria-hidden":"true",className:`${Ee?"scale-100":"scale-0"} transition-all duration-300 overflow-x-hidden absolute top-[50%] left-[50%] z-50 w-3/4 h-1/2 translate-x-[-50%] translate-y-[-50%] max-w-lg max-h-[24rem] bg-zinc-700 rounded-lg shadow-2xl`,onClick:()=>V(!0),children:ke("div",{className:"relative p-4 w-full max-w-2xl h-full flex flex-col",children:[P("div",{className:"relative w-full border-b-2 pb-2 border-b-zinc-500 flex justify-between items-center",children:P("h1",{className:"text-md font-medium",children:"Creati un pachet nou"})}),ke("div",{className:"flex justify-center items-center flex-col flex-1",children:[P("span",{className:"mb-2",children:"Numele pachetului: "}),P("input",{type:"text",className:"resize-none p-2 rounded-sm bg-zinc-800 focus:outline-none text-sm",value:we,onChange:ue=>S(ue.target.value)}),P("button",{className:"mt-2 relative inline-flex items-center justify-center p-0.5 overflow-hidden text-sm font-medium text-gray-900 rounded-lg group bg-gradient-to-br from-pink-500 to-orange-400 group-hover:from-pink-500 group-hover:to-orange-400 hover:text-white dark:text-white focus:ring-4 focus:outline-none focus:ring-pink-200 dark:focus:ring-pink-800",onClick:async()=>{if(we.length>0){const ue=en(Ji(tn,"decks")),pe=en(tn,"users",t.currentUser.id),xe=await Hn(pe);await rg(ue,{id:ue.id,name:we,owners:[pe],public:!0,link:""}),await Oi(pe,{decks:[...xe.data().decks,ue]}),S(""),xt(!1),V(!1)}},children:P("span",{className:"relative px-5 py-2.5 transition-all ease-in duration-75 bg-zinc-800 rounded-md group-hover:bg-opacity-0",children:"Creati pachetul"})})]})]})}),P(gF,{sidebarRef:o,sidebarOpen:i,activeTab:n,setActiveTab:r,decks:a,selectedDeckId:h,setSelectedDeckId:d,signOutUser:lF,inAModal:K,setInAModal:V,setShowDeckModal:xt,setSidebarOpen:s,user:t,setUser:e}),P(yF,{sidebarOpen:i,setSidebarOpen:s,activeTab:n,dueCards:G,newCards:$,selectedDeckIndex:v,decks:a}),P("div",{className:`bg-black absolute top-0 left-0 h-screen w-screen ${K?"opacity-50 z-10":"opacity-0 -z-10"} transition-all duration-300`}),P("div",{ref:le,id:"cardModal","aria-hidden":"true",className:`${ye?"scale-100":"scale-0"} transition-all duration-300 overflow-x-hidden absolute top-[50%] left-[50%] z-50 w-3/4 h-1/2 translate-x-[-50%] translate-y-[-50%] max-w-lg max-h-[24rem] bg-zinc-700 rounded-lg shadow-2xl`,onClick:()=>V(!0),children:T!=null&&ke("div",{className:"relative p-4 w-full max-w-2xl h-full flex flex-col",children:[ke("div",{className:"relative w-full border-b-2 pb-2 border-b-zinc-500 flex justify-between items-center",children:[P("h1",{children:T.deckData.name}),n!=="due"&&n!=="new"&&P(vo,{highlighted:!1,colour:"red",onClick:W,children:"Stergeti"})]}),k!=null&&ke("div",{className:"flex-1 flex flex-col",children:[P("textarea",{value:Ze,onChange:ue=>n!=="due"&&n!=="new"&&M(ue.target.value),className:"resize-none bg-zinc-800 rounded-md flex-1 mt-4 mb-2 p-2 text-xs text-zinc-400 focus:outline-none"}),P("textarea",{value:Y,onChange:ue=>n!=="due"&&n!=="new"&&X(ue.target.value),className:"resize-none bg-zinc-800 rounded-md flex-1 mt-2 p-2 text-xs text-zinc-400 focus:outline-none"}),(n==="due"||n==="new")&&ke("div",{className:"w-[80%] mx-auto flex justify-between pt-4",children:[P(vo,{highlighted:!1,colour:"green",onClick:Et,children:"Corect"}),P(vo,{highlighted:!1,colour:"red",onClick:st,children:"Gresit"})]})]})]})}),ke("div",{className:"flex-1 p-4 overflow-y-hidden",children:[n=="deck"&&P(wF,{cards:m,inAModal:K,setSelectedCardId:E,setSelectedCard:A,setShowCardModal:Me,setInAModal:V}),n!="deck"&&n!=null&&ke("div",{className:"h-full overflow-y-scroll text-center",children:[P(vo,{highlighted:!1,colour:"blue",onClick:()=>Jt(!Xt),children:fe!==null?fe.name:"Fara filtru"}),P("div",{className:`${Xt?"scale-100":"scale-0 hidden"} mt-2 z-50 bg-white divide-y divide-gray-100 rounded shadow w-44 dark:bg-gray-700 transition-all duration-200 mx-auto`,children:ke("ul",{className:"py-1 text-sm text-gray-700 dark:text-gray-200","aria-labelledby":"dropdownDefault",children:[a.map(ue=>P("li",{className:"block px-4 py-2 hover:bg-gray-100 dark:hover:bg-gray-600 dark:hover:text-white",onClick:()=>{Re(ue),Jt(!1)},children:ue.name},ue.id)),P("li",{className:"block px-4 py-2 hover:bg-gray-100 dark:hover:bg-gray-600 dark:hover:text-white",onClick:()=>{Re(null),Jt(!1)},children:"Fara filtru"},"Don't filter")]})}),n=="new"&&P(SF,{newCards:$,inAModal:K,sidebarOpen:i,setSelectedCardId:E,setSelectedCard:A,setShowCardModal:Me,setInAModal:V}),n=="due"&&P(_F,{dueCards:G,inAModal:K,sidebarOpen:i,setSelectedCardId:E,setSelectedCard:A,setShowCardModal:Me,setInAModal:V})]})]}),P(mF,{setActive:r,selectedDeckRef:_,setInAModal:V,inAModal:K})]})}function TF(){const[t,e]=o1(rk);return ke("div",{className:"h-screen w-100 flex justify-center items-center bg-zinc-800",children:[t.loggedIn&&P(FS,{replace:!0,to:"/"}),P("button",{className:"relative inline-flex items-center justify-center p-0.5 mb-2 mr-2 overflow-hidden text-sm font-medium text-gray-900 rounded-lg group bg-gradient-to-br from-purple-600 to-blue-500 group-hover:from-purple-600 group-hover:to-blue-500 hover:text-white dark:text-white focus:ring-4 focus:outline-none focus:ring-blue-300 dark:focus:ring-blue-800",onClick:()=>{aF(e)},children:P("span",{className:"relative px-5 py-2.5 transition-all ease-in duration-75 bg-white dark:bg-zinc-800 rounded-md group-hover:bg-opacity-0",children:"Autentificare cu Google"})})]})}function kF(){return ke("div",{className:"main",children:[P(Wb,{}),ke(tC,{children:[P(Xd,{index:!0,element:P(EF,{})}),P(Xd,{path:"auth",element:P(TF,{})})]})]})}sd.createRoot(document.getElementById("root")).render(P(Be.StrictMode,{children:P(nC,{basename:"/Quasar",children:P(jb,{children:P(kF,{})})})}));
